<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="zh">
	<title>Blog</title>
	<subtitle>ç”Ÿå‘½æ˜¯ç°è‰²çš„ï¼Œè€Œç†è®ºä¹‹æ ‘å¸¸é’</subtitle>
	<link href="https://longfangsong.github.io/atom.xml" rel="self" type="application/atom+xml"/>
  <link href="https://longfangsong.github.io"/>
	<generator uri="https://www.getzola.org/">Zola</generator>
	<updated>2021-04-25T16:09:46.815+00:00</updated>
	<id>https://longfangsong.github.io/atom.xml</id>
	<entry xml:lang="zh">
		<title>è‡ªåŠ¨é€»è¾‘ç»¼åˆåŸç† â€¢ ç»„åˆé€»è¾‘ä¸ LUT çš„æœ€ç®€å•çš„ç»¼åˆ</title>
		<published>2021-04-25T16:09:46.815+00:00</published>
		<updated>2021-04-25T16:09:46.815+00:00</updated>
		<link href="https://longfangsong.github.io/fpga-sys-1/" type="text/html"/>
		<id>https://longfangsong.github.io/fpga-sys-1/</id>
		<content type="html">&lt;h2 id=&quot;lut&quot;&gt;LUT&lt;&#x2F;h2&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸€åˆ‡çš†æŸ¥è¡¨ã€‚ â€”â€”æˆ‘è‡ªå·±è¯´çš„&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;ç”±äº FPGA çš„åŸºæœ¬ç»“æ„æ˜¯åŸºäº Look Up Table çš„ï¼Œå› æ­¤ FPGA é‡Œå®ç°ç»„åˆé€»è¾‘çš„æ–¹å¼éå¸¸ç®€å•ç²—æš´ï¼Œå°±æ˜¯æŠŠçœŸå€¼è¡¨éå¸¸æš´åŠ›çš„å­˜ä¸‹æ¥ç„¶ååŒ¹é…ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ¯”å¦‚è¯´æœ€ç®€å•çš„ä¸é€»è¾‘ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-verilog&quot; data-lang=&quot;verilog&quot;&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;assign C = A &amp;amp; B;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å…¶çœŸå€¼è¡¨ï¼š&lt;&#x2F;p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;&#x2F;th&gt;&lt;th&gt;0&lt;&#x2F;th&gt;&lt;th&gt;1&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;thead&gt;&lt;tbody&gt;
&lt;tr&gt;&lt;td&gt;0&lt;&#x2F;td&gt;&lt;td&gt;0&lt;&#x2F;td&gt;&lt;td&gt;0&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;1&lt;&#x2F;td&gt;&lt;td&gt;0&lt;&#x2F;td&gt;&lt;td&gt;1&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;&#x2F;tbody&gt;&lt;&#x2F;table&gt;
&lt;p&gt;é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ç”¨ä¸€å°å—å­˜å‚¨å™¨å­˜ä¸‹è¿™å¼ è¡¨ï¼š&lt;&#x2F;p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;åœ°å€&lt;&#x2F;th&gt;&lt;th&gt;å€¼&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;thead&gt;&lt;tbody&gt;
&lt;tr&gt;&lt;td&gt;00&lt;&#x2F;td&gt;&lt;td&gt;0&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;01&lt;&#x2F;td&gt;&lt;td&gt;0&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;10&lt;&#x2F;td&gt;&lt;td&gt;0&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;11&lt;&#x2F;td&gt;&lt;td&gt;1&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;&#x2F;tbody&gt;&lt;&#x2F;table&gt;
&lt;p&gt;è¿™ä¸ªå­˜å‚¨å™¨æ­¤æ—¶å°±æ˜¯ä¸€ä¸ª LUTï¼Œè¾“å…¥ A å’Œ B å°±èƒ½è¾“å‡ºå¯¹åº”é€»è¾‘å‡½æ•°çš„å€¼ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ›´å¤šå˜é‡å’Œæ›´å¤æ‚çš„å¼å­ä¹Ÿæ˜¯åŒç†ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;shi-jian&quot;&gt;å®è·µ&lt;&#x2F;h2&gt;
&lt;p&gt;æˆ‘ä»¬æ¥ç”¨æœ€ç®€å•ç²—æš´çš„æ–¹å¼å®ç°ä¸€ä¸ªæ”¯æŒç®€å•ç»„åˆé€»è¾‘ç”µè·¯ç»¼åˆçš„ç®€å•ç»¼åˆå™¨ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¸ºäº†æ–¹ä¾¿å¿«è‰çŒ›çš„å®ç°å‡ºä¸€ä¸ªèƒ½åŠ¨çš„ç¨‹åºï¼Œæˆ‘ä»¬å°†è¦ç»¼åˆçš„é€»è¾‘å‡½æ•°é™åˆ¶åœ¨ 4 ä¸ªä»¥ä¸‹çš„è¾“å…¥å’Œå•ä¸ªè¾“å‡ºï¼Œè¿™æ ·å°±èƒ½ä½¿ç”¨å•ä¸ª LUT4 ç»¼åˆå‡ºå¯ä»¥åŠ¨çš„æˆæœã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ³¨æ„å®é™…çš„ç»¼åˆå™¨å®ç°æ–¹å¼è‚¯å®šä¸æ˜¯è¿™æ ·æš´åŠ›è§£å‡ºçœŸå€¼è¡¨ç„¶åå°±ç¡¬å¸¦ï¼Œè‚¯å®šæ˜¯æœ‰æ›´å…ˆè¿›çš„æ–¹æ¡ˆçš„ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;mu-biao-wen-jian-ge-shi&quot;&gt;ç›®æ ‡æ–‡ä»¶æ ¼å¼&lt;&#x2F;h3&gt;
&lt;p&gt;ä¸ºäº†æ–¹ä¾¿ä¸Šç¡¬ä»¶ï¼Œæˆ‘ä»¬ç»¼åˆåˆ°çš„ç›®æ ‡æ˜¯ &lt;code&gt;nextpnr-ecp5&lt;&#x2F;code&gt; ä¸­ä½¿ç”¨çš„ json æ–‡ä»¶ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç»è¿‡ä»”ç»†é˜…è¯» &lt;code&gt;yosys&lt;&#x2F;code&gt; ç»¼åˆå‡ºæ¥çš„ json æ–‡ä»¶ä»¥åŠåå¤å®éªŒï¼Œæˆ‘ä»¬å¯ä»¥ç¡®å®šè¿™ä¸ª json æœ€å°éœ€è¦å†™å‡ºå¦‚ä¸‹å†…å®¹ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-json&quot; data-lang=&quot;json&quot;&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;{
    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;creator&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;ç»¼åˆå™¨åç§°å’Œç‰ˆæœ¬ï¼Œå…¶å®ç›®æµ‹å¯ä»¥ä¸å†™&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;,
    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;modules&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Module1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;&amp;lt;å†…å®¹&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;},
        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Module2&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;&amp;lt;å†…å®¹&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;},
    }
}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å…¶ä¸­ module çš„å†…å®¹ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-json&quot; data-lang=&quot;json&quot;&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;ports&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;å¯¹å¤–ç«¯å£åç§°&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;direction&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;input&#x2F;output&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;,
        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;bits&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: [&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;&amp;lt;å¯¹åº”çš„çº¿ç½‘çš„ç¬¬&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;ä¸ªbitçš„id&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;&amp;lt;å¯¹åº”çš„çº¿ç½‘çš„ç¬¬&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;ä¸ªbitçš„id&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;...&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;]
    },
    &lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;...&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;
},
&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;cells&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;å­ç»„ä»¶åç§°&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;type&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;å­ç»„ä»¶ç±»å‹&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;,
        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;parameters&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
            &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;å­ç»„ä»¶å‚æ•°å1&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;å­ç»„ä»¶å‚æ•°å€¼1&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;,
            &lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;...&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;
        },
        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;port_directions&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
            &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;å­ç»„ä»¶ç«¯å£å1&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;input&#x2F;output&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;,
            &lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;...&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;
        },
        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;connections&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
            &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;å­ç»„ä»¶ç«¯å£å1&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: [&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;&amp;lt;å­ç»„ä»¶ç«¯å£&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;è¿æ¥åˆ°çš„çº¿ç½‘çš„ç¬¬&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;ä¸ªbitçš„id&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;&amp;lt;å­ç»„ä»¶ç«¯å£&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;è¿æ¥åˆ°çš„çº¿ç½‘çš„ç¬¬&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;ä¸ªbitçš„id&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;...&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;],
            &lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;...&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;
        }
    }
},
&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;netnames&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;çº¿ç½‘åç§°&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;bits&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: [&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;&amp;lt;å¯¹åº”çš„çº¿ç½‘çš„ç¬¬&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;ä¸ªbitçš„id&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;&amp;lt;å¯¹åº”çš„çº¿ç½‘çš„ç¬¬&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;ä¸ªbitçš„id&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;...&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;]
    },
}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h3 id=&quot;parser&quot;&gt;parser&lt;&#x2F;h3&gt;
&lt;p&gt;ç•¥ï¼Œè§æˆ‘ä»¥å‰æœ‰å…³ parser combinator çš„æ–‡ç« ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ€»ä¹‹æŠŠè¿™æ ·å­çš„è¾“å…¥ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;module Top(a: bit, b: bit) -&amp;gt; bit {
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; a &amp;amp; b;
}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;parse æˆè¿™æ ·çš„ç»“æ„ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;&#x2F;&#x2F; Bracketã€é€»è¾‘å‡½æ•°çš„å®ç°åŒæ™®é€šç¼–ç¨‹è¯­è¨€ï¼Œç•¥
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;pub enum &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;Expression {
    Name(String),
    Bracket(Bracket),
    Not(Not),
    Or(Or),
    And(And),
}
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;pub struct &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;Return(pub Expression);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;pub struct &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;Port {
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;pub &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: String,
}
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;pub struct &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;Module {
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;pub &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: String,
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;pub &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: Vec&amp;lt;Port&amp;gt;,
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;&#x2F;&#x2F; todo: output type
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;pub &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;output&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: Vec&amp;lt;()&amp;gt;,
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;&#x2F;&#x2F; todo: `Statement` instead of `Return`
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;pub &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;statements&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: Vec&amp;lt;Return&amp;gt;,
}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ç„¶åå°†è¡¨è¾¾å¼ç¼–è¯‘æˆå¦‚ä¸‹çš„ LUT4:&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;pub struct &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;LUT4 {
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;pub &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: String,
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;pub &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;initial_value&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;u16&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;,
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;pub &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;input_connections&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;usize&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;; 4],
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;pub &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;output_connections&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;usize&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;,
}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ç¼–è¯‘è¿‡ç¨‹å¦‚ä¸‹ï¼Œä»£ç å¤ªä¸‘ä¸å¥½æ„æ€æ‹¿å‡ºæ¥çœ‹æˆ‘å°±æ”¾ä¼ªä»£ç äº†ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;pub fn &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;compile_expression&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;expression&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: frontend::Expression,
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;context&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: &amp;amp;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;mut&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; Context,
) -&amp;gt; Result&amp;lt;LUT4, ()&amp;gt; {
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;&#x2F;&#x2F; generate initial_value
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;let mut&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; initial_value = &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;;
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;let mut&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; variables = expression.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;variables&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;();
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;while&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; variables.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;len&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;() &amp;lt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;4 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;{
        variables.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;push&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(format!(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;dummy_&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;{}&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;, variables.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;len&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;()));
    }
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; i, (a, b, c, d) in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;tagged_cartesian_product&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(a: (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;), b: (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;), c: (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;), d: (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;)).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;enumerate&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;() {
        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; result = expression.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;evaluate&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(a, b, c, d);
        initial_value |= result &amp;lt;&amp;lt; i;
    }
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;&#x2F;&#x2F; generate input connections
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;let mut&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; connections = [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;usize&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;4&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;];
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(index, variable) in variables.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;enumerate&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;() {
        connections[index] = *context.wires.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;get&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(*variable).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;unwrap&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;();
    }
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; id = context.next_id++;
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; name = format!(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;port&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;{}&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;_LUT4&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;, id);
    context.wires.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;insert&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(format!(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;port&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;{}&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;_LUT4_Z&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;, id), id);
    Ok(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;LUT4 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;{
        name,
        initial_value,
        input_connections: connections,
        output_connections: id,
    })
}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æ€»ä¹‹å°±æ˜¯æš´åŠ›æŠŠæ‰€æœ‰å¯èƒ½å¸¦å…¥ expression æ±‚å‡ºçœŸå€¼è¡¨ï¼Œè¿›è€Œç®—å‡º LUT4 çš„åˆå§‹å€¼ï¼Œå†æ¬¡æé†’è¿™ä¸æ˜¯ç”Ÿäº§ç¯å¢ƒä¸‹çš„åšæ³•ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç„¶åå°±æ˜¯ç”Ÿæˆ JSONï¼Œè¿™é‡Œåªå±•ç¤ºä» LUT4 ç”Ÿæˆ &lt;code&gt;Cell&lt;&#x2F;code&gt; çš„ä»£ç ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;pub struct &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;Cell {
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: String,
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;component_type&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: String,
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;parameters&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: HashMap&amp;lt;String, String&amp;gt;,
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;port_directions&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: HashMap&amp;lt;String, PortDirection&amp;gt;,
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;connections&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: HashMap&amp;lt;String, Vec&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;usize&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;gt;&amp;gt;,
}

&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;impl &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;From&amp;lt;LUT4&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;Cell {
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;fn &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;from&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;lut&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: LUT4) -&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;Self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;{
        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; port_directions = {
            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;let mut&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; m = HashMap::new();
            m.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;insert&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;A&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;to_string&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(), PortDirection::Input);
            m.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;insert&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;B&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;to_string&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(), PortDirection::Input);
            m.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;insert&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;C&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;to_string&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(), PortDirection::Input);
            m.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;insert&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;D&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;to_string&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(), PortDirection::Input);
            m.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;insert&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Z&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;to_string&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(), PortDirection::Output);
            m
        };
        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; parameters = {
            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;let mut&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; m = HashMap::new();
            m.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;insert&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;INIT&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;to_string&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(), format!(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;{:16b}&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;, lut.initial_value));
            m
        };

        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; c = [&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;A&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;, &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;B&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;, &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;C&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;, &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;D&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;]
            .&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;iter&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;()
            .&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;zip&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(lut.input_connections.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;iter&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;())
            .&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;chain&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;([&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Z&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;].&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;iter&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;zip&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(iter::once(&amp;amp;lut.output_connections)));
        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;let mut&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; connections = HashMap::new();
        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(name, &amp;amp;id) in c {
            connections.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;insert&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(name.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;to_string&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(), vec![id]);
        }

        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;Self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;{
            name: lut.name,
            component_type: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;LUT4&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;to_string&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(),
            parameters,
            port_directions,
            connections,
        }
    }
}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å…¶ä»–éƒ¨åˆ†çš„å®ç°ç•¥ï¼Œå”¯ä¸€è¦æ³¨æ„çš„ç‚¹å°±æ˜¯è¿™é‡Œ Serde çš„å®ç°æœ‰äº›æ€ªå¼‚ï¼Œéœ€è¦è‡ªå·±æï¼Œå…·ä½“è§ä»£ç ï¼ˆç­‰æˆ‘å†™çš„å¥½ä¸€ç‚¹å°±å¼€æºï¼‰ï¼Œé‡ç‚¹å°±æ˜¯è¦æ´»ç”¨ &lt;code&gt;collect_map&lt;&#x2F;code&gt; å’Œ &lt;code&gt;serialize_map&lt;&#x2F;code&gt; å°±æ˜¯äº†ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;run-yi-xia-shi-shi&quot;&gt;Run ä¸€ä¸‹è¯•è¯•ï¼&lt;&#x2F;h3&gt;
&lt;p&gt;æˆ‘ä»¬ç”¨æˆ‘ä»¬çš„ç¨‹åºç»¼åˆä¸Šé¢æåˆ°çš„ä»£ç ï¼Œå¯ä»¥å¾—åˆ°ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-json&quot; data-lang=&quot;json&quot;&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;{
    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;creator&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Rosys 0.1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;,
    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;modules&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Top&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
            &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;ports&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
                &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;a&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
                    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;direction&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;,
                    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;bits&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;]
                },
                &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;b&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
                    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;direction&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;,
                    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;bits&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;]
                },
                &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;port4_LUT4_Z&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
                    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;direction&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;output&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;,
                    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;bits&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;4&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;]
                }
            },
            &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;cells&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
                &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;port4_LUT4&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
                    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;type&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;LUT4&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;,
                    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;parameters&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
                        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;INIT&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;1000100010001000&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;
                    },
                    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;port_directions&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
                        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;A&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;,
                        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Z&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;output&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;,
                        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;C&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;,
                        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;B&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;,
                        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;D&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;
                    },
                    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;connections&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
                        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Z&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;4&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;],
                        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;A&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;],
                        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;D&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;],
                        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;B&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;],
                        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;C&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;]
                    }
                }
            },
            &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;netnames&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
                &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;a&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
                    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;bits&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;]
                },
                &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;b&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
                    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;bits&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;]
                },
                &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;port4_LUT4_Z&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
                    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;bits&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;4&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;]
                }
            }
        }
    }
}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ç„¶åå±…ç„¶å°±å¯ä»¥ç”¨ &lt;code&gt;nextpnr-ecp5&lt;&#x2F;code&gt; æ“å‡º &lt;code&gt;config&lt;&#x2F;code&gt; æ–‡ä»¶ï¼Œç„¶åç”¨ &lt;code&gt;ecppack&lt;&#x2F;code&gt; åšå‡º bitï¼Œç„¶åæŠŠå®ƒçƒ§å½•è¿› FPGA é‡Œå±…ç„¶å°±å¯ä»¥ç”¨äº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æˆ‘ä»¬å±…ç„¶è¿™ä¹ˆå®¹æ˜“å°±å†™å‡ºäº†ä¸€ä¸ªèƒ½åŠ¨çš„ç»¼åˆå™¨ã€‚
æ¥ä¸‹æ¥å°†ä¼šä»‹ç»æ›´å¤šé€»è¾‘ç»¼åˆçš„ç›¸å…³å†…å®¹ï¼Œé¢„å®šä¼šå†™æ›´å¤æ‚é€»è¾‘å‡½æ•°çš„ç»¼åˆå’Œæ—¶åºé€»è¾‘ç”µè·¯çš„ç»¼åˆã€‚&lt;&#x2F;p&gt;
</content>
	</entry>
	<entry xml:lang="zh">
		<title>macOS ç”¨æˆ·ä¹Ÿè¦ç© FPGAï¼</title>
		<published>2021-04-24T16:53:12.045+00:00</published>
		<updated>2021-04-24T16:53:12.045+00:00</updated>
		<link href="https://longfangsong.github.io/macos-fpga/" type="text/html"/>
		<id>https://longfangsong.github.io/macos-fpga/</id>
		<content type="html">&lt;p&gt;å†²ç€èƒ½ç”¨å¼€æºå·¥å…·é“¾å…¥äº†ä¸€å— iCESugar-Proï¼Œæœ¬æ¥æƒ³ç€å¦‚æœ macOS ç¯å¢ƒæä¸å®šå°±ä¸‹å®˜æ–¹çš„è™šæ‹Ÿæœºï¼Œç»“æœå±…ç„¶ç»™æˆ‘é…æˆäº†ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;ise-vivado-quartus-de-que-dian&quot;&gt;ISE&#x2F;Vivado&#x2F;Quartus çš„ç¼ºç‚¹&lt;&#x2F;h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ”¶è´¹&lt;&#x2F;p&gt;
&lt;p&gt;æˆ‘æ²¡é’±ã€‚&lt;del&gt;æˆ‘ç”¨ç›—ç‰ˆï¼Œæˆ‘è®©å›½å¤–èµ„æœ¬ä¸»ä¹‰å·¨å¤´äºéº»äº†ï¼Œæˆ‘éª„å‚²ã€‚&lt;&#x2F;del&gt;&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;é™å®šç³»ç»Ÿ&lt;&#x2F;p&gt;
&lt;p&gt;é¦–å…ˆï¼Œæ²¡æœ‰ä¸€ä¸ªæœ‰ macOS æ”¯æŒï¼Œå…¶æ¬¡ Linux æ”¯æŒä¹Ÿä¸ç”šå®Œæ•´ï¼ˆUbuntu è£… ISE èƒ½å¼ºè¡Œè£…ä¸Šï¼Œä½†åŸºæœ¬è·‘ä¸èµ·æ¥ï¼Œå®˜æ–¹æ”¯æŒåˆ—è¡¨é‡Œå¥½åƒåªæœ‰çº¢å¸½ï¼Œä¹Ÿè®¸ centos å¯ä»¥ä½†æˆ‘çœŸçš„ä¸æ˜¯å¾ˆå–œæ¬¢è¿™ä¸ªå‘è¡Œç‰ˆï¼‰ï¼ŒåŸºæœ¬ä¸Šåªæœ‰ Windows èƒ½ç”¨â€¦â€¦&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;å‘½ä»¤è¡Œæ”¯æŒçƒ‚ï¼ˆIDE è¿˜ä¸‘ï¼‰&lt;&#x2F;p&gt;
&lt;p&gt;æˆ‘å°±æ˜¯æƒ³ç”¨ Vim&#x2F;VSCode å†™ Verilog&#x2F;Chisel ç„¶åç”¨ Makefile ç¼–è¯‘å’Œä¸‹è½½å•Šï¼ï¼ï¼
è°æƒ³ç”¨é‚£äº›ä¸ªéš¾çœ‹çš„ä¸å¾—äº†åˆå¡äº¤äº’é€»è¾‘åˆå¥‡æ€ªçš„ IDE å•Šï¼ï¼ï¼
è™½è¯´æŠ€æœ¯ä¸Šè¿™å‡ ä¸ªè®¾è®¡å·¥å…·éƒ½æœ‰å‘½ä»¤è¡Œæ¥å£ï¼Œä½†æ˜¯èµ„æ–™å’Œä¾‹å­å°±åŸºæœ¬æ²¡æœ‰äº†ï¼Œå¥½ä¸å®¹æ˜“çœ‹åˆ°ä¸€ä¸ªå®˜æ–¹çš„æ–‡æ¡£ç„¶åæ‰“å¼€ä¸€çœ‹æ‹¿å‡ åƒä¸ªé€‰é¡¹ç”©ä½ ä¸€è„¸â€¦â€¦&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;å¯¹å­¦ä¹ è‡ªåŠ¨ç»¼åˆåŸç†ç­‰æ²¡æœ‰å¸®åŠ©&lt;&#x2F;p&gt;
&lt;p&gt;çœ‹ä¸äº†ä»£ç ï¼Œå­¦ä¹ ï¼Œå­¦ä¸ªå±ã€‚
ä¸è¿‡è¯´å®è¯æˆ‘æ˜¯å¸Œæœ›æœ‰ä¹¦èƒ½è®²è®²è¿™ä¸ªçš„â€¦â€¦å…‰çœ‹ä»£ç è¿˜æ˜¯å¤ªç—›è‹¦äº†ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h2 id=&quot;kai-yuan-gong-ju-lian&quot;&gt;å¼€æºå·¥å…·é“¾&lt;&#x2F;h2&gt;
&lt;h3 id=&quot;claire-wolf-de-chuan-qi&quot;&gt;&lt;a href=&quot;http:&#x2F;&#x2F;www.clifford.at&#x2F;&quot;&gt;Claire Wolf&lt;&#x2F;a&gt; çš„ä¼ å¥‡&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™ä¸ªäººå°±æ˜¯å¼€æºç¡¬ä»¶ä¸–ç•Œé‡Œçš„ Richard Stallman&lt;sup class=&quot;footnote-reference&quot;&gt;&lt;a href=&quot;#1&quot;&gt;1&lt;&#x2F;a&gt;&lt;&#x2F;sup&gt;ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™ä¸ªäºº 2012 å¹´å‡ ä¹å•æªåŒ¹é©¬åšå‡ºäº†å¼€æº Verilog é€»è¾‘ç»¼åˆå·¥å…· &lt;a href=&quot;http:&#x2F;&#x2F;www.clifford.at&#x2F;yosys&#x2F;&quot;&gt;Yosys&lt;&#x2F;a&gt;ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;2015 å¹´ï¼ˆä¹Ÿæ˜¯å‡ ä¹å•æªåŒ¹é©¬ï¼‰åšå‡ºäº†å¼€æº RISC-V æ ¸ &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;cliffordwolf&#x2F;picorv32&quot;&gt;picorv32&lt;&#x2F;a&gt;ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åŒå¹´å¼€å§‹ &lt;a href=&quot;http:&#x2F;&#x2F;www.clifford.at&#x2F;icestorm&#x2F;&quot;&gt;icestorm&lt;&#x2F;a&gt; é¡¹ç›®ï¼Œå¼€å§‹é’ˆå¯¹ Lattice FPGA æ•´åˆæ•´æ¡å¼€æºå·¥å…·é“¾ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;2018 å¹´ï¼Œå¼€å§‹ FPGA å¸ƒå±€å¸ƒçº¿å·¥å…·é¡¹ç›® &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;YosysHQ&#x2F;nextpnr&quot;&gt;nextpnr&lt;&#x2F;a&gt;ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ€»ä¹‹ä¸€å¥è¯ï¼Œå¼€æº FPGA ç•Œçš„åŸºç¡€è½¯ä»¶åŸºæœ¬ä¸Šæ˜¯è¿™ä¸ªäººä¸€ä¸ªäººæ‰“çš„åŸºç¡€ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;çœ‹å®Œè¿™ä¸ªäººçš„ç»å†ä¹‹åæˆ‘åªæƒ³ç”¨ä¸€ä¸ªè¡¨æƒ…åŒ…è¡¨è¾¾æˆ‘çš„å¿ƒæƒ…ï¼š&lt;&#x2F;p&gt;
&lt;p&gt;æˆ‘ä¹Ÿèƒ½ï¼Œåƒä»–ä¸€æ ·å—.jpg ï¼ˆä¸ä¼š PS æ‰€ä»¥è¡¨æƒ…åŒ…è¯·è‡ªè¡Œè„‘è¡¥ ğŸ˜„ï¼‰&lt;&#x2F;p&gt;
&lt;p&gt;è¯´äº†é‚£ä¹ˆå¤šæˆ‘ä»¬è¿˜æ˜¯çœ‹çœ‹è¿™äº›å·¥å…·æ€ä¹ˆç”¨å§ï¼Œæ¯•ç«Ÿæˆ‘ç°åœ¨ä¹Ÿå°±åªèƒ½ç”¨ç”¨è¿™äº›å·¥å…·äº†ï¼Œç¦»å»å¼€å‘è¿™äº›ä¸œè¥¿è¿˜å¤ªè¿œğŸ˜­ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;yosys-zong-he-gong-ju&quot;&gt;Yosys ç»¼åˆå·¥å…·&lt;&#x2F;h3&gt;
&lt;p&gt;è™½ç„¶è¯´ &lt;code&gt;brew&lt;&#x2F;code&gt; å¯ä»¥è£…ä¸Šï¼Œä½†æ˜¯é‚£ä¸ªç‰ˆæœ¬å¤ªè€äº†ï¼Œå’Œå…¶ä»–å·¥å…·ï¼ˆæ¯”å¦‚ &lt;code&gt;nextpnr&lt;&#x2F;code&gt;ï¼‰é…åˆä½¿ç”¨ä¼šå‡ºé—®é¢˜ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;clone-dai-ma&quot;&gt;clone ä»£ç &lt;&#x2F;h4&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; clone https:&#x2F;&#x2F;github.com&#x2F;YosysHQ&#x2F;yosys.git
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h4 id=&quot;zhuang-yi-lai&quot;&gt;è£…ä¾èµ–&lt;&#x2F;h4&gt;
&lt;p&gt;&lt;code&gt;yosys&lt;&#x2F;code&gt; æä¾›äº† &lt;code&gt;Brewfile&lt;&#x2F;code&gt;ï¼Œåƒå®˜æ–¹è¯´çš„ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;brew&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; tap Homebrew&#x2F;bundle &amp;amp;&amp;amp; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;brew&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; bundle
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å°±å¥½äº†&lt;sup class=&quot;footnote-reference&quot;&gt;&lt;a href=&quot;#2&quot;&gt;2&lt;&#x2F;a&gt;&lt;&#x2F;sup&gt;ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;make&quot;&gt;make&lt;&#x2F;h4&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;make -j&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;(nproc)
make&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; install
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h4 id=&quot;shi-yong&quot;&gt;ä½¿ç”¨&lt;&#x2F;h4&gt;
&lt;p&gt;&lt;code&gt;yosys&lt;&#x2F;code&gt; å¯ä»¥é€šè¿‡ &lt;code&gt;-p&lt;&#x2F;code&gt; å‚æ•°æ¥å—ä¸€ä¸ª â€œç»¼åˆè„šæœ¬â€ï¼Œæˆ–è€…é€šè¿‡ &lt;code&gt;-s&lt;&#x2F;code&gt; æ¥å—ç»¼åˆè„šæœ¬æ–‡ä»¶ï¼Œæˆ–è€…ä¸åŠ ä»»ä½•å‚æ•°çš„è¯å¯ä»¥ç›´æ¥ &lt;code&gt;yosys&lt;&#x2F;code&gt; ä¸€ä¸ªå‘½ä»¤ç›´æ¥ REPL æ‰§è¡Œï¼Œç›®å‰æˆ‘å·²çŸ¥çš„è„šæœ¬å‘½ä»¤æœ‰ï¼š&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;read_verilog&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;p&gt;ç”¨äºè¯»å– verilog æ–‡ä»¶ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;synth_ecp5&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;p&gt;ç”¨äºå®é™…ç»¼åˆï¼Œä¼ å…¥ &lt;code&gt;-json&lt;&#x2F;code&gt; æ¥è·å– json æ ¼å¼çš„è¾“å‡ºã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;ä¾‹å¦‚ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;yosys -p &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;read_verilog blink.v; read_verilog rst_gen.v; synth_ecp5 -json main.json&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æˆ–è€…ä¹Ÿå¯ä»¥å†™æˆï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;yosys -p &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;synth_ecp5 -json main.json&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot; blink.v rst_gen.v
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h3 id=&quot;nextpnr-bu-ju-bu-xian-gong-ju&quot;&gt;nextpnr å¸ƒå±€å¸ƒçº¿å·¥å…·&lt;&#x2F;h3&gt;
&lt;h4 id=&quot;clone-dai-ma-1&quot;&gt;clone ä»£ç &lt;&#x2F;h4&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; clone https:&#x2F;&#x2F;github.com&#x2F;YosysHQ&#x2F;nextpnr.git
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h4 id=&quot;an-zhuang-trellis-zu-jian-yu-gong-ju-ku&quot;&gt;å®‰è£… Trellis ç»„ä»¶ä¸å·¥å…·åº“&lt;&#x2F;h4&gt;
&lt;p&gt;Trellis ç»„ä»¶åº“ä¸å·¥å…·åº“ä¸º nextpnr æä¾›äº† Lattice ECP5 çš„ç»„ä»¶åº“ä»¥åŠç”¨äºç”Ÿæˆ bitstream çš„ &lt;code&gt;ecppack&lt;&#x2F;code&gt; å·¥å…·ã€‚&lt;&#x2F;p&gt;
&lt;h5 id=&quot;clone-dai-ma-2&quot;&gt;clone ä»£ç &lt;&#x2F;h5&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; clone&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt; --recursive&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; https:&#x2F;&#x2F;github.com&#x2F;YosysHQ&#x2F;prjtrellis
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h5 id=&quot;make-1&quot;&gt;make&lt;&#x2F;h5&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;cd&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; libtrellis
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# å°±ç®— sudo äº†ä¹Ÿä¸èƒ½è£…åœ¨ &#x2F;usr é‡Œï¼Œç›´æ¥è·Ÿç€ brew è£… &#x2F;usr&#x2F;local é‡Œå°±è¡Œ
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;cmake -DCMAKE_INSTALL_PREFIX=&#x2F;usr&#x2F;local .
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;make -j&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;(nproc)
sudo&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; make install
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h4 id=&quot;make-2&quot;&gt;make&lt;&#x2F;h4&gt;
&lt;p&gt;åœ¨å…‹éš†ä¸‹æ¥çš„ &lt;code&gt;nextpnr&lt;&#x2F;code&gt; ä»“åº“ä¸‹ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;cmake&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; .&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt; -DARCH&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;=ecp5&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt; -DTRELLIS_INSTALL_PREFIX&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;=&#x2F;usr&#x2F;local
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;make -j&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;(nproc)
sudo&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; make install
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h4 id=&quot;shi-yong-1&quot;&gt;ä½¿ç”¨&lt;&#x2F;h4&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;nextpnr-ecp5&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; --&amp;lt;å‹å·&amp;gt; --package &amp;lt;å°è£…&amp;gt; --json &amp;lt;åˆšåˆšç»¼åˆå‡ºæ¥çš„ JSON&amp;gt; --lpf &amp;lt;å¼•è„šåˆ†é…æ–‡ä»¶&amp;gt; --textcfg &amp;lt;è¾“å‡ºåˆ° config æ–‡ä»¶&amp;gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;iCESugar-Pro ä¸Šçš„ FPGA å‹å·æ˜¯ &lt;code&gt;25k&lt;&#x2F;code&gt;ï¼Œå°è£…æ–¹å¼æ˜¯ &lt;code&gt;CABGA256&lt;&#x2F;code&gt;ã€‚&lt;&#x2F;p&gt;
&lt;h5 id=&quot;lpf-wen-jian&quot;&gt;LPF æ–‡ä»¶&lt;&#x2F;h5&gt;
&lt;p&gt;ä¸»è¦ä½¿ç”¨ä¸‹é¢å‡ ä¸ªå‘½ä»¤ï¼š&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;LOCATE&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-lpf&quot; data-lang=&quot;lpf&quot;&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;LOCATE COMP &amp;quot;&amp;lt;ä»£ç å†…åç§°&amp;gt;&amp;quot; SITE &amp;quot;&amp;lt;ç¡¬ä»¶æ‰‹å†Œä¸Šçš„ç¼–å·&amp;gt;&amp;quot;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ä¾‹å¦‚ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-lpf&quot; data-lang=&quot;lpf&quot;&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;LOCATE COMP &amp;quot;clk&amp;quot; SITE &amp;quot;A1&amp;quot;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;ecppack-bitstream-sheng-cheng-qi&quot;&gt;ecppack bitstream ç”Ÿæˆå™¨&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;code&gt;ecppack&lt;&#x2F;code&gt; æ˜¯ Trellis ç»„ä»¶ä¸å·¥å…·åº“çš„ä¸€éƒ¨åˆ†ï¼Œå‰é¢å·²ç»å®‰è£…å¥½äº†ã€‚&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;ecppack &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;lt;config æ–‡ä»¶&amp;gt; --bit &amp;lt;ç›®æ ‡ .bit æ–‡ä»¶&amp;gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h3 id=&quot;xia-zai&quot;&gt;ä¸‹è½½&lt;&#x2F;h3&gt;
&lt;p&gt;iCESugar-Pro è¿åˆ°ç”µè„‘ä¸Šå°±ä¸€Uç›˜ï¼Œå¯ä»¥ç›´æ¥æ‹–ï¼æ‹½ï¼ä¸‹ï¼è½½ï¼ä½œè€…å¤ª tmd è‰¯å¿ƒäº†ï¼ï¼ï¼&lt;&#x2F;p&gt;
&lt;div class=&quot;footnote-definition&quot; id=&quot;1&quot;&gt;&lt;sup class=&quot;footnote-definition-label&quot;&gt;1&lt;&#x2F;sup&gt;
&lt;p&gt;æ¯” RMS nb çš„æ˜¯ï¼ŒClaire Wolf æ˜¯ä¸€ä½ MTFï¼Œæ”¿æ²»æ­£ç¡®çš„ä¸€åŒ¹ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;div&gt;
&lt;div class=&quot;footnote-definition&quot; id=&quot;2&quot;&gt;&lt;sup class=&quot;footnote-definition-label&quot;&gt;2&lt;&#x2F;sup&gt;
&lt;p&gt;åœ¨ GFW å†…çº¦è€—æ—¶ä¸€ä¸ªä¸–çºªã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;div&gt;
</content>
	</entry>
	<entry xml:lang="zh">
		<title>RoCC RISC-V æ‰©å±•æ–¹æ¡ˆ</title>
		<published>2021-04-19T15:45:33.706+00:00</published>
		<updated>2021-04-19T15:45:33.706+00:00</updated>
		<link href="https://longfangsong.github.io/riscv-rocc/" type="text/html"/>
		<id>https://longfangsong.github.io/riscv-rocc/</id>
		<content type="html">&lt;p&gt;RoCC æ˜¯é€šè¿‡å‘ RISC-V å¤„ç†å™¨æ·»åŠ æ‰©å±•çš„åŠå®˜æ–¹&lt;sup class=&quot;footnote-reference&quot;&gt;&lt;a href=&quot;#1&quot;&gt;1&lt;&#x2F;a&gt;&lt;&#x2F;sup&gt;æ–¹æ¡ˆï¼Œæœ€æ—©ç”¨äº BSD çš„ Rocket-coreã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;rocc-gui-ding-de-kuo-zhan-zhi-ling&quot;&gt;RoCC è§„å®šçš„æ‰©å±•æŒ‡ä»¤&lt;&#x2F;h2&gt;
&lt;p&gt;RoCC ä½¿ç”¨äº† RISCV æ ‡å‡†ä¸­é¢„ç•™çš„æ‰€æœ‰å››ä¸ªæ‰©å±•æ§½ä½ï¼Œå¹¶è§„å®šäº†å¦‚ä¸‹æŒ‡ä»¤æ ¼å¼ï¼š&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;.&#x2F;rocc-inst.png&quot; alt=&quot;RoCC inst&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;å…¶ä¸­ &lt;code&gt;xd&lt;&#x2F;code&gt;ã€&lt;code&gt;xs1&lt;&#x2F;code&gt;ã€&lt;code&gt;xs2&lt;&#x2F;code&gt; åˆ†åˆ«è¡¨ç¤ºå¯¹åº”çš„å¯„å­˜å™¨æ˜¯å¦è¢«ä½¿ç”¨åˆ°äº†ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;rocc-he-cpu-zhi-jian-de-jiao-hu&quot;&gt;RoCC å’Œ CPU ä¹‹é—´çš„äº¤äº’&lt;&#x2F;h2&gt;
&lt;p&gt;RoCC ä¸»è¦é€šè¿‡å¦‚ä¸‹æ¥å£å’Œ CPU è¿›è¡Œäº¤äº’ï¼š&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;CPU é€šè¿‡ &lt;code&gt;Cmd&lt;&#x2F;code&gt; æ¥å£å°†æŒ‡ä»¤å’Œç›¸å…³å¯„å­˜å™¨çš„å€¼å‘é€ç»™ RoCC åŠ é€Ÿå™¨&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;RoCC åŠ é€Ÿå™¨é€šè¿‡ &lt;code&gt;Resp&lt;&#x2F;code&gt; æ¥å£å°†è®¡ç®—ç»“æœï¼ˆè¦å†™å…¥çš„å¯„å­˜å™¨å·å’Œå€¼ï¼‰è¿”å›åˆ° CPU&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;RoCC é€šè¿‡ &lt;code&gt;busy&lt;&#x2F;code&gt; æ ‡è®°åŠ é€Ÿå™¨æ˜¯å¦å¤„äºå¿™çŠ¶æ€&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;RoCC è‡ªèº«ä¹Ÿå¯ä»¥è®¿é—®å†…å­˜ã€å¼•å‘ä¸­æ–­ç­‰&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;div class=&quot;footnote-definition&quot; id=&quot;1&quot;&gt;&lt;sup class=&quot;footnote-definition-label&quot;&gt;1&lt;&#x2F;sup&gt;
&lt;p&gt;æŒ‡ç”± RISC-V äº²çˆ¹ BSD ç ”å‘ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;div&gt;
</content>
	</entry>
	<entry xml:lang="zh">
		<title>å†…è”æ±‡ç¼– cheatsheet</title>
		<published>2021-04-18T07:34:52.996+00:00</published>
		<updated>2021-04-18T07:34:52.996+00:00</updated>
		<link href="https://longfangsong.github.io/inline-asm-cheatsheet/" type="text/html"/>
		<id>https://longfangsong.github.io/inline-asm-cheatsheet/</id>
		<content type="html">&lt;h2 id=&quot;ji-ben-yu-fa-mo-ban&quot;&gt;åŸºæœ¬è¯­æ³•æ¨¡ç‰ˆ&lt;&#x2F;h2&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;asm&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(
    &amp;lt;ä»£ç &amp;gt;:
    &amp;lt;è¾“å‡ºåˆ°å“ªäº›å˜é‡&amp;gt;:
    &amp;lt;ä»å“ªäº›å˜é‡è¾“å…¥&amp;gt;:
    &amp;lt;å‰¯ä½œç”¨ä¼šå½±å“ä»€ä¹ˆ&amp;gt;
)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å…¶ä¸­æ¯ä¸ªå€¼å¦‚æœæœ‰å¤šä¸ªçš„è¯éƒ½æ˜¯ç”¨é€—å·åˆ†éš”ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;shu-ru-shu-chu-bian-liang&quot;&gt;è¾“å…¥è¾“å‡ºå˜é‡&lt;&#x2F;h3&gt;
&lt;p&gt;è¾“å…¥è¾“å‡ºå˜é‡çš„å¸¸ç”¨æ ¼å¼ä¸ºï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;ä¿®é¥°ç¬¦&amp;gt;&amp;lt;çº¦æŸ&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;(&amp;lt;å˜é‡&amp;gt;)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h4 id=&quot;yue-shu&quot;&gt;çº¦æŸ&lt;&#x2F;h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;r&lt;&#x2F;code&gt;
æŒ‡ä»£æŸä¸ªé€šç”¨å¯„å­˜å™¨&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;m&lt;&#x2F;code&gt;
æŒ‡ä»£æŸä¸ªå˜é‡çš„å†…å­˜åœ°å€, åé¢çš„æ‹¬å·å¡«å…¥çš„æ˜¯å˜é‡æœ¬èº«è€Œéå˜é‡åœ°å€&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;i&lt;&#x2F;code&gt;
æŒ‡ä»£æŸä¸ªç«‹å³æ•°&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h4 id=&quot;xiu-shi-fu&quot;&gt;ä¿®é¥°ç¬¦&lt;&#x2F;h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;=&lt;&#x2F;code&gt;
æŒ‡è¿™ä¸ªå˜é‡&#x2F;å¯„å­˜å™¨è¢«å†™å…¥äº†ï¼Œä¸€èˆ¬æ‰€æœ‰è¾“å‡ºå˜é‡éƒ½ä¼šå¸¦ä¸Šè¿™ä¸ªã€‚&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;+&lt;&#x2F;code&gt;
æŒ‡è¿™ä¸ªå˜é‡&#x2F;å¯„å­˜å™¨è¢«è¯»å–å’Œå†™å…¥äº†&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;fu-zuo-yong-hui-ying-xiang-shi-yao&quot;&gt;å‰¯ä½œç”¨ä¼šå½±å“ä»€ä¹ˆ&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™é‡Œä¸€èˆ¬å°±å¡«ä¸€äº›æ ‡è®°å¯„å­˜å™¨å’Œ &lt;code&gt;memory&lt;&#x2F;code&gt;ã€‚&lt;&#x2F;p&gt;
</content>
	</entry>
	<entry xml:lang="zh">
		<title>Hack RISC-V æŒ‡ä»¤é›†</title>
		<published>2021-04-17T07:34:52.996+00:00</published>
		<updated>2021-04-17T07:34:52.996+00:00</updated>
		<link href="https://longfangsong.github.io/hack-riscv-isa/" type="text/html"/>
		<id>https://longfangsong.github.io/hack-riscv-isa/</id>
		<content type="html">&lt;h2 id=&quot;huan-jing&quot;&gt;ç¯å¢ƒ&lt;&#x2F;h2&gt;
&lt;p&gt;æœ¬æ–‡å‡è®¾ç”¨æˆ·ä½¿ç”¨åŸºäº debian çš„ Linux ç³»ç»Ÿï¼Œæœ‰ &lt;code&gt;su&lt;&#x2F;code&gt; æˆ–è€… &lt;code&gt;sudo&lt;&#x2F;code&gt; çš„èƒ½åŠ›&lt;sup class=&quot;footnote-reference&quot;&gt;&lt;a href=&quot;#1&quot;&gt;1&lt;&#x2F;a&gt;&lt;&#x2F;sup&gt;ï¼Œå¹¶ä¸”ç”¨çš„æ–‡ä»¶ç³»ç»Ÿæ˜¯åŒºåˆ†å¤§å°å†™&lt;sup class=&quot;footnote-reference&quot;&gt;&lt;a href=&quot;#2&quot;&gt;2&lt;&#x2F;a&gt;&lt;&#x2F;sup&gt;çš„ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç„¶åè¯·äº‹å…ˆå®‰è£… &lt;code&gt;git&lt;&#x2F;code&gt; ä»¥åŠä»»æ„æ–‡æœ¬ç¼–è¾‘å™¨ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;gnu-bian-yi-gong-ju-lian&quot;&gt;GNU ç¼–è¯‘å·¥å…·é“¾&lt;&#x2F;h2&gt;
&lt;h3 id=&quot;clone-dai-ma&quot;&gt;clone ä»£ç &lt;&#x2F;h3&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; clone https:&#x2F;&#x2F;github.com&#x2F;riscv&#x2F;riscv-gnu-toolchain
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ç„¶åè¿›å…¥ clone åˆ°çš„æ–‡ä»¶å¤¹ä¸­ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;zhuang-yi-lai&quot;&gt;è£…ä¾èµ–&lt;&#x2F;h3&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;apt-get&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; install autoconf automake autotools-dev curl python3 libmpc-dev libmpfr-dev libgmp-dev gawk build-essential bison flex texinfo gperf libtool patchutils bc zlib1g-dev libexpat-dev
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h3 id=&quot;zhun-bei-yao-an-zhuang-dao-de-wei-zhi&quot;&gt;å‡†å¤‡è¦å®‰è£…åˆ°çš„ä½ç½®&lt;&#x2F;h3&gt;
&lt;p&gt;æ¯”å¦‚è¦æŠŠå·¥å…·é“¾è£…åˆ° &lt;code&gt;&#x2F;opt&#x2F;riscv&lt;&#x2F;code&gt; ä¸‹çš„è¯ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;mkdir&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; &#x2F;opt&#x2F;riscv
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;chmod&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; 777 &#x2F;opt&#x2F;riscv &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# just use 777, who cares about bad guys?
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h3 id=&quot;configure&quot;&gt;&lt;code&gt;configure&lt;&#x2F;code&gt;&lt;&#x2F;h3&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;.&#x2F;configure --prefix&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;=&#x2F;opt&#x2F;riscv&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt; --enable-multilib
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h3 id=&quot;make&quot;&gt;&lt;code&gt;make&lt;&#x2F;code&gt;&lt;&#x2F;h3&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;make
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;One eternity later ...&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;make&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; linux
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;Two eternities later ...&lt;&#x2F;p&gt;
&lt;p&gt;æ³¨æ„æ¯æ¬¡ &lt;code&gt;make&lt;&#x2F;code&gt; çš„æ—¶å€™éƒ½ä¼šä¸‹è½½å¯¹åº”çš„ &lt;code&gt;submodule&lt;&#x2F;code&gt;ï¼Œè¯·ä¿è¯æœ‰æ­£å¸¸çš„ç½‘ç»œç¯å¢ƒã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç„¶å &lt;code&gt;&#x2F;opt&#x2F;riscv&lt;&#x2F;code&gt; é‡Œå°±æœ‰ç¼–è¯‘å™¨ã€lib ç­‰ç­‰äº†ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;tian-jia-zi-ding-yi-zhi-ling&quot;&gt;æ·»åŠ è‡ªå®šä¹‰æŒ‡ä»¤&lt;&#x2F;h3&gt;
&lt;p&gt;ç¼–è¾‘ &lt;code&gt;riscv-binutils&#x2F;opcodes&#x2F;riscv-opc.c&lt;&#x2F;code&gt;ï¼Œåœ¨ &lt;code&gt;riscv_opcodes&lt;&#x2F;code&gt; ä¸­åŠ å…¥æ–°çš„æŒ‡ä»¤:&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;{
    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;æŒ‡ä»¤åç§°&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;, &amp;lt;æŒ‡ä»¤ç±»å‹&amp;gt;, &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;æ“ä½œæ•°&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;, 
    &amp;lt;åŒ¹é…&amp;gt;, &amp;lt;æ©ç &amp;gt;, match_opcode, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;},
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ä»£è¡¨ä½¿ç”¨æ—¶å½¢å¦‚ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-asm&quot; data-lang=&quot;asm&quot;&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;&amp;lt;æŒ‡ä»¤åç§°&amp;gt; &amp;lt;æ“ä½œæ•°&amp;gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;çš„ä¸€æ¡æ±‡ç¼–æŒ‡ä»¤ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;zhi-ling-lei-xing&quot;&gt;æŒ‡ä»¤ç±»å‹&lt;&#x2F;h4&gt;
&lt;p&gt;å»ºè®®æ— è„‘ç»™ &lt;code&gt;INSN_CLASS_I&lt;&#x2F;code&gt;, å› ä¸º &lt;code&gt;I&lt;&#x2F;code&gt; åœ¨æ‰€æœ‰æƒ…å†µä¸‹éƒ½æ˜¯æ”¯æŒçš„ï¼Œæ— éœ€åœ¨ç¼–è¯‘æ—¶æ‰‹åŠ¨å¼€å¯å„ä¸ªæŒ‡ä»¤é›†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æš‚æ—¶ä¸æ¸…æ¥šæ˜¯å¦æ”¯æŒåœ¨ &lt;code&gt;include&#x2F;opcode&#x2F;riscv.h&lt;&#x2F;code&gt; ä¸­çš„ &lt;code&gt;riscv_insn_class&lt;&#x2F;code&gt; ä¸­æ·»åŠ è‡ªå·±çš„æŒ‡ä»¤é›†åç§°ï¼Œç„¶ååœ¨è¿™é‡Œä½¿ç”¨ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;cao-zuo-shu&quot;&gt;æ“ä½œæ•°&lt;&#x2F;h4&gt;
&lt;p&gt;è¿™æˆ‘ä¸€ç›´æ²¡æ‰¾åˆ°ä¸€ä¸ªè¯´æ˜çš„æ–‡æ¡£ï¼Œåªæœ‰æ ¹æ®å·²ç»å†™å¥½çš„éƒ¨åˆ†å’Œä»£ç ï¼ˆä»£ç åœ¨ &lt;code&gt;riscv-binutils&#x2F;gas&#x2F;config&#x2F;tc-riscv.c&lt;&#x2F;code&gt;ï¼‰æ¨äº†&lt;sup class=&quot;footnote-reference&quot;&gt;&lt;a href=&quot;#3&quot;&gt;3&lt;&#x2F;a&gt;&lt;&#x2F;sup&gt;ï¼š&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;d&lt;&#x2F;code&gt;
ä»£è¡¨ç›®æ ‡å¯„å­˜å™¨&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;s&lt;&#x2F;code&gt;
ä»£è¡¨ç¬¬ä¸€ä¸ªå¯„å­˜å™¨æ“ä½œæ•°&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;t&lt;&#x2F;code&gt;
ä»£è¡¨ç¬¬äºŒä¸ªå¯„å­˜å™¨æ“ä½œæ•°&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;j&lt;&#x2F;code&gt;
ä»£è¡¨ä¸€ä¸ªç«‹å³æ•°&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;o(s)&lt;&#x2F;code&gt;
ä»£è¡¨ç”¨äºè¯»å–å‡ºæ¥çš„ä¸€ä¸ªåœ°å€ï¼Œæ ¼å¼ä¸ºå¯„å­˜å™¨ + åç§»é‡&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;q(s)&lt;&#x2F;code&gt;
ä»£è¡¨ç”¨äºå†™å…¥è¿›å»çš„ä¸€ä¸ªåœ°å€ï¼Œæ ¼å¼ä¸ºå¯„å­˜å™¨ + åç§»é‡&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;&amp;lt;&lt;&#x2F;code&gt; å’Œ &lt;code&gt;&amp;gt;&lt;&#x2F;code&gt;
ä»£è¡¨ç§»ä½çš„ä½æ•°&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h5 id=&quot;ke-zhi-ji-cun-qi&quot;&gt;å®¢åˆ¶å¯„å­˜å™¨&lt;&#x2F;h5&gt;
&lt;p&gt;è¿™é‡Œå‡è®¾ä½ å¸Œæœ›åœ¨å†…è”æ±‡ç¼–é‡Œæ‰‹å†™å¯„å­˜å™¨è€Œä¸æ˜¯è®© gcc ä¸ºä½ åˆ†é…ä½ çš„å®¢åˆ¶å¯„å­˜å™¨ï¼Œæ¯”å¦‚ä½ å¸Œæœ›æ·»åŠ ä¸€ä¸ªè¯»å–çŸ©é˜µçš„æŒ‡ä»¤ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;{&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;matload&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;, INSN_CLASS_I, &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Md,o(s)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0x100b&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0x707f&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;, match_opcode, INSN_DREF},
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™é‡Œçš„ &lt;code&gt;Md&lt;&#x2F;code&gt; ä»£è¡¨ä¸€ä¸ªçŸ©é˜µå¯„å­˜å™¨ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;é‚£ä¹ˆä½ éœ€è¦åœ¨ gnu å·¥å…·é“¾ä¸­è¿›è¡Œå¦‚ä¸‹ä¿®æ”¹ï¼š&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;åœ¨ &lt;code&gt;riscv-binutils&#x2F;opcodes&#x2F;riscv-opc.c&lt;&#x2F;code&gt; ä¸­çš„ &lt;code&gt;riscv_fpr_names_abi&lt;&#x2F;code&gt; ä¸‹é¢ï¼Œæ·»åŠ ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œä¿å­˜ä½ çš„å„ä¸ªå¯„å­˜å™¨çš„åå­—ï¼Œå¹¶åœ¨ &lt;code&gt;riscv-binutils&#x2F;include&#x2F;opcode&#x2F;riscv.h&lt;&#x2F;code&gt; æ·»åŠ ç›¸åº”çš„å£°æ˜ï¼Œä¾‹å¦‚ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;&#x2F;&#x2F; riscv.h
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;extern const char &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;const&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; riscv_mat_names_numeric[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;8&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;];
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;&#x2F;&#x2F; riscv-opc.c
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;const char &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;const&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; riscv_mat_names_numeric[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;8&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;] ={&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;mat0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;, &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;mat1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;, &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;mat2&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;, &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;mat3&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;, &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;mat4&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;, &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;mat5&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;, &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;mat6&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;, &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;mat7&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;};
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨ &lt;code&gt;reg_class&lt;&#x2F;code&gt; ï¼ˆåœ¨ &lt;code&gt;riscv-binutils&#x2F;gas&#x2F;config&#x2F;tc-riscv.c&lt;&#x2F;code&gt;ï¼‰ä¸­æ·»åŠ è¿™ä¸ªå®¢åˆ¶å¯„å­˜å™¨é›†çš„â€œåç§°â€ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-diff&quot; data-lang=&quot;diff&quot;&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;enum reg_class
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;{
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;  RCLASS_GPR,
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;  RCLASS_FPR,
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;+ RCLASS_MPR,
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;  RCLASS_MAX,
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;  RCLASS_CSR
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;};
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨åŒä¸€æ–‡ä»¶ä¸‹è´Ÿè´£æ±‡ç¼–å™¨åˆå§‹åŒ–çš„ &lt;code&gt;md_begin&lt;&#x2F;code&gt; å‡½æ•°ä¸­æ³¨å†Œè¿™ä¸ªå®¢åˆ¶å¯„å­˜å™¨é›†ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;hash_reg_names&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(RCLASS_MPR, riscv_mat_names_numeric, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;8&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;);
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨åŒä¸€æ–‡ä»¶ä¸‹æ£€æŸ¥ RISC-V æŒ‡ä»¤æ ¼å¼çš„ &lt;code&gt;validate_riscv_insn&lt;&#x2F;code&gt; å‡½æ•°ä¸­ä¸ªçš„æœ€å¤§çš„é‚£ä¸ª &lt;code&gt;switch&lt;&#x2F;code&gt; ä¸­æ·»åŠ å¯¹è¿™ä¸ªå¯„å­˜å™¨å‚æ•°çš„æ£€æŸ¥ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨åŒä¸€æ–‡ä»¶ä¸‹è´Ÿè´£è¿›è¡Œå®é™…æ±‡ç¼–åˆ°äºŒè¿›åˆ¶ä»£ç çš„ &lt;code&gt;riscv_ip&lt;&#x2F;code&gt; å‡½æ•°ä¸­æ·»åŠ ç”ŸæˆäºŒè¿›åˆ¶ä»£ç çš„ä»£ç ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;åˆ°æ­¤ä½ çš„ç¼–è¯‘å™¨å·²ç»èƒ½æ­£å¸¸ç”ŸæˆäºŒè¿›åˆ¶ä»£ç äº†ï¼Œä½†æ˜¯å¦‚æœä½ è¿˜æƒ³è¦ç”¨ &lt;code&gt;objdump&lt;&#x2F;code&gt; ä¹‹ç±»çš„åç¼–è¯‘å·¥å…·ï¼š&lt;&#x2F;p&gt;
&lt;ol start=&quot;6&quot;&gt;
&lt;li&gt;åœ¨ &lt;code&gt;riscv-binutils&#x2F;opcodes&#x2F;riscv-dis.c&lt;&#x2F;code&gt; ä¸­çš„ &lt;code&gt;print_insn_args&lt;&#x2F;code&gt; ä¸­ä¹Ÿæ·»åŠ ç›¸å…³è§£æä»£ç ã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h4 id=&quot;pi-pei-he-yan-ma&quot;&gt;åŒ¹é…å’Œæ©ç &lt;&#x2F;h4&gt;
&lt;p&gt;è®¾æœ‰ä¸€æ¡äºŒè¿›åˆ¶æŒ‡ä»¤ &lt;code&gt;instruction&lt;&#x2F;code&gt;, è‹¥ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;instruction &amp;amp; æ©ç  == åŒ¹é…
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;åˆ™è®¤ä¸º &lt;code&gt;instruction&lt;&#x2F;code&gt; æ˜¯è¿™ä¸€ç±»çš„æŒ‡ä»¤ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;zhong-xin-bian-yi&quot;&gt;é‡æ–°ç¼–è¯‘&lt;&#x2F;h4&gt;
&lt;p&gt;é‡æ–°ç¼–è¯‘å·¥å…·é“¾éœ€è¦ &lt;code&gt;make clean&lt;&#x2F;code&gt;ï¼Œåˆ ç©ºå®‰è£…ä½ç½®ï¼ˆå¦‚ &lt;code&gt;&#x2F;opt&#x2F;riscv&lt;&#x2F;code&gt;ï¼‰ï¼Œç„¶åé‡æ–° &lt;code&gt;make&lt;&#x2F;code&gt;&lt;sup class=&quot;footnote-reference&quot;&gt;&lt;a href=&quot;#4&quot;&gt;4&lt;&#x2F;a&gt;&lt;&#x2F;sup&gt;ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;shi-yong&quot;&gt;ä½¿ç”¨&lt;&#x2F;h3&gt;
&lt;p&gt;ç„¶åå°±èƒ½åœ¨æ±‡ç¼–é‡Œæ‹¿ &lt;code&gt;asm&lt;&#x2F;code&gt; ç”¨ä½ åˆšåˆšåŠ çš„æŒ‡ä»¤äº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¦‚æœä½ ä¸æ˜¯å¾ˆæ‡‚å†…è”æ±‡ç¼–&lt;sup class=&quot;footnote-reference&quot;&gt;&lt;a href=&quot;#5&quot;&gt;5&lt;&#x2F;a&gt;&lt;&#x2F;sup&gt;ï¼Œå¯ä»¥çœ‹çœ‹æˆ‘çš„&lt;a href=&quot;https:&#x2F;&#x2F;longfangsong.github.io&#x2F;inline-asm-cheatsheet&#x2F;&quot;&gt;å¦ä¸€ç¯‡æ–‡ç« &lt;&#x2F;a&gt;ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;risc-v-tools&quot;&gt;RISC-V tools&lt;&#x2F;h2&gt;
&lt;p&gt;æˆ‘ä»¬ä¸»è¦ä½¿ç”¨ RISC-V tools ä¸­çš„ RISC-V è¡Œä¸ºçº§æ¨¡æ‹Ÿå™¨ â€”â€” spikeã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;clone-dai-ma-1&quot;&gt;clone ä»£ç &lt;&#x2F;h3&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; clone https:&#x2F;&#x2F;github.com&#x2F;riscv&#x2F;riscv-tools.git
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ç„¶åè¿›å…¥ clone åˆ°çš„æ–‡ä»¶å¤¹ä¸­ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¸ GNU å·¥å…·é“¾åœ¨ &lt;code&gt;make&lt;&#x2F;code&gt; çš„æ—¶å€™ä¼šè‡ªåŠ¨æ‹¿ submodule ä¸åŒï¼Œtools è¿™è¾¹è¦æ‰‹åŠ¨ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; submodule update&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt; --init --recursive
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æ­¤å¤–å»ºè®®æŠŠæˆ‘ä»¬é‡ç‚¹è¦ä¿®æ”¹çš„ &lt;code&gt;riscv-isa-sim&lt;&#x2F;code&gt; æ‰‹åŠ¨æ›´æ–°åˆ° origin master ç‰ˆæœ¬ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;cd&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; riscv-isa-sim
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; pull origin master
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h3 id=&quot;zhi-ding-an-zhuang-di-zhi&quot;&gt;æŒ‡å®šå®‰è£…åœ°å€&lt;&#x2F;h3&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;export &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;RISCV&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;=&amp;lt;å®‰è£…åœ°å€&amp;gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h3 id=&quot;build&quot;&gt;build&lt;&#x2F;h3&gt;
&lt;p&gt;å¦‚æœä½ æŒ‰ç…§å®˜æ–¹è¯´æ˜ç›´æ¥åœ¨ clone åˆ°çš„æ–‡ä»¶å¤¹ä¸­ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;.&#x2F;build.sh
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;é‚£ä½ å¤§æ¦‚ç‡ä¼šç¢°åˆ° riscv-test submodule é‡Œçš„å…³äº &lt;code&gt;tohost&lt;&#x2F;code&gt; å’Œ &lt;code&gt;fromhost&lt;&#x2F;code&gt; é‡å¤å®šä¹‰çš„é”™è¯¯ï¼Œå¯ä»¥é‡‡ç”¨&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;riscv&#x2F;riscv-tests&#x2F;issues&#x2F;286#issuecomment-801002149&quot;&gt;è¿™é‡Œæåˆ°&lt;&#x2F;a&gt;çš„æ–¹æ³•ä¿®å¤&lt;sup class=&quot;footnote-reference&quot;&gt;&lt;a href=&quot;#6&quot;&gt;6&lt;&#x2F;a&gt;&lt;&#x2F;sup&gt;ï¼š&lt;&#x2F;p&gt;
&lt;p&gt;ä¿®æ”¹ &lt;code&gt;.&#x2F;riscv-tests&#x2F;isa&#x2F;Makefile&lt;&#x2F;code&gt; ä¸­çš„ç¼–è¯‘é€‰é¡¹ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-diff&quot; data-lang=&quot;diff&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;-RISCV_GCC_OPTS ?= -static -mcmodel=medany -fvisibility=hidden -nostdlib -nostartfiles
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;+RISCV_GCC_OPTS ?= -static -mcmodel=medany -fvisibility=hidden -nostdlib -nostartfiles -fcommon
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h3 id=&quot;tian-jia-zi-ding-yi-zhi-ling-ji&quot;&gt;æ·»åŠ è‡ªå®šä¹‰æŒ‡ä»¤é›†&lt;&#x2F;h3&gt;
&lt;p&gt;åœ¨ Spike æ¨¡æ‹Ÿå™¨ä¸­æ·»åŠ å®¢åˆ¶æŒ‡ä»¤é›†éå¸¸æ–¹ä¾¿ï¼Œåªéœ€è¦åœ¨ &lt;code&gt;.&#x2F;riscv-isa-sim&#x2F;customext&#x2F;&lt;&#x2F;code&gt; ä¸­æ·»åŠ ä¸€ä¸ªå®ç°æ‰©å±•æŒ‡ä»¤é›†è¡Œä¸ºçš„æ–‡ä»¶ï¼Œ
å…¶ä¸­æœ‰ä¸€ä¸ªç±»å®ç°äº† &lt;code&gt;extension_t&lt;&#x2F;code&gt;ï¼Œç„¶åç”¨ &lt;code&gt;REGISTER_EXTENSION&lt;&#x2F;code&gt; å®å°†å…¶æ³¨å†Œåˆ°æ¨¡æ‹Ÿå™¨å³å¯ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;extension_t&lt;&#x2F;code&gt; è¦æ±‚ä¸€ä¸ª &lt;code&gt;name&lt;&#x2F;code&gt;ï¼Œä¸€ä¸ªæ‹¿æ‰€æœ‰æŒ‡ä»¤çš„ &lt;code&gt;get_instructions&lt;&#x2F;code&gt;ï¼Œä¸€ä¸ªæ‹¿æ‰€æœ‰åæ±‡ç¼–æŒ‡ä»¤çš„ &lt;code&gt;get_disasms&lt;&#x2F;code&gt;ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;gem5-mo-ni-qi&quot;&gt;gem5 æ¨¡æ‹Ÿå™¨&lt;&#x2F;h2&gt;
&lt;h3 id=&quot;clone-dai-ma-2&quot;&gt;clone ä»£ç &lt;&#x2F;h3&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; clone https:&#x2F;&#x2F;gem5.googlesource.com&#x2F;public&#x2F;gem5
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h3 id=&quot;zhuang-yi-lai-1&quot;&gt;è£…ä¾èµ–&lt;&#x2F;h3&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;sudo&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; apt install build-essential git m4 scons zlib1g zlib1g-dev \
    libprotobuf-dev protobuf-compiler libprotoc-dev libgoogle-perftools-dev \
    python3-dev python3-six python libboost-all-dev pkg-config
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h3 id=&quot;build-1&quot;&gt;build&lt;&#x2F;h3&gt;
&lt;p&gt;åœ¨ clone åˆ°çš„æ–‡ä»¶å¤¹ä¸­ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;&#x2F;usr&#x2F;bin&#x2F;env&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; python3 $(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;which&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; scons) build&#x2F;RISCV&#x2F;gem5.opt&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt; -j &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;lt;CPUæ ¸æ•°&amp;gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¦‚æœä½ æƒ³è¦åœ¨ä½ çš„ç¨‹åºä¸­åŠ  &lt;code&gt;checkpoint&lt;&#x2F;code&gt;ã€é‡ç½®ç»Ÿè®¡æ•°æ®ç­‰ï¼Œéœ€è¦æ„å»º &lt;code&gt;libm5&lt;&#x2F;code&gt;ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;&#x2F;usr&#x2F;bin&#x2F;env&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; python3 $(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;which&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; scons)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt; -C&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; util&#x2F;m5 build&#x2F;riscv&#x2F;out&#x2F;m5
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h3 id=&quot;shi-yong-1&quot;&gt;ä½¿ç”¨&lt;&#x2F;h3&gt;
&lt;p&gt;å¦‚æœä½ ç¼–å†™çš„ç¨‹åºä¸­ä½¿ç”¨äº† &lt;code&gt;libm5&lt;&#x2F;code&gt; ä¸­çš„åŠŸèƒ½ï¼Œéœ€è¦åŒ…å« &lt;code&gt;gem5&#x2F;m5ops.h&lt;&#x2F;code&gt; å¹¶åœ¨é“¾æ¥æ—¶é“¾æ¥ &lt;code&gt;libm5.a&lt;&#x2F;code&gt;ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;riscv64-linux-gnu-gcc -static -I&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&#x2F;home&#x2F;longfangsong&#x2F;workspace&#x2F;gem5&#x2F;include&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt; -I &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;lt;gem5 ä½ç½®&amp;gt;&#x2F;gem5&#x2F;include&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt; -static &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;lt;å…¶ä»–æºæ–‡ä»¶&amp;gt; &amp;lt;gem5 ä½ç½®&amp;gt;&#x2F;gem5&#x2F;util&#x2F;m5&#x2F;build&#x2F;riscv&#x2F;out&#x2F;libm5.a
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h4 id=&quot;trick-on-profiling-unspported-isa-set&quot;&gt;Trick on profiling unspported ISA set&lt;&#x2F;h4&gt;
&lt;p&gt;&lt;code&gt;gem5&lt;&#x2F;code&gt; åªæ”¯æŒä½¿ç”¨ &lt;code&gt;riscv64-linux-gnu-gcc&lt;&#x2F;code&gt; ç”Ÿæˆçš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œè€Œä¸”å‡å®šäº†ç”¨æˆ·æœ‰ç¡¬æµ®ç‚¹æ”¯æŒï¼Œè¿™åœ¨æƒ³è¦æ¯”è¾ƒä¸åŒæŒ‡ä»¤é›†æ—¶ä¼šå¸¦æ¥ä¸€äº›ä¸ä¾¿ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è§£å†³æ–¹æ¡ˆéå¸¸å‘†ä½†å¾ˆæœ‰æ•ˆï¼Œå°±æ˜¯å…ˆç”¨ &lt;code&gt;riscv64-unknown-elf-gcc&lt;&#x2F;code&gt; æ‹¿åˆ°æŸä¸ªæŒ‡ä»¤é›†å’Œ abiï¼ˆå¦‚æœè¦ç”¨å’Œæœ€ç»ˆç¼–è¯‘åˆ°äºŒè¿›åˆ¶æ–‡ä»¶æ—¶ä¸åŒçš„ abi çš„è¯å»ºè®®é€šè¿‡å…¨å±€å˜é‡ä¼ å‚æ•°å’Œè¿”å›å€¼ï¼‰ ä¸‹çš„æ±‡ç¼–ï¼Œç„¶åç”¨ &lt;code&gt;riscv64-linux-gnu-gcc&lt;&#x2F;code&gt; ç¼–è¯‘æ±‡ç¼–æ¥ç”Ÿæˆæœ€ç»ˆçš„äºŒè¿›åˆ¶æ–‡ä»¶ä»¥ä¾› &lt;code&gt;gem5&lt;&#x2F;code&gt; æ‰§è¡Œã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¯èƒ½ä¼šç”¨åˆ°è½¯ä¹˜æ³•ã€è½¯æµ®ç‚¹ç­‰ç­‰çš„libgcc ä¸­çš„ polyfill ä»£ç ï¼ŒæŠŠè¿™äº›ä¹Ÿæ‹‰è¿‡æ¥ç¼–è¯‘å°±æ˜¯äº†&lt;sup class=&quot;footnote-reference&quot;&gt;&lt;a href=&quot;#7&quot;&gt;7&lt;&#x2F;a&gt;&lt;&#x2F;sup&gt;, ç›®å‰å·²çŸ¥çš„å‡ ä»½ polyfill ä»£ç çš„ä½ç½®éƒ½ä½äº &lt;code&gt;riscv-gnu-toolchain&#x2F;libgcc&lt;&#x2F;code&gt; ä¸‹ï¼Œ&lt;code&gt;softfp&lt;&#x2F;code&gt; å°±æ˜¯è½¯æµ®ç‚¹ï¼Œ&lt;code&gt;config&#x2F;riscv&lt;&#x2F;code&gt; å°±æ˜¯å…¶ä»–ä¸€äº›ä¸œè¥¿çš„ polyfillï¼Œæ¯”å¦‚ä¹˜é™¤æ³•ï¼ŒåŸå­æ“ä½œç­‰ç­‰ã€‚&lt;&#x2F;p&gt;
&lt;div class=&quot;footnote-definition&quot; id=&quot;1&quot;&gt;&lt;sup class=&quot;footnote-definition-label&quot;&gt;1&lt;&#x2F;sup&gt;
&lt;p&gt;å› ä¸º debian å¯ä»¥åœ¨ &lt;code&gt;su&lt;&#x2F;code&gt; ä¸‹é¢åšæ‰€æœ‰çš„äº‹ï¼Œ&lt;code&gt;sudo&lt;&#x2F;code&gt; åè€Œè¦è‡ªå·±è£…ï¼Œdocker ä¸€æ‰“å¼€å°±æ˜¯ &lt;code&gt;su&lt;&#x2F;code&gt;ï¼Œä¸ºäº†å¤åˆ¶ç²˜è´´æ–¹ä¾¿ä¸‹é¢éƒ½ä¸ä¼šå†™æ˜è¦ &lt;code&gt;sudo&lt;&#x2F;code&gt; çš„åœ°æ–¹ï¼Œå¦‚æœæœ‰å¿…è¦çš„è¯è‡ªå·±åŠ â€¦â€¦&lt;&#x2F;p&gt;
&lt;&#x2F;div&gt;
&lt;div class=&quot;footnote-definition&quot; id=&quot;2&quot;&gt;&lt;sup class=&quot;footnote-definition-label&quot;&gt;2&lt;&#x2F;sup&gt;
&lt;p&gt;è¿™æ˜¯çœŸçš„å‘ã€‚è¿˜å¥½æ­£å¸¸çš„ Linux ç³»ç»Ÿå®‰è£…å™¨é»˜è®¤çš„æ–‡ä»¶ç³»ç»Ÿéƒ½æ˜¯åŒºåˆ†å¤§å°å†™çš„ã€‚ä½†ç”¨ Docker æŒ‚å…¶ä»–ç³»ç»Ÿçš„ Volume å°±ä¸ä¸€å®šäº†â€¦â€¦&lt;&#x2F;p&gt;
&lt;&#x2F;div&gt;
&lt;div class=&quot;footnote-definition&quot; id=&quot;3&quot;&gt;&lt;sup class=&quot;footnote-definition-label&quot;&gt;3&lt;&#x2F;sup&gt;
&lt;p&gt;æ²¡æ–‡æ¡£å°± nm ç¦»è°±ï¼Œæœ‰äº›å­—æ¯ç”¨çš„ä¹ŸæŒºç¦»è°±ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;div&gt;
&lt;div class=&quot;footnote-definition&quot; id=&quot;4&quot;&gt;&lt;sup class=&quot;footnote-definition-label&quot;&gt;4&lt;&#x2F;sup&gt;
&lt;p&gt;è¿™ç¾¤å¼€å‘è€…å†™çš„ä»€ä¹ˆé¬¼ Makefile å•¦ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;div&gt;
&lt;div class=&quot;footnote-definition&quot; id=&quot;5&quot;&gt;&lt;sup class=&quot;footnote-definition-label&quot;&gt;5&lt;&#x2F;sup&gt;
&lt;p&gt;è®²é“ç†æˆ‘ä¹Ÿä¸æ‡‚ ğŸ˜­&lt;&#x2F;p&gt;
&lt;&#x2F;div&gt;
&lt;div class=&quot;footnote-definition&quot; id=&quot;6&quot;&gt;&lt;sup class=&quot;footnote-definition-label&quot;&gt;6&lt;&#x2F;sup&gt;
&lt;p&gt;å®˜æ–¹ç»´æŠ¤åœ¨å¹²ä»€ä¹ˆä¸œè¥¿å•Š.jpg&lt;&#x2F;p&gt;
&lt;&#x2F;div&gt;
&lt;div class=&quot;footnote-definition&quot; id=&quot;7&quot;&gt;&lt;sup class=&quot;footnote-definition-label&quot;&gt;7&lt;&#x2F;sup&gt;
&lt;p&gt;ç°åœ¨æˆ‘æ‡‚ä¸ºå•¥ C++ å¤§å‹é¡¹ç›®ä¸ºå•¥è¦æŠŠä¾èµ–ä¹Ÿæåˆ°é¡¹ç›®çš„ &lt;code&gt;.&#x2F;third_parties&lt;&#x2F;code&gt; é‡Œé¢ä¸€èµ·ç¼–è¯‘äº†ï¼Œå¦åˆ™è¿™ä¸ªé“¾æ¥ã€ abi ä»€ä¹ˆçš„æ˜¯çœŸçš„éº»çƒ¦ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;div&gt;
</content>
	</entry>
	<entry xml:lang="zh">
		<title>é‡æ–°å¼€å§‹å­¦æ•°å­¦ â€¢ æ•°ç†é€»è¾‘ï¼ˆ2ï¼‰</title>
		<published>2021-03-25T09:29:44.051+00:00</published>
		<updated>2021-03-25T09:29:44.051+00:00</updated>
		<link href="https://longfangsong.github.io/restart-math-logic-2/" type="text/html"/>
		<id>https://longfangsong.github.io/restart-math-logic-2/</id>
		<content type="html">&lt;h2 id=&quot;wei-ci-luo-ji&quot;&gt;è°“è¯é€»è¾‘&lt;&#x2F;h2&gt;
&lt;h3 id=&quot;wei-ci&quot;&gt;è°“è¯&lt;&#x2F;h3&gt;
&lt;p&gt;å°±æ˜¯è¿”å› &lt;code&gt;bool&lt;&#x2F;code&gt; çš„å‡½æ•°&lt;&#x2F;p&gt;
&lt;h3 id=&quot;liang-ci&quot;&gt;é‡è¯&lt;&#x2F;h3&gt;
&lt;p&gt;å°±æ˜¯ $\forall$ å’Œ $\exists$ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ³¨æ„é‡è¯çš„ä¼˜å…ˆçº§æ¯” $\wedge$ å’Œ $\vee$ é«˜ï¼Œä¾‹å¦‚ï¼š$\forall x A \wedge B$ æ„æ€æ˜¯ $(\forall x A) \wedge B$&lt;&#x2F;p&gt;
&lt;h3 id=&quot;substitution-ti-huan&quot;&gt;substitutionï¼ˆæ›¿æ¢ï¼‰&lt;&#x2F;h3&gt;
&lt;p&gt;è®¾æœ‰ä¸€ä¸ªå¼å­ $A$ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªå˜é‡ $x$ï¼Œç»™å®šä¸€ä¸ªé¡¹ $t$ï¼Œç”¨ $t$ æ›¿æ¢æ‰€æœ‰è‡ªç”±å‡ºç°çš„ $x$ çš„æ“ä½œç§°ä¸ºä¸€æ¬¡ substitutionï¼Œè®°ä½œï¼š&lt;&#x2F;p&gt;
&lt;p&gt;$$
A[t&#x2F;x]
$$&lt;&#x2F;p&gt;
</content>
	</entry>
	<entry xml:lang="zh">
		<title>é‡æ–°å¼€å§‹å­¦æ•°å­¦ â€¢ æ•°ç†é€»è¾‘ï¼ˆ1ï¼‰</title>
		<published>2021-01-12T10:01:52.110+00:00</published>
		<updated>2021-01-12T10:01:52.110+00:00</updated>
		<link href="https://longfangsong.github.io/restart-math-logic-1/" type="text/html"/>
		<id>https://longfangsong.github.io/restart-math-logic-1/</id>
		<content type="html">&lt;h2 id=&quot;ming-ti-luo-ji&quot;&gt;å‘½é¢˜é€»è¾‘&lt;&#x2F;h2&gt;
&lt;p&gt;æˆ‘ä»¬è¯¾ä¸Šå­¦çš„åŸºæœ¬ä¸Šå°±æ˜¯è¿™äº›äº†ï¼Œå¤§éƒ¨åˆ†å°±æ˜¯ä¸€äº› trival çš„æ˜¯ä¸ªäººéƒ½èƒ½æƒ³é€šçš„ä¸œè¥¿ï¼Œå°±æ˜¯å„ç§ç®­å¤´ï¼ˆï¼Ÿï¼‰çš„ç”¨æ³•å®¹æ˜“æ··æ·†ï¼š&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è®¾æœ‰å‘½é¢˜ $A$ å’Œ $B$ï¼Œ$A \rightarrow B$ æŒ‡ â€œ$A$ å®è´¨è•´å« $B$â€ è¿™æ ·ä¸€ä¸ªå‘½é¢˜ï¼Œå³&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-pesudo&quot; data-lang=&quot;pesudo&quot;&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;if A then B
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;è®¾æœ‰ä¸€å †å‘½é¢˜ $A$ å’Œä¸€ä¸ªå‘½é¢˜ $B$ï¼Œ$A \vdash B$ æŒ‡ â€œ$B$ æ˜¯ $A$ çš„å¥æ³•åæ‰¿ â€ è¿™æ ·ä¸€ä¸ª sequentã€‚&lt;&#x2F;p&gt;
&lt;p&gt;é€šè¿‡ä½¿ç”¨æŸäº›è¯æ˜æ‰‹æ®µï¼Œä»å‰æ $A$ èƒ½è¯å‡º $B$ï¼Œé‚£ä¹ˆè¿™ä¸ª sequent å°± validï¼Œå¦åˆ™å°±ä¸vaildã€‚
$$
\require{bussproofs}
\begin{prooftree}
\AxiomC{A}
\UnaryInfC{$\vdots$}
\UnaryInfC{B}
\end{prooftree}
$$&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;$ A \dashv \vdash B$ï¼š$A \vdash B$ å’Œ $ B \vdash A$ éƒ½ validï¼Œç§°ä¸º $A$ å’Œ $B$ provably equivalentã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;è®¾æœ‰ä¸€å †å‘½é¢˜ $A$ å’Œä¸€ä¸ªå‘½é¢˜ $B$ï¼Œ$A \models B$ï¼šæŒ‡ â€œ$B$ æ˜¯ $A$ çš„è¯­ä¹‰åæ‰¿â€ï¼Œå³å¦‚æœ $A$ ä¸­æ¯ä¸€ä¸ªå‘½é¢˜éƒ½ä¸ºçœŸï¼Œåˆ™ $B$ ä¹Ÿä¸ºçœŸã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åœ¨è‡ªç„¶æ¼”ç»ä¸­ï¼Œ$A \models B$ å½“ä¸”ä»…å½“ $ A \vdash B $&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;å¦å¤–å¸¸å¸¸ä¼šä½¿ç”¨ $\top$ å’Œ $\bot$ åˆ†åˆ«ä»£è¡¨ &lt;code&gt;true&lt;&#x2F;code&gt; å’Œ &lt;code&gt;false&lt;&#x2F;code&gt;ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;horn-gong-shi-he-horn-ke-man-zu-xing-wen-ti&quot;&gt;Horn å…¬å¼å’Œ Horn å¯æ»¡è¶³æ€§é—®é¢˜&lt;&#x2F;h3&gt;
&lt;p&gt;è®¾ p ä¸ºåŸå­å…¬å¼ï¼Œ&lt;&#x2F;p&gt;
&lt;p&gt;$$
\displaylines {
P ::= \bot | \top | p \\
A ::= P \mid P \wedge A \\
C ::= A \rightarrow P \\
H ::= C \mid C \wedge H
}
$$&lt;&#x2F;p&gt;
&lt;p&gt;å…¶ä¸­ H å°±æ˜¯ Horn å…¬å¼ï¼ŒC å°±æ˜¯ Horn å­å¥&lt;sup class=&quot;footnote-reference&quot;&gt;&lt;a href=&quot;#1&quot;&gt;1&lt;&#x2F;a&gt;&lt;&#x2F;sup&gt;ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;Horn å…¬å¼çš„å‡ ä¸ªä¾‹å­ï¼š&lt;&#x2F;p&gt;
&lt;p&gt;$$
(p \wedge q \wedge s \rightarrow p) \wedge(q \wedge r \rightarrow p) \wedge(p \wedge s \rightarrow s)
$$&lt;&#x2F;p&gt;
&lt;p&gt;$$
(p \wedge q \wedge s \rightarrow \perp) \wedge(q \wedge r \rightarrow p) \wedge(\top \rightarrow s)
$$&lt;&#x2F;p&gt;
&lt;p&gt;$$
(p_{2} \wedge p_{3} \wedge p_{5} \rightarrow p_{13}) \wedge (\top \rightarrow p_{5}) \wedge (p_{5} \wedge p_{11} \rightarrow \perp)
$$&lt;&#x2F;p&gt;
&lt;p&gt;Horn å…¬å¼çš„å¥½å¤„åœ¨äºï¼Œå’Œä»»æ„å…¬å¼æ˜¯å¦å¯æ»¡è¶³ï¼ˆå³ SAT é—®é¢˜ï¼‰æ˜¯ NP é—®é¢˜ä¸åŒï¼ŒHornSAT æ˜¯ P é—®é¢˜ï¼Œæœ‰è¿™ä¹ˆä¸€ä¸ªåˆ¤å®šç®—æ³•ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;fn &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;horn_satisfiabe&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;formula&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: HornFormula) {
  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;let mut&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; marked = HashSet::new();
  marked.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;add&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(âŠ¤);
  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;while let &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;Some(p) = 
    formula.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;find&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(|&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;it&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;| !it.rhs.marked &amp;amp;&amp;amp; 
      it.lhs.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;all&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(|&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;it&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;| marked.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;contains&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(it))
    ).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;map&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(|&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;it&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;| it.rhs) {
    marked.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;add&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(p);
  }
  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;!marked.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;contains&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(âŠ¥);
}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h3 id=&quot;sat-qiu-jie-qi&quot;&gt;Sat æ±‚è§£å™¨&lt;&#x2F;h3&gt;
&lt;p&gt;æ„Ÿè§‰è¿™é‡Œä¹¦ä¸Šè®²çš„å¥½å¤æ‚â€¦â€¦&lt;&#x2F;p&gt;
&lt;p&gt;å…¶å®å°±æ˜¯è‡ªé¡¶è€Œä¸‹åœ°è€ƒè™‘ä¸€ä¸ªå…¬å¼çš„ parse treeï¼Œå¯¹å…¬å¼æœ¬èº«æ¯ä¸€ä¸ªå­å…¬å¼çš„å€¼ï¼Œå¦‚æœèƒ½é€šè¿‡ä¸Šå±‚çš„å€¼å’Œç®—ç¬¦çš„çœŸå€¼è¡¨ç›´æ¥åˆ¤å®šå°±ç›´æ¥åˆ¤å®šï¼Œæ¯”å¦‚ï¼š&lt;&#x2F;p&gt;
&lt;p&gt;$$
\top = \neg p \wedge q
$$&lt;&#x2F;p&gt;
&lt;p&gt;ä»ä¸Šå±‚çš„ $\top$ å’Œ $\wedge$ çš„æ€§è´¨æˆ‘ä»¬å°±èƒ½å¾—å‡º
$$
\neg p = \top
$$&lt;&#x2F;p&gt;
&lt;p&gt;$$
q = \top
$$&lt;&#x2F;p&gt;
&lt;p&gt;ä¸è¡Œçš„è¯ï¼ˆæ¯”å¦‚é‡åˆ°äº†ç±»ä¼¼ $\top = p \vee q$ çš„æƒ…å†µï¼‰å°±éšä¾¿é€‰ä¸€ä¸ªå­å…¬å¼æŠŠ $\top$ å’Œ $\bot$ éƒ½è¯•ä¸€éï¼Œå¦‚æœæ¨å‡ºäº†å†²çªçš„ç»“è®ºå°±å›æº¯ï¼Œå¦‚æœå…¨åˆ¤å®šå®Œäº†æ²¡å†²çªå°±æˆäº†ã€‚&lt;&#x2F;p&gt;
&lt;div class=&quot;footnote-definition&quot; id=&quot;1&quot;&gt;&lt;sup class=&quot;footnote-definition-label&quot;&gt;1&lt;&#x2F;sup&gt;
&lt;p&gt;â€œå­å¥â€ çš„å®šä¹‰æ˜¯åŸå­å…¬å¼æˆ– â€œ$\neg åŸå­å…¬å¼$â€ çš„æå–ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;div&gt;
</content>
	</entry>
	<entry xml:lang="zh">
		<title>Hello zola!</title>
		<published>2020-01-02T15:00:00+00:00</published>
		<updated>2020-01-02T15:00:00+00:00</updated>
		<link href="https://longfangsong.github.io/hello-zola/" type="text/html"/>
		<id>https://longfangsong.github.io/hello-zola/</id>
		<content type="html">&lt;p&gt;I wrote a lot of blogs, and I used to use hexo as a static site generator, it kind of work well, but I&#x27;m afraid with more and more posts I have, the speed of hexo become unacceptable, moreover, the plugin system works well if I add only one plugin, but become odd if there&#x27;re many plugins work together:&lt;&#x2F;p&gt;
&lt;p&gt;Here&#x27;s an image from my origin blog, powered by hexo:&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;longfangsong.github.io&#x2F;hello-zola&#x2F;ouch.png&quot; alt=&quot;ouch&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;Ouch!&lt;&#x2F;p&gt;
&lt;p&gt;And then, since I&#x27;m a big fan of Rust, I found zola, though this tool is not as complete as hexo, I can use its shortcodes feature to embed different of things to my blog!&lt;&#x2F;p&gt;
&lt;p&gt;For example, terminal record:&lt;&#x2F;p&gt;
&lt;script id=&quot;asciicast-9EhVw8rujVjpPVBV5kQMdAIHe&quot; src=&quot;https:&#x2F;&#x2F;asciinema.org&#x2F;a&#x2F;9EhVw8rujVjpPVBV5kQMdAIHe.js&quot; async&gt;&lt;&#x2F;script&gt;
&lt;p&gt;Which I never imagined when using hexo!&lt;&#x2F;p&gt;
&lt;p&gt;And zola do make it easier to customize a theme, in hexo, if I want to customize a theme, I have to fork it, and do some edit on it. But in zola I can do this easily by override a template block.&lt;&#x2F;p&gt;
&lt;p&gt;But there remains some problems:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;The &lt;code&gt;translations&lt;&#x2F;code&gt; in a theme cannot be used in the site based on that theme. Hope will fixed after &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;getzola&#x2F;zola&#x2F;pull&#x2F;1148&quot;&gt;#1148&lt;&#x2F;a&gt;.&lt;&#x2F;li&gt;
&lt;li&gt;Cannot paginate over another section.&lt;sup class=&quot;footnote-reference&quot;&gt;&lt;a href=&quot;#1&quot;&gt;1&lt;&#x2F;a&gt;&lt;&#x2F;sup&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;Anyway, I&#x27;ll absolutly move my blog to zola.&lt;&#x2F;p&gt;
&lt;p&gt;Also I&#x27;m looking forward to contribute something to this project, and I started with &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;getzola&#x2F;themes&#x2F;pull&#x2F;49&quot;&gt;migrating a theme&lt;&#x2F;a&gt;, which I&#x27;ll also used on my blog.&lt;&#x2F;p&gt;
&lt;p&gt;Hope zola will become a better project in the future!&lt;&#x2F;p&gt;
&lt;div class=&quot;footnote-definition&quot; id=&quot;1&quot;&gt;&lt;sup class=&quot;footnote-definition-label&quot;&gt;1&lt;&#x2F;sup&gt;
&lt;p&gt;Or maybe I misunderstood the &lt;code&gt;pagination&lt;&#x2F;code&gt; feature ...&lt;&#x2F;p&gt;
&lt;&#x2F;div&gt;
</content>
	</entry>
</feed>
