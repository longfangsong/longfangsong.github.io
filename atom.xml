<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="zh">
	<title>Blog</title>
	<subtitle>ç”Ÿå‘½æ˜¯ç°è‰²çš„ï¼Œè€Œç†è®ºä¹‹æ ‘å¸¸é’</subtitle>
	<link href="https://longfangsong.github.io/atom.xml" rel="self" type="application/atom+xml"/>
  <link href="https://longfangsong.github.io"/>
	<generator uri="https://www.getzola.org/">Zola</generator>
	<updated>2021-04-25T16:09:46.815+00:00</updated>
	<id>https://longfangsong.github.io/atom.xml</id>
	<entry xml:lang="zh">
		<title>è‡ªåŠ¨é€»è¾‘ç»¼åˆåŸç† â€¢ ç»„åˆé€»è¾‘ä¸ LUT çš„æœ€ç®€å•çš„ç»¼åˆ</title>
		<published>2021-04-25T16:09:46.815+00:00</published>
		<updated>2021-04-25T16:09:46.815+00:00</updated>
		<link href="https://longfangsong.github.io/fpga-sys-1/" type="text/html"/>
		<id>https://longfangsong.github.io/fpga-sys-1/</id>
		<content type="html">&lt;h2 id=&quot;lut&quot;&gt;LUT&lt;&#x2F;h2&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸€åˆ‡çš†æŸ¥è¡¨ã€‚ â€”â€”æˆ‘è‡ªå·±è¯´çš„&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;ç”±äº FPGA çš„åŸºæœ¬ç»“æ„æ˜¯åŸºäº Look Up Table çš„ï¼Œå› æ­¤ FPGA é‡Œå®ç°ç»„åˆé€»è¾‘çš„æ–¹å¼éå¸¸ç®€å•ç²—æš´ï¼Œå°±æ˜¯æŠŠçœŸå€¼è¡¨éå¸¸æš´åŠ›çš„å­˜ä¸‹æ¥ç„¶ååŒ¹é…ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ¯”å¦‚è¯´æœ€ç®€å•çš„ä¸é€»è¾‘ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-verilog&quot; data-lang=&quot;verilog&quot;&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;assign C = A &amp;amp; B;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å…¶çœŸå€¼è¡¨ï¼š&lt;&#x2F;p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;&lt;&#x2F;th&gt;&lt;th&gt;0&lt;&#x2F;th&gt;&lt;th&gt;1&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;thead&gt;&lt;tbody&gt;
&lt;tr&gt;&lt;td&gt;0&lt;&#x2F;td&gt;&lt;td&gt;0&lt;&#x2F;td&gt;&lt;td&gt;0&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;1&lt;&#x2F;td&gt;&lt;td&gt;0&lt;&#x2F;td&gt;&lt;td&gt;1&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;&#x2F;tbody&gt;&lt;&#x2F;table&gt;
&lt;p&gt;é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ç”¨ä¸€å°å—å­˜å‚¨å™¨å­˜ä¸‹è¿™å¼ è¡¨ï¼š&lt;&#x2F;p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;åœ°å€&lt;&#x2F;th&gt;&lt;th&gt;å€¼&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;thead&gt;&lt;tbody&gt;
&lt;tr&gt;&lt;td&gt;00&lt;&#x2F;td&gt;&lt;td&gt;0&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;01&lt;&#x2F;td&gt;&lt;td&gt;0&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;10&lt;&#x2F;td&gt;&lt;td&gt;0&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;11&lt;&#x2F;td&gt;&lt;td&gt;1&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;&#x2F;tbody&gt;&lt;&#x2F;table&gt;
&lt;p&gt;è¿™ä¸ªå­˜å‚¨å™¨æ­¤æ—¶å°±æ˜¯ä¸€ä¸ª LUTï¼Œè¾“å…¥ A å’Œ B å°±èƒ½è¾“å‡ºå¯¹åº”é€»è¾‘å‡½æ•°çš„å€¼ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ›´å¤šå˜é‡å’Œæ›´å¤æ‚çš„å¼å­ä¹Ÿæ˜¯åŒç†ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;shi-jian&quot;&gt;å®è·µ&lt;&#x2F;h2&gt;
&lt;p&gt;æˆ‘ä»¬æ¥ç”¨æœ€ç®€å•ç²—æš´çš„æ–¹å¼å®ç°ä¸€ä¸ªæ”¯æŒç®€å•ç»„åˆé€»è¾‘ç”µè·¯ç»¼åˆçš„ç®€å•ç»¼åˆå™¨ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¸ºäº†æ–¹ä¾¿å¿«è‰çŒ›çš„å®ç°å‡ºä¸€ä¸ªèƒ½åŠ¨çš„ç¨‹åºï¼Œæˆ‘ä»¬å°†è¦ç»¼åˆçš„é€»è¾‘å‡½æ•°é™åˆ¶åœ¨ 4 ä¸ªä»¥ä¸‹çš„è¾“å…¥å’Œå•ä¸ªè¾“å‡ºï¼Œè¿™æ ·å°±èƒ½ä½¿ç”¨å•ä¸ª LUT4 ç»¼åˆå‡ºå¯ä»¥åŠ¨çš„æˆæœã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ³¨æ„å®é™…çš„ç»¼åˆå™¨å®ç°æ–¹å¼è‚¯å®šä¸æ˜¯è¿™æ ·æš´åŠ›è§£å‡ºçœŸå€¼è¡¨ç„¶åå°±ç¡¬å¸¦ï¼Œè‚¯å®šæ˜¯æœ‰æ›´å…ˆè¿›çš„æ–¹æ¡ˆçš„ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;mu-biao-wen-jian-ge-shi&quot;&gt;ç›®æ ‡æ–‡ä»¶æ ¼å¼&lt;&#x2F;h3&gt;
&lt;p&gt;ä¸ºäº†æ–¹ä¾¿ä¸Šç¡¬ä»¶ï¼Œæˆ‘ä»¬ç»¼åˆåˆ°çš„ç›®æ ‡æ˜¯ &lt;code&gt;nextpnr-ecp5&lt;&#x2F;code&gt; ä¸­ä½¿ç”¨çš„ json æ–‡ä»¶ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç»è¿‡ä»”ç»†é˜…è¯» &lt;code&gt;yosys&lt;&#x2F;code&gt; ç»¼åˆå‡ºæ¥çš„ json æ–‡ä»¶ä»¥åŠåå¤å®éªŒï¼Œæˆ‘ä»¬å¯ä»¥ç¡®å®šè¿™ä¸ª json æœ€å°éœ€è¦å†™å‡ºå¦‚ä¸‹å†…å®¹ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-json&quot; data-lang=&quot;json&quot;&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;{
    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;creator&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;ç»¼åˆå™¨åç§°å’Œç‰ˆæœ¬ï¼Œå…¶å®ç›®æµ‹å¯ä»¥ä¸å†™&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;,
    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;modules&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Module1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;&amp;lt;å†…å®¹&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;},
        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Module2&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;&amp;lt;å†…å®¹&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;},
    }
}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å…¶ä¸­ module çš„å†…å®¹ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-json&quot; data-lang=&quot;json&quot;&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;ports&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;å¯¹å¤–ç«¯å£åç§°&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;direction&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;input&#x2F;output&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;,
        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;bits&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: [&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;&amp;lt;å¯¹åº”çš„çº¿ç½‘çš„ç¬¬&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;ä¸ªbitçš„id&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;&amp;lt;å¯¹åº”çš„çº¿ç½‘çš„ç¬¬&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;ä¸ªbitçš„id&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;...&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;]
    },
    &lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;...&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;
},
&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;cells&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;å­ç»„ä»¶åç§°&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;type&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;å­ç»„ä»¶ç±»å‹&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;,
        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;parameters&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
            &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;å­ç»„ä»¶å‚æ•°å1&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;å­ç»„ä»¶å‚æ•°å€¼1&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;,
            &lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;...&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;
        },
        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;port_directions&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
            &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;å­ç»„ä»¶ç«¯å£å1&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;input&#x2F;output&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;,
            &lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;...&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;
        },
        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;connections&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
            &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;å­ç»„ä»¶ç«¯å£å1&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: [&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;&amp;lt;å­ç»„ä»¶ç«¯å£&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;è¿æ¥åˆ°çš„çº¿ç½‘çš„ç¬¬&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;ä¸ªbitçš„id&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;&amp;lt;å­ç»„ä»¶ç«¯å£&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;è¿æ¥åˆ°çš„çº¿ç½‘çš„ç¬¬&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;ä¸ªbitçš„id&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;...&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;],
            &lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;...&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;
        }
    }
},
&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;netnames&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;çº¿ç½‘åç§°&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;bits&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: [&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;&amp;lt;å¯¹åº”çš„çº¿ç½‘çš„ç¬¬&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;ä¸ªbitçš„id&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;&amp;lt;å¯¹åº”çš„çº¿ç½‘çš„ç¬¬&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;ä¸ªbitçš„id&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;...&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;]
    },
}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h3 id=&quot;parser&quot;&gt;parser&lt;&#x2F;h3&gt;
&lt;p&gt;ç•¥ï¼Œè§æˆ‘ä»¥å‰æœ‰å…³ parser combinator çš„æ–‡ç« ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ€»ä¹‹æŠŠè¿™æ ·å­çš„è¾“å…¥ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;module Top(a: bit, b: bit) -&amp;gt; bit {
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; a &amp;amp; b;
}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;parse æˆè¿™æ ·çš„ç»“æ„ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;&#x2F;&#x2F; Bracketã€é€»è¾‘å‡½æ•°çš„å®ç°åŒæ™®é€šç¼–ç¨‹è¯­è¨€ï¼Œç•¥
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;pub enum &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;Expression {
    Name(String),
    Bracket(Bracket),
    Not(Not),
    Or(Or),
    And(And),
}
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;pub struct &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;Return(pub Expression);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;pub struct &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;Port {
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;pub &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: String,
}
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;pub struct &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;Module {
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;pub &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: String,
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;pub &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: Vec&amp;lt;Port&amp;gt;,
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;&#x2F;&#x2F; todo: output type
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;pub &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;output&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: Vec&amp;lt;()&amp;gt;,
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;&#x2F;&#x2F; todo: `Statement` instead of `Return`
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;pub &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;statements&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: Vec&amp;lt;Return&amp;gt;,
}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ç„¶åå°†è¡¨è¾¾å¼ç¼–è¯‘æˆå¦‚ä¸‹çš„ LUT4:&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;pub struct &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;LUT4 {
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;pub &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: String,
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;pub &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;initial_value&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;u16&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;,
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;pub &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;input_connections&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;usize&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;; 4],
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;pub &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;output_connections&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;usize&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;,
}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ç¼–è¯‘è¿‡ç¨‹å¦‚ä¸‹ï¼Œä»£ç å¤ªä¸‘ä¸å¥½æ„æ€æ‹¿å‡ºæ¥çœ‹æˆ‘å°±æ”¾ä¼ªä»£ç äº†ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;pub fn &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;compile_expression&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;expression&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: frontend::Expression,
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;context&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: &amp;amp;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;mut&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; Context,
) -&amp;gt; Result&amp;lt;LUT4, ()&amp;gt; {
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;&#x2F;&#x2F; generate initial_value
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;let mut&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; initial_value = &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;;
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;let mut&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; variables = expression.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;variables&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;();
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;while&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; variables.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;len&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;() &amp;lt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;4 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;{
        variables.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;push&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(format!(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;dummy_&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;{}&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;, variables.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;len&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;()));
    }
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; i, (a, b, c, d) in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;tagged_cartesian_product&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(a: (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;), b: (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;), c: (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;), d: (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;)).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;enumerate&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;() {
        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; result = expression.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;evaluate&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(a, b, c, d);
        initial_value |= result &amp;lt;&amp;lt; i;
    }
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;&#x2F;&#x2F; generate input connections
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;let mut&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; connections = [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;usize&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;4&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;];
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(index, variable) in variables.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;enumerate&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;() {
        connections[index] = *context.wires.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;get&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(*variable).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;unwrap&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;();
    }
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; id = context.next_id++;
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; name = format!(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;port&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;{}&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;_LUT4&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;, id);
    context.wires.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;insert&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(format!(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;port&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;{}&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;_LUT4_Z&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;, id), id);
    Ok(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;LUT4 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;{
        name,
        initial_value,
        input_connections: connections,
        output_connections: id,
    })
}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æ€»ä¹‹å°±æ˜¯æš´åŠ›æŠŠæ‰€æœ‰å¯èƒ½å¸¦å…¥ expression æ±‚å‡ºçœŸå€¼è¡¨ï¼Œè¿›è€Œç®—å‡º LUT4 çš„åˆå§‹å€¼ï¼Œå†æ¬¡æé†’è¿™ä¸æ˜¯ç”Ÿäº§ç¯å¢ƒä¸‹çš„åšæ³•ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç„¶åå°±æ˜¯ç”Ÿæˆ JSONï¼Œè¿™é‡Œåªå±•ç¤ºä» LUT4 ç”Ÿæˆ &lt;code&gt;Cell&lt;&#x2F;code&gt; çš„ä»£ç ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;pub struct &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;Cell {
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;name&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: String,
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;component_type&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: String,
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;parameters&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: HashMap&amp;lt;String, String&amp;gt;,
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;port_directions&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: HashMap&amp;lt;String, PortDirection&amp;gt;,
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;connections&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: HashMap&amp;lt;String, Vec&amp;lt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;usize&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;gt;&amp;gt;,
}

&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;impl &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;From&amp;lt;LUT4&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;Cell {
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;fn &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;from&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;lut&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: LUT4) -&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;Self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;{
        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; port_directions = {
            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;let mut&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; m = HashMap::new();
            m.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;insert&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;A&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;to_string&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(), PortDirection::Input);
            m.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;insert&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;B&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;to_string&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(), PortDirection::Input);
            m.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;insert&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;C&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;to_string&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(), PortDirection::Input);
            m.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;insert&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;D&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;to_string&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(), PortDirection::Input);
            m.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;insert&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Z&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;to_string&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(), PortDirection::Output);
            m
        };
        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; parameters = {
            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;let mut&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; m = HashMap::new();
            m.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;insert&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;INIT&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;to_string&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(), format!(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;{:16b}&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;, lut.initial_value));
            m
        };

        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; c = [&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;A&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;, &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;B&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;, &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;C&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;, &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;D&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;]
            .&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;iter&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;()
            .&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;zip&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(lut.input_connections.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;iter&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;())
            .&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;chain&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;([&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Z&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;].&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;iter&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;zip&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(iter::once(&amp;amp;lut.output_connections)));
        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;let mut&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; connections = HashMap::new();
        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(name, &amp;amp;id) in c {
            connections.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;insert&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(name.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;to_string&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(), vec![id]);
        }

        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;Self &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;{
            name: lut.name,
            component_type: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;LUT4&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;to_string&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(),
            parameters,
            port_directions,
            connections,
        }
    }
}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å…¶ä»–éƒ¨åˆ†çš„å®ç°ç•¥ï¼Œå”¯ä¸€è¦æ³¨æ„çš„ç‚¹å°±æ˜¯è¿™é‡Œ Serde çš„å®ç°æœ‰äº›æ€ªå¼‚ï¼Œéœ€è¦è‡ªå·±æï¼Œå…·ä½“è§ä»£ç ï¼ˆç­‰æˆ‘å†™çš„å¥½ä¸€ç‚¹å°±å¼€æºï¼‰ï¼Œé‡ç‚¹å°±æ˜¯è¦æ´»ç”¨ &lt;code&gt;collect_map&lt;&#x2F;code&gt; å’Œ &lt;code&gt;serialize_map&lt;&#x2F;code&gt; å°±æ˜¯äº†ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;run-yi-xia-shi-shi&quot;&gt;Run ä¸€ä¸‹è¯•è¯•ï¼&lt;&#x2F;h3&gt;
&lt;p&gt;æˆ‘ä»¬ç”¨æˆ‘ä»¬çš„ç¨‹åºç»¼åˆä¸Šé¢æåˆ°çš„ä»£ç ï¼Œå¯ä»¥å¾—åˆ°ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-json&quot; data-lang=&quot;json&quot;&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;{
    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;creator&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Rosys 0.1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;,
    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;modules&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Top&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
            &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;ports&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
                &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;a&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
                    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;direction&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;,
                    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;bits&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;]
                },
                &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;b&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
                    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;direction&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;,
                    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;bits&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;]
                },
                &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;port4_LUT4_Z&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
                    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;direction&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;output&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;,
                    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;bits&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;4&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;]
                }
            },
            &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;cells&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
                &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;port4_LUT4&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
                    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;type&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;LUT4&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;,
                    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;parameters&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
                        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;INIT&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;1000100010001000&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;
                    },
                    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;port_directions&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
                        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;A&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;,
                        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Z&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;output&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;,
                        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;C&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;,
                        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;B&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;,
                        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;D&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;
                    },
                    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;connections&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
                        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Z&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;4&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;],
                        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;A&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;],
                        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;D&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;],
                        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;B&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;],
                        &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;C&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;]
                    }
                }
            },
            &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;netnames&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
                &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;a&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
                    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;bits&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;]
                },
                &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;b&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
                    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;bits&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;]
                },
                &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;port4_LUT4_Z&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: {
                    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;bits&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;: [&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;4&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;]
                }
            }
        }
    }
}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ç„¶åå±…ç„¶å°±å¯ä»¥ç”¨ &lt;code&gt;nextpnr-ecp5&lt;&#x2F;code&gt; æ“å‡º &lt;code&gt;config&lt;&#x2F;code&gt; æ–‡ä»¶ï¼Œç„¶åç”¨ &lt;code&gt;ecppack&lt;&#x2F;code&gt; åšå‡º bitï¼Œç„¶åæŠŠå®ƒçƒ§å½•è¿› FPGA é‡Œå±…ç„¶å°±å¯ä»¥ç”¨äº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æˆ‘ä»¬å±…ç„¶è¿™ä¹ˆå®¹æ˜“å°±å†™å‡ºäº†ä¸€ä¸ªèƒ½åŠ¨çš„ç»¼åˆå™¨ã€‚
æ¥ä¸‹æ¥å°†ä¼šä»‹ç»æ›´å¤šé€»è¾‘ç»¼åˆçš„ç›¸å…³å†…å®¹ï¼Œé¢„å®šä¼šå†™æ›´å¤æ‚é€»è¾‘å‡½æ•°çš„ç»¼åˆå’Œæ—¶åºé€»è¾‘ç”µè·¯çš„ç»¼åˆã€‚&lt;&#x2F;p&gt;
</content>
	</entry>
	<entry xml:lang="zh">
		<title>macOS ç”¨æˆ·ä¹Ÿè¦ç© FPGAï¼</title>
		<published>2021-04-24T16:53:12.045+00:00</published>
		<updated>2021-04-24T16:53:12.045+00:00</updated>
		<link href="https://longfangsong.github.io/macos-fpga/" type="text/html"/>
		<id>https://longfangsong.github.io/macos-fpga/</id>
		<content type="html">&lt;p&gt;å†²ç€èƒ½ç”¨å¼€æºå·¥å…·é“¾å…¥äº†ä¸€å— iCESugar-Proï¼Œæœ¬æ¥æƒ³ç€å¦‚æœ macOS ç¯å¢ƒæä¸å®šå°±ä¸‹å®˜æ–¹çš„è™šæ‹Ÿæœºï¼Œç»“æœå±…ç„¶ç»™æˆ‘é…æˆäº†ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;ise-vivado-quartus-de-que-dian&quot;&gt;ISE&#x2F;Vivado&#x2F;Quartus çš„ç¼ºç‚¹&lt;&#x2F;h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ”¶è´¹&lt;&#x2F;p&gt;
&lt;p&gt;æˆ‘æ²¡é’±ã€‚&lt;del&gt;æˆ‘ç”¨ç›—ç‰ˆï¼Œæˆ‘è®©å›½å¤–èµ„æœ¬ä¸»ä¹‰å·¨å¤´äºéº»äº†ï¼Œæˆ‘éª„å‚²ã€‚&lt;&#x2F;del&gt;&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;é™å®šç³»ç»Ÿ&lt;&#x2F;p&gt;
&lt;p&gt;é¦–å…ˆï¼Œæ²¡æœ‰ä¸€ä¸ªæœ‰ macOS æ”¯æŒï¼Œå…¶æ¬¡ Linux æ”¯æŒä¹Ÿä¸ç”šå®Œæ•´ï¼ˆUbuntu è£… ISE èƒ½å¼ºè¡Œè£…ä¸Šï¼Œä½†åŸºæœ¬è·‘ä¸èµ·æ¥ï¼Œå®˜æ–¹æ”¯æŒåˆ—è¡¨é‡Œå¥½åƒåªæœ‰çº¢å¸½ï¼Œä¹Ÿè®¸ centos å¯ä»¥ä½†æˆ‘çœŸçš„ä¸æ˜¯å¾ˆå–œæ¬¢è¿™ä¸ªå‘è¡Œç‰ˆï¼‰ï¼ŒåŸºæœ¬ä¸Šåªæœ‰ Windows èƒ½ç”¨â€¦â€¦&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;å‘½ä»¤è¡Œæ”¯æŒçƒ‚ï¼ˆIDE è¿˜ä¸‘ï¼‰&lt;&#x2F;p&gt;
&lt;p&gt;æˆ‘å°±æ˜¯æƒ³ç”¨ Vim&#x2F;VSCode å†™ Verilog&#x2F;Chisel ç„¶åç”¨ Makefile ç¼–è¯‘å’Œä¸‹è½½å•Šï¼ï¼ï¼
è°æƒ³ç”¨é‚£äº›ä¸ªéš¾çœ‹çš„ä¸å¾—äº†åˆå¡äº¤äº’é€»è¾‘åˆå¥‡æ€ªçš„ IDE å•Šï¼ï¼ï¼
è™½è¯´æŠ€æœ¯ä¸Šè¿™å‡ ä¸ªè®¾è®¡å·¥å…·éƒ½æœ‰å‘½ä»¤è¡Œæ¥å£ï¼Œä½†æ˜¯èµ„æ–™å’Œä¾‹å­å°±åŸºæœ¬æ²¡æœ‰äº†ï¼Œå¥½ä¸å®¹æ˜“çœ‹åˆ°ä¸€ä¸ªå®˜æ–¹çš„æ–‡æ¡£ç„¶åæ‰“å¼€ä¸€çœ‹æ‹¿å‡ åƒä¸ªé€‰é¡¹ç”©ä½ ä¸€è„¸â€¦â€¦&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;å¯¹å­¦ä¹ è‡ªåŠ¨ç»¼åˆåŸç†ç­‰æ²¡æœ‰å¸®åŠ©&lt;&#x2F;p&gt;
&lt;p&gt;çœ‹ä¸äº†ä»£ç ï¼Œå­¦ä¹ ï¼Œå­¦ä¸ªå±ã€‚
ä¸è¿‡è¯´å®è¯æˆ‘æ˜¯å¸Œæœ›æœ‰ä¹¦èƒ½è®²è®²è¿™ä¸ªçš„â€¦â€¦å…‰çœ‹ä»£ç è¿˜æ˜¯å¤ªç—›è‹¦äº†ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h2 id=&quot;kai-yuan-gong-ju-lian&quot;&gt;å¼€æºå·¥å…·é“¾&lt;&#x2F;h2&gt;
&lt;h3 id=&quot;claire-wolf-de-chuan-qi&quot;&gt;&lt;a href=&quot;http:&#x2F;&#x2F;www.clifford.at&#x2F;&quot;&gt;Claire Wolf&lt;&#x2F;a&gt; çš„ä¼ å¥‡&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™ä¸ªäººå°±æ˜¯å¼€æºç¡¬ä»¶ä¸–ç•Œé‡Œçš„ Richard Stallman&lt;sup class=&quot;footnote-reference&quot;&gt;&lt;a href=&quot;#1&quot;&gt;1&lt;&#x2F;a&gt;&lt;&#x2F;sup&gt;ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™ä¸ªäºº 2012 å¹´å‡ ä¹å•æªåŒ¹é©¬åšå‡ºäº†å¼€æº Verilog é€»è¾‘ç»¼åˆå·¥å…· &lt;a href=&quot;http:&#x2F;&#x2F;www.clifford.at&#x2F;yosys&#x2F;&quot;&gt;Yosys&lt;&#x2F;a&gt;ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;2015 å¹´ï¼ˆä¹Ÿæ˜¯å‡ ä¹å•æªåŒ¹é©¬ï¼‰åšå‡ºäº†å¼€æº RISC-V æ ¸ &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;cliffordwolf&#x2F;picorv32&quot;&gt;picorv32&lt;&#x2F;a&gt;ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åŒå¹´å¼€å§‹ &lt;a href=&quot;http:&#x2F;&#x2F;www.clifford.at&#x2F;icestorm&#x2F;&quot;&gt;icestorm&lt;&#x2F;a&gt; é¡¹ç›®ï¼Œå¼€å§‹é’ˆå¯¹ Lattice FPGA æ•´åˆæ•´æ¡å¼€æºå·¥å…·é“¾ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;2018 å¹´ï¼Œå¼€å§‹ FPGA å¸ƒå±€å¸ƒçº¿å·¥å…·é¡¹ç›® &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;YosysHQ&#x2F;nextpnr&quot;&gt;nextpnr&lt;&#x2F;a&gt;ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ€»ä¹‹ä¸€å¥è¯ï¼Œå¼€æº FPGA ç•Œçš„åŸºç¡€è½¯ä»¶åŸºæœ¬ä¸Šæ˜¯è¿™ä¸ªäººä¸€ä¸ªäººæ‰“çš„åŸºç¡€ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;çœ‹å®Œè¿™ä¸ªäººçš„ç»å†ä¹‹åæˆ‘åªæƒ³ç”¨ä¸€ä¸ªè¡¨æƒ…åŒ…è¡¨è¾¾æˆ‘çš„å¿ƒæƒ…ï¼š&lt;&#x2F;p&gt;
&lt;p&gt;æˆ‘ä¹Ÿèƒ½ï¼Œåƒä»–ä¸€æ ·å—.jpg ï¼ˆä¸ä¼š PS æ‰€ä»¥è¡¨æƒ…åŒ…è¯·è‡ªè¡Œè„‘è¡¥ ğŸ˜„ï¼‰&lt;&#x2F;p&gt;
&lt;p&gt;è¯´äº†é‚£ä¹ˆå¤šæˆ‘ä»¬è¿˜æ˜¯çœ‹çœ‹è¿™äº›å·¥å…·æ€ä¹ˆç”¨å§ï¼Œæ¯•ç«Ÿæˆ‘ç°åœ¨ä¹Ÿå°±åªèƒ½ç”¨ç”¨è¿™äº›å·¥å…·äº†ï¼Œç¦»å»å¼€å‘è¿™äº›ä¸œè¥¿è¿˜å¤ªè¿œğŸ˜­ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;yosys-zong-he-gong-ju&quot;&gt;Yosys ç»¼åˆå·¥å…·&lt;&#x2F;h3&gt;
&lt;p&gt;è™½ç„¶è¯´ &lt;code&gt;brew&lt;&#x2F;code&gt; å¯ä»¥è£…ä¸Šï¼Œä½†æ˜¯é‚£ä¸ªç‰ˆæœ¬å¤ªè€äº†ï¼Œå’Œå…¶ä»–å·¥å…·ï¼ˆæ¯”å¦‚ &lt;code&gt;nextpnr&lt;&#x2F;code&gt;ï¼‰é…åˆä½¿ç”¨ä¼šå‡ºé—®é¢˜ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;clone-dai-ma&quot;&gt;clone ä»£ç &lt;&#x2F;h4&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; clone https:&#x2F;&#x2F;github.com&#x2F;YosysHQ&#x2F;yosys.git
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h4 id=&quot;zhuang-yi-lai&quot;&gt;è£…ä¾èµ–&lt;&#x2F;h4&gt;
&lt;p&gt;&lt;code&gt;yosys&lt;&#x2F;code&gt; æä¾›äº† &lt;code&gt;Brewfile&lt;&#x2F;code&gt;ï¼Œåƒå®˜æ–¹è¯´çš„ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;brew&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; tap Homebrew&#x2F;bundle &amp;amp;&amp;amp; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;brew&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; bundle
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å°±å¥½äº†&lt;sup class=&quot;footnote-reference&quot;&gt;&lt;a href=&quot;#2&quot;&gt;2&lt;&#x2F;a&gt;&lt;&#x2F;sup&gt;ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;make&quot;&gt;make&lt;&#x2F;h4&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;make -j&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;(nproc)
make&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; install
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h4 id=&quot;shi-yong&quot;&gt;ä½¿ç”¨&lt;&#x2F;h4&gt;
&lt;p&gt;&lt;code&gt;yosys&lt;&#x2F;code&gt; å¯ä»¥é€šè¿‡ &lt;code&gt;-p&lt;&#x2F;code&gt; å‚æ•°æ¥å—ä¸€ä¸ª â€œç»¼åˆè„šæœ¬â€ï¼Œæˆ–è€…é€šè¿‡ &lt;code&gt;-s&lt;&#x2F;code&gt; æ¥å—ç»¼åˆè„šæœ¬æ–‡ä»¶ï¼Œæˆ–è€…ä¸åŠ ä»»ä½•å‚æ•°çš„è¯å¯ä»¥ç›´æ¥ &lt;code&gt;yosys&lt;&#x2F;code&gt; ä¸€ä¸ªå‘½ä»¤ç›´æ¥ REPL æ‰§è¡Œï¼Œç›®å‰æˆ‘å·²çŸ¥çš„è„šæœ¬å‘½ä»¤æœ‰ï¼š&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;read_verilog&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;p&gt;ç”¨äºè¯»å– verilog æ–‡ä»¶ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;synth_ecp5&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;p&gt;ç”¨äºå®é™…ç»¼åˆï¼Œä¼ å…¥ &lt;code&gt;-json&lt;&#x2F;code&gt; æ¥è·å– json æ ¼å¼çš„è¾“å‡ºã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;ä¾‹å¦‚ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;yosys -p &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;read_verilog blink.v; read_verilog rst_gen.v; synth_ecp5 -json main.json&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æˆ–è€…ä¹Ÿå¯ä»¥å†™æˆï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;yosys -p &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;synth_ecp5 -json main.json&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot; blink.v rst_gen.v
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h3 id=&quot;nextpnr-bu-ju-bu-xian-gong-ju&quot;&gt;nextpnr å¸ƒå±€å¸ƒçº¿å·¥å…·&lt;&#x2F;h3&gt;
&lt;h4 id=&quot;clone-dai-ma-1&quot;&gt;clone ä»£ç &lt;&#x2F;h4&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; clone https:&#x2F;&#x2F;github.com&#x2F;YosysHQ&#x2F;nextpnr.git
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h4 id=&quot;an-zhuang-trellis-zu-jian-yu-gong-ju-ku&quot;&gt;å®‰è£… Trellis ç»„ä»¶ä¸å·¥å…·åº“&lt;&#x2F;h4&gt;
&lt;p&gt;Trellis ç»„ä»¶åº“ä¸å·¥å…·åº“ä¸º nextpnr æä¾›äº† Lattice ECP5 çš„ç»„ä»¶åº“ä»¥åŠç”¨äºç”Ÿæˆ bitstream çš„ &lt;code&gt;ecppack&lt;&#x2F;code&gt; å·¥å…·ã€‚&lt;&#x2F;p&gt;
&lt;h5 id=&quot;clone-dai-ma-2&quot;&gt;clone ä»£ç &lt;&#x2F;h5&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; clone&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt; --recursive&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; https:&#x2F;&#x2F;github.com&#x2F;YosysHQ&#x2F;prjtrellis
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h5 id=&quot;make-1&quot;&gt;make&lt;&#x2F;h5&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;cd&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; libtrellis
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# å°±ç®— sudo äº†ä¹Ÿä¸èƒ½è£…åœ¨ &#x2F;usr é‡Œï¼Œç›´æ¥è·Ÿç€ brew è£… &#x2F;usr&#x2F;local é‡Œå°±è¡Œ
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;cmake -DCMAKE_INSTALL_PREFIX=&#x2F;usr&#x2F;local .
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;make -j&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;(nproc)
sudo&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; make install
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h4 id=&quot;make-2&quot;&gt;make&lt;&#x2F;h4&gt;
&lt;p&gt;åœ¨å…‹éš†ä¸‹æ¥çš„ &lt;code&gt;nextpnr&lt;&#x2F;code&gt; ä»“åº“ä¸‹ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;cmake&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; .&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt; -DARCH&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;=ecp5&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt; -DTRELLIS_INSTALL_PREFIX&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;=&#x2F;usr&#x2F;local
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;make -j&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;$&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;(nproc)
sudo&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; make install
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h4 id=&quot;shi-yong-1&quot;&gt;ä½¿ç”¨&lt;&#x2F;h4&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;nextpnr-ecp5&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; --&amp;lt;å‹å·&amp;gt; --package &amp;lt;å°è£…&amp;gt; --json &amp;lt;åˆšåˆšç»¼åˆå‡ºæ¥çš„ JSON&amp;gt; --lpf &amp;lt;å¼•è„šåˆ†é…æ–‡ä»¶&amp;gt; --textcfg &amp;lt;è¾“å‡ºåˆ° config æ–‡ä»¶&amp;gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;iCESugar-Pro ä¸Šçš„ FPGA å‹å·æ˜¯ &lt;code&gt;25k&lt;&#x2F;code&gt;ï¼Œå°è£…æ–¹å¼æ˜¯ &lt;code&gt;CABGA256&lt;&#x2F;code&gt;ã€‚&lt;&#x2F;p&gt;
&lt;h5 id=&quot;lpf-wen-jian&quot;&gt;LPF æ–‡ä»¶&lt;&#x2F;h5&gt;
&lt;p&gt;ä¸»è¦ä½¿ç”¨ä¸‹é¢å‡ ä¸ªå‘½ä»¤ï¼š&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;LOCATE&lt;&#x2F;code&gt;&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-lpf&quot; data-lang=&quot;lpf&quot;&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;LOCATE COMP &amp;quot;&amp;lt;ä»£ç å†…åç§°&amp;gt;&amp;quot; SITE &amp;quot;&amp;lt;ç¡¬ä»¶æ‰‹å†Œä¸Šçš„ç¼–å·&amp;gt;&amp;quot;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ä¾‹å¦‚ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-lpf&quot; data-lang=&quot;lpf&quot;&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;LOCATE COMP &amp;quot;clk&amp;quot; SITE &amp;quot;A1&amp;quot;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;ecppack-bitstream-sheng-cheng-qi&quot;&gt;ecppack bitstream ç”Ÿæˆå™¨&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;code&gt;ecppack&lt;&#x2F;code&gt; æ˜¯ Trellis ç»„ä»¶ä¸å·¥å…·åº“çš„ä¸€éƒ¨åˆ†ï¼Œå‰é¢å·²ç»å®‰è£…å¥½äº†ã€‚&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;ecppack &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;lt;config æ–‡ä»¶&amp;gt; --bit &amp;lt;ç›®æ ‡ .bit æ–‡ä»¶&amp;gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h3 id=&quot;xia-zai&quot;&gt;ä¸‹è½½&lt;&#x2F;h3&gt;
&lt;p&gt;iCESugar-Pro è¿åˆ°ç”µè„‘ä¸Šå°±ä¸€Uç›˜ï¼Œå¯ä»¥ç›´æ¥æ‹–ï¼æ‹½ï¼ä¸‹ï¼è½½ï¼ä½œè€…å¤ª tmd è‰¯å¿ƒäº†ï¼ï¼ï¼&lt;&#x2F;p&gt;
&lt;div class=&quot;footnote-definition&quot; id=&quot;1&quot;&gt;&lt;sup class=&quot;footnote-definition-label&quot;&gt;1&lt;&#x2F;sup&gt;
&lt;p&gt;æ¯” RMS nb çš„æ˜¯ï¼ŒClaire Wolf æ˜¯ä¸€ä½ MTFï¼Œæ”¿æ²»æ­£ç¡®çš„ä¸€åŒ¹ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;div&gt;
&lt;div class=&quot;footnote-definition&quot; id=&quot;2&quot;&gt;&lt;sup class=&quot;footnote-definition-label&quot;&gt;2&lt;&#x2F;sup&gt;
&lt;p&gt;åœ¨ GFW å†…çº¦è€—æ—¶ä¸€ä¸ªä¸–çºªã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;div&gt;
</content>
	</entry>
	<entry xml:lang="zh">
		<title>RoCC RISC-V æ‰©å±•æ–¹æ¡ˆ</title>
		<published>2021-04-19T15:45:33.706+00:00</published>
		<updated>2021-04-19T15:45:33.706+00:00</updated>
		<link href="https://longfangsong.github.io/riscv-rocc/" type="text/html"/>
		<id>https://longfangsong.github.io/riscv-rocc/</id>
		<content type="html">&lt;p&gt;RoCC æ˜¯é€šè¿‡å‘ RISC-V å¤„ç†å™¨æ·»åŠ æ‰©å±•çš„åŠå®˜æ–¹&lt;sup class=&quot;footnote-reference&quot;&gt;&lt;a href=&quot;#1&quot;&gt;1&lt;&#x2F;a&gt;&lt;&#x2F;sup&gt;æ–¹æ¡ˆï¼Œæœ€æ—©ç”¨äº BSD çš„ Rocket-coreã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;rocc-gui-ding-de-kuo-zhan-zhi-ling&quot;&gt;RoCC è§„å®šçš„æ‰©å±•æŒ‡ä»¤&lt;&#x2F;h2&gt;
&lt;p&gt;RoCC ä½¿ç”¨äº† RISCV æ ‡å‡†ä¸­é¢„ç•™çš„æ‰€æœ‰å››ä¸ªæ‰©å±•æ§½ä½ï¼Œå¹¶è§„å®šäº†å¦‚ä¸‹æŒ‡ä»¤æ ¼å¼ï¼š&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;.&#x2F;rocc-inst.png&quot; alt=&quot;RoCC inst&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;å…¶ä¸­ &lt;code&gt;xd&lt;&#x2F;code&gt;ã€&lt;code&gt;xs1&lt;&#x2F;code&gt;ã€&lt;code&gt;xs2&lt;&#x2F;code&gt; åˆ†åˆ«è¡¨ç¤ºå¯¹åº”çš„å¯„å­˜å™¨æ˜¯å¦è¢«ä½¿ç”¨åˆ°äº†ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;rocc-he-cpu-zhi-jian-de-jiao-hu&quot;&gt;RoCC å’Œ CPU ä¹‹é—´çš„äº¤äº’&lt;&#x2F;h2&gt;
&lt;p&gt;RoCC ä¸»è¦é€šè¿‡å¦‚ä¸‹æ¥å£å’Œ CPU è¿›è¡Œäº¤äº’ï¼š&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;CPU é€šè¿‡ &lt;code&gt;Cmd&lt;&#x2F;code&gt; æ¥å£å°†æŒ‡ä»¤å’Œç›¸å…³å¯„å­˜å™¨çš„å€¼å‘é€ç»™ RoCC åŠ é€Ÿå™¨&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;RoCC åŠ é€Ÿå™¨é€šè¿‡ &lt;code&gt;Resp&lt;&#x2F;code&gt; æ¥å£å°†è®¡ç®—ç»“æœï¼ˆè¦å†™å…¥çš„å¯„å­˜å™¨å·å’Œå€¼ï¼‰è¿”å›åˆ° CPU&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;RoCC é€šè¿‡ &lt;code&gt;busy&lt;&#x2F;code&gt; æ ‡è®°åŠ é€Ÿå™¨æ˜¯å¦å¤„äºå¿™çŠ¶æ€&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;RoCC è‡ªèº«ä¹Ÿå¯ä»¥è®¿é—®å†…å­˜ã€å¼•å‘ä¸­æ–­ç­‰&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;div class=&quot;footnote-definition&quot; id=&quot;1&quot;&gt;&lt;sup class=&quot;footnote-definition-label&quot;&gt;1&lt;&#x2F;sup&gt;
&lt;p&gt;æŒ‡ç”± RISC-V äº²çˆ¹ BSD ç ”å‘ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;div&gt;
</content>
	</entry>
	<entry xml:lang="zh">
		<title>å†…è”æ±‡ç¼– cheatsheet</title>
		<published>2021-04-18T07:34:52.996+00:00</published>
		<updated>2021-04-18T07:34:52.996+00:00</updated>
		<link href="https://longfangsong.github.io/inline-asm-cheatsheet/" type="text/html"/>
		<id>https://longfangsong.github.io/inline-asm-cheatsheet/</id>
		<content type="html">&lt;h2 id=&quot;ji-ben-yu-fa-mo-ban&quot;&gt;åŸºæœ¬è¯­æ³•æ¨¡ç‰ˆ&lt;&#x2F;h2&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;asm&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(
    &amp;lt;ä»£ç &amp;gt;:
    &amp;lt;è¾“å‡ºåˆ°å“ªäº›å˜é‡&amp;gt;:
    &amp;lt;ä»å“ªäº›å˜é‡è¾“å…¥&amp;gt;:
    &amp;lt;å‰¯ä½œç”¨ä¼šå½±å“ä»€ä¹ˆ&amp;gt;
)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å…¶ä¸­æ¯ä¸ªå€¼å¦‚æœæœ‰å¤šä¸ªçš„è¯éƒ½æ˜¯ç”¨é€—å·åˆ†éš”ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;shu-ru-shu-chu-bian-liang&quot;&gt;è¾“å…¥è¾“å‡ºå˜é‡&lt;&#x2F;h3&gt;
&lt;p&gt;è¾“å…¥è¾“å‡ºå˜é‡çš„å¸¸ç”¨æ ¼å¼ä¸ºï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;ä¿®é¥°ç¬¦&amp;gt;&amp;lt;çº¦æŸ&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;(&amp;lt;å˜é‡&amp;gt;)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h4 id=&quot;yue-shu&quot;&gt;çº¦æŸ&lt;&#x2F;h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;r&lt;&#x2F;code&gt;
æŒ‡ä»£æŸä¸ªé€šç”¨å¯„å­˜å™¨&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;m&lt;&#x2F;code&gt;
æŒ‡ä»£æŸä¸ªå˜é‡çš„å†…å­˜åœ°å€, åé¢çš„æ‹¬å·å¡«å…¥çš„æ˜¯å˜é‡æœ¬èº«è€Œéå˜é‡åœ°å€&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;i&lt;&#x2F;code&gt;
æŒ‡ä»£æŸä¸ªç«‹å³æ•°&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h4 id=&quot;xiu-shi-fu&quot;&gt;ä¿®é¥°ç¬¦&lt;&#x2F;h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;=&lt;&#x2F;code&gt;
æŒ‡è¿™ä¸ªå˜é‡&#x2F;å¯„å­˜å™¨è¢«å†™å…¥äº†ï¼Œä¸€èˆ¬æ‰€æœ‰è¾“å‡ºå˜é‡éƒ½ä¼šå¸¦ä¸Šè¿™ä¸ªã€‚&lt;&#x2F;li&gt;
&lt;li&gt;&lt;code&gt;+&lt;&#x2F;code&gt;
æŒ‡è¿™ä¸ªå˜é‡&#x2F;å¯„å­˜å™¨è¢«è¯»å–å’Œå†™å…¥äº†&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;fu-zuo-yong-hui-ying-xiang-shi-yao&quot;&gt;å‰¯ä½œç”¨ä¼šå½±å“ä»€ä¹ˆ&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™é‡Œä¸€èˆ¬å°±å¡«ä¸€äº›æ ‡è®°å¯„å­˜å™¨å’Œ &lt;code&gt;memory&lt;&#x2F;code&gt;ã€‚&lt;&#x2F;p&gt;
</content>
	</entry>
	<entry xml:lang="zh">
		<title>Hack RISC-V æŒ‡ä»¤é›†</title>
		<published>2021-04-17T07:34:52.996+00:00</published>
		<updated>2021-04-17T07:34:52.996+00:00</updated>
		<link href="https://longfangsong.github.io/hack-riscv-isa/" type="text/html"/>
		<id>https://longfangsong.github.io/hack-riscv-isa/</id>
		<content type="html">&lt;h2 id=&quot;huan-jing&quot;&gt;ç¯å¢ƒ&lt;&#x2F;h2&gt;
&lt;p&gt;æœ¬æ–‡å‡è®¾ç”¨æˆ·ä½¿ç”¨åŸºäº debian çš„ Linux ç³»ç»Ÿï¼Œæœ‰ &lt;code&gt;su&lt;&#x2F;code&gt; æˆ–è€… &lt;code&gt;sudo&lt;&#x2F;code&gt; çš„èƒ½åŠ›&lt;sup class=&quot;footnote-reference&quot;&gt;&lt;a href=&quot;#1&quot;&gt;1&lt;&#x2F;a&gt;&lt;&#x2F;sup&gt;ï¼Œå¹¶ä¸”ç”¨çš„æ–‡ä»¶ç³»ç»Ÿæ˜¯åŒºåˆ†å¤§å°å†™&lt;sup class=&quot;footnote-reference&quot;&gt;&lt;a href=&quot;#2&quot;&gt;2&lt;&#x2F;a&gt;&lt;&#x2F;sup&gt;çš„ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç„¶åè¯·äº‹å…ˆå®‰è£… &lt;code&gt;git&lt;&#x2F;code&gt; ä»¥åŠä»»æ„æ–‡æœ¬ç¼–è¾‘å™¨ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;gnu-bian-yi-gong-ju-lian&quot;&gt;GNU ç¼–è¯‘å·¥å…·é“¾&lt;&#x2F;h2&gt;
&lt;h3 id=&quot;clone-dai-ma&quot;&gt;clone ä»£ç &lt;&#x2F;h3&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; clone https:&#x2F;&#x2F;github.com&#x2F;riscv&#x2F;riscv-gnu-toolchain
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ç„¶åè¿›å…¥ clone åˆ°çš„æ–‡ä»¶å¤¹ä¸­ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;zhuang-yi-lai&quot;&gt;è£…ä¾èµ–&lt;&#x2F;h3&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;apt-get&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; install autoconf automake autotools-dev curl python3 libmpc-dev libmpfr-dev libgmp-dev gawk build-essential bison flex texinfo gperf libtool patchutils bc zlib1g-dev libexpat-dev
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h3 id=&quot;zhun-bei-yao-an-zhuang-dao-de-wei-zhi&quot;&gt;å‡†å¤‡è¦å®‰è£…åˆ°çš„ä½ç½®&lt;&#x2F;h3&gt;
&lt;p&gt;æ¯”å¦‚è¦æŠŠå·¥å…·é“¾è£…åˆ° &lt;code&gt;&#x2F;opt&#x2F;riscv&lt;&#x2F;code&gt; ä¸‹çš„è¯ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;mkdir&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; &#x2F;opt&#x2F;riscv
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;chmod&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; 777 &#x2F;opt&#x2F;riscv &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;# just use 777, who cares about bad guys?
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h3 id=&quot;configure&quot;&gt;&lt;code&gt;configure&lt;&#x2F;code&gt;&lt;&#x2F;h3&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;.&#x2F;configure --prefix&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;=&#x2F;opt&#x2F;riscv&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt; --enable-multilib
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h3 id=&quot;make&quot;&gt;&lt;code&gt;make&lt;&#x2F;code&gt;&lt;&#x2F;h3&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;make
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;One eternity later ...&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;make&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; linux
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;Two eternities later ...&lt;&#x2F;p&gt;
&lt;p&gt;æ³¨æ„æ¯æ¬¡ &lt;code&gt;make&lt;&#x2F;code&gt; çš„æ—¶å€™éƒ½ä¼šä¸‹è½½å¯¹åº”çš„ &lt;code&gt;submodule&lt;&#x2F;code&gt;ï¼Œè¯·ä¿è¯æœ‰æ­£å¸¸çš„ç½‘ç»œç¯å¢ƒã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç„¶å &lt;code&gt;&#x2F;opt&#x2F;riscv&lt;&#x2F;code&gt; é‡Œå°±æœ‰ç¼–è¯‘å™¨ã€lib ç­‰ç­‰äº†ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;tian-jia-zi-ding-yi-zhi-ling&quot;&gt;æ·»åŠ è‡ªå®šä¹‰æŒ‡ä»¤&lt;&#x2F;h3&gt;
&lt;p&gt;ç¼–è¾‘ &lt;code&gt;riscv-binutils&#x2F;opcodes&#x2F;riscv-opc.c&lt;&#x2F;code&gt;ï¼Œåœ¨ &lt;code&gt;riscv_opcodes&lt;&#x2F;code&gt; ä¸­åŠ å…¥æ–°çš„æŒ‡ä»¤:&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;{
    &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;æŒ‡ä»¤åç§°&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;, &amp;lt;æŒ‡ä»¤ç±»å‹&amp;gt;, &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;&amp;lt;æ“ä½œæ•°&amp;gt;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;, 
    &amp;lt;åŒ¹é…&amp;gt;, &amp;lt;æ©ç &amp;gt;, match_opcode, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;},
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ä»£è¡¨ä½¿ç”¨æ—¶å½¢å¦‚ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-asm&quot; data-lang=&quot;asm&quot;&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;&amp;lt;æŒ‡ä»¤åç§°&amp;gt; &amp;lt;æ“ä½œæ•°&amp;gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;çš„ä¸€æ¡æ±‡ç¼–æŒ‡ä»¤ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;zhi-ling-lei-xing&quot;&gt;æŒ‡ä»¤ç±»å‹&lt;&#x2F;h4&gt;
&lt;p&gt;å»ºè®®æ— è„‘ç»™ &lt;code&gt;INSN_CLASS_I&lt;&#x2F;code&gt;, å› ä¸º &lt;code&gt;I&lt;&#x2F;code&gt; åœ¨æ‰€æœ‰æƒ…å†µä¸‹éƒ½æ˜¯æ”¯æŒçš„ï¼Œæ— éœ€åœ¨ç¼–è¯‘æ—¶æ‰‹åŠ¨å¼€å¯å„ä¸ªæŒ‡ä»¤é›†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æš‚æ—¶ä¸æ¸…æ¥šæ˜¯å¦æ”¯æŒåœ¨ &lt;code&gt;include&#x2F;opcode&#x2F;riscv.h&lt;&#x2F;code&gt; ä¸­çš„ &lt;code&gt;riscv_insn_class&lt;&#x2F;code&gt; ä¸­æ·»åŠ è‡ªå·±çš„æŒ‡ä»¤é›†åç§°ï¼Œç„¶ååœ¨è¿™é‡Œä½¿ç”¨ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;cao-zuo-shu&quot;&gt;æ“ä½œæ•°&lt;&#x2F;h4&gt;
&lt;p&gt;è¿™æˆ‘ä¸€ç›´æ²¡æ‰¾åˆ°ä¸€ä¸ªè¯´æ˜çš„æ–‡æ¡£ï¼Œåªæœ‰æ ¹æ®å·²ç»å†™å¥½çš„éƒ¨åˆ†å’Œä»£ç ï¼ˆä»£ç åœ¨ &lt;code&gt;riscv-binutils&#x2F;gas&#x2F;config&#x2F;tc-riscv.c&lt;&#x2F;code&gt;ï¼‰æ¨äº†&lt;sup class=&quot;footnote-reference&quot;&gt;&lt;a href=&quot;#3&quot;&gt;3&lt;&#x2F;a&gt;&lt;&#x2F;sup&gt;ï¼š&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;d&lt;&#x2F;code&gt;
ä»£è¡¨ç›®æ ‡å¯„å­˜å™¨&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;s&lt;&#x2F;code&gt;
ä»£è¡¨ç¬¬ä¸€ä¸ªå¯„å­˜å™¨æ“ä½œæ•°&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;t&lt;&#x2F;code&gt;
ä»£è¡¨ç¬¬äºŒä¸ªå¯„å­˜å™¨æ“ä½œæ•°&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;j&lt;&#x2F;code&gt;
ä»£è¡¨ä¸€ä¸ªç«‹å³æ•°&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;o(s)&lt;&#x2F;code&gt;
ä»£è¡¨ç”¨äºè¯»å–å‡ºæ¥çš„ä¸€ä¸ªåœ°å€ï¼Œæ ¼å¼ä¸ºå¯„å­˜å™¨ + åç§»é‡&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;q(s)&lt;&#x2F;code&gt;
ä»£è¡¨ç”¨äºå†™å…¥è¿›å»çš„ä¸€ä¸ªåœ°å€ï¼Œæ ¼å¼ä¸ºå¯„å­˜å™¨ + åç§»é‡&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;&amp;lt;&lt;&#x2F;code&gt; å’Œ &lt;code&gt;&amp;gt;&lt;&#x2F;code&gt;
ä»£è¡¨ç§»ä½çš„ä½æ•°&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h5 id=&quot;ke-zhi-ji-cun-qi&quot;&gt;å®¢åˆ¶å¯„å­˜å™¨&lt;&#x2F;h5&gt;
&lt;p&gt;è¿™é‡Œå‡è®¾ä½ å¸Œæœ›åœ¨å†…è”æ±‡ç¼–é‡Œæ‰‹å†™å¯„å­˜å™¨è€Œä¸æ˜¯è®© gcc ä¸ºä½ åˆ†é…ä½ çš„å®¢åˆ¶å¯„å­˜å™¨ï¼Œæ¯”å¦‚ä½ å¸Œæœ›æ·»åŠ ä¸€ä¸ªè¯»å–çŸ©é˜µçš„æŒ‡ä»¤ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;{&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;matload&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;, INSN_CLASS_I, &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;Md,o(s)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0x100b&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0x707f&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;, match_opcode, INSN_DREF},
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¿™é‡Œçš„ &lt;code&gt;Md&lt;&#x2F;code&gt; ä»£è¡¨ä¸€ä¸ªçŸ©é˜µå¯„å­˜å™¨ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;é‚£ä¹ˆä½ éœ€è¦åœ¨ gnu å·¥å…·é“¾ä¸­è¿›è¡Œå¦‚ä¸‹ä¿®æ”¹ï¼š&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;åœ¨ &lt;code&gt;riscv-binutils&#x2F;opcodes&#x2F;riscv-opc.c&lt;&#x2F;code&gt; ä¸­çš„ &lt;code&gt;riscv_fpr_names_abi&lt;&#x2F;code&gt; ä¸‹é¢ï¼Œæ·»åŠ ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œä¿å­˜ä½ çš„å„ä¸ªå¯„å­˜å™¨çš„åå­—ï¼Œå¹¶åœ¨ &lt;code&gt;riscv-binutils&#x2F;include&#x2F;opcode&#x2F;riscv.h&lt;&#x2F;code&gt; æ·»åŠ ç›¸åº”çš„å£°æ˜ï¼Œä¾‹å¦‚ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;&#x2F;&#x2F; riscv.h
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;extern const char &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;const&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; riscv_mat_names_numeric[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;8&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;];
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;&#x2F;&#x2F; riscv-opc.c
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;const char &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;const&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; riscv_mat_names_numeric[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;8&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;] ={&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;mat0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;, &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;mat1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;, &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;mat2&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;, &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;mat3&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;, &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;mat4&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;, &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;mat5&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;, &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;mat6&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;, &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;mat7&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;};
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨ &lt;code&gt;reg_class&lt;&#x2F;code&gt; ï¼ˆåœ¨ &lt;code&gt;riscv-binutils&#x2F;gas&#x2F;config&#x2F;tc-riscv.c&lt;&#x2F;code&gt;ï¼‰ä¸­æ·»åŠ è¿™ä¸ªå®¢åˆ¶å¯„å­˜å™¨é›†çš„â€œåç§°â€ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-diff&quot; data-lang=&quot;diff&quot;&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;enum reg_class
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;{
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;  RCLASS_GPR,
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;  RCLASS_FPR,
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;+ RCLASS_MPR,
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;  RCLASS_MAX,
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;  RCLASS_CSR
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;};
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨åŒä¸€æ–‡ä»¶ä¸‹è´Ÿè´£æ±‡ç¼–å™¨åˆå§‹åŒ–çš„ &lt;code&gt;md_begin&lt;&#x2F;code&gt; å‡½æ•°ä¸­æ³¨å†Œè¿™ä¸ªå®¢åˆ¶å¯„å­˜å™¨é›†ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;hash_reg_names&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(RCLASS_MPR, riscv_mat_names_numeric, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;8&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;);
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨åŒä¸€æ–‡ä»¶ä¸‹æ£€æŸ¥ RISC-V æŒ‡ä»¤æ ¼å¼çš„ &lt;code&gt;validate_riscv_insn&lt;&#x2F;code&gt; å‡½æ•°ä¸­ä¸ªçš„æœ€å¤§çš„é‚£ä¸ª &lt;code&gt;switch&lt;&#x2F;code&gt; ä¸­æ·»åŠ å¯¹è¿™ä¸ªå¯„å­˜å™¨å‚æ•°çš„æ£€æŸ¥ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨åŒä¸€æ–‡ä»¶ä¸‹è´Ÿè´£è¿›è¡Œå®é™…æ±‡ç¼–åˆ°äºŒè¿›åˆ¶ä»£ç çš„ &lt;code&gt;riscv_ip&lt;&#x2F;code&gt; å‡½æ•°ä¸­æ·»åŠ ç”ŸæˆäºŒè¿›åˆ¶ä»£ç çš„ä»£ç ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;åˆ°æ­¤ä½ çš„ç¼–è¯‘å™¨å·²ç»èƒ½æ­£å¸¸ç”ŸæˆäºŒè¿›åˆ¶ä»£ç äº†ï¼Œä½†æ˜¯å¦‚æœä½ è¿˜æƒ³è¦ç”¨ &lt;code&gt;objdump&lt;&#x2F;code&gt; ä¹‹ç±»çš„åç¼–è¯‘å·¥å…·ï¼š&lt;&#x2F;p&gt;
&lt;ol start=&quot;6&quot;&gt;
&lt;li&gt;åœ¨ &lt;code&gt;riscv-binutils&#x2F;opcodes&#x2F;riscv-dis.c&lt;&#x2F;code&gt; ä¸­çš„ &lt;code&gt;print_insn_args&lt;&#x2F;code&gt; ä¸­ä¹Ÿæ·»åŠ ç›¸å…³è§£æä»£ç ã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;h4 id=&quot;pi-pei-he-yan-ma&quot;&gt;åŒ¹é…å’Œæ©ç &lt;&#x2F;h4&gt;
&lt;p&gt;è®¾æœ‰ä¸€æ¡äºŒè¿›åˆ¶æŒ‡ä»¤ &lt;code&gt;instruction&lt;&#x2F;code&gt;, è‹¥ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-c&quot; data-lang=&quot;c&quot;&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;instruction &amp;amp; æ©ç  == åŒ¹é…
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;åˆ™è®¤ä¸º &lt;code&gt;instruction&lt;&#x2F;code&gt; æ˜¯è¿™ä¸€ç±»çš„æŒ‡ä»¤ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;zhong-xin-bian-yi&quot;&gt;é‡æ–°ç¼–è¯‘&lt;&#x2F;h4&gt;
&lt;p&gt;é‡æ–°ç¼–è¯‘å·¥å…·é“¾éœ€è¦ &lt;code&gt;make clean&lt;&#x2F;code&gt;ï¼Œåˆ ç©ºå®‰è£…ä½ç½®ï¼ˆå¦‚ &lt;code&gt;&#x2F;opt&#x2F;riscv&lt;&#x2F;code&gt;ï¼‰ï¼Œç„¶åé‡æ–° &lt;code&gt;make&lt;&#x2F;code&gt;&lt;sup class=&quot;footnote-reference&quot;&gt;&lt;a href=&quot;#4&quot;&gt;4&lt;&#x2F;a&gt;&lt;&#x2F;sup&gt;ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;shi-yong&quot;&gt;ä½¿ç”¨&lt;&#x2F;h3&gt;
&lt;p&gt;ç„¶åå°±èƒ½åœ¨æ±‡ç¼–é‡Œæ‹¿ &lt;code&gt;asm&lt;&#x2F;code&gt; ç”¨ä½ åˆšåˆšåŠ çš„æŒ‡ä»¤äº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¦‚æœä½ ä¸æ˜¯å¾ˆæ‡‚å†…è”æ±‡ç¼–&lt;sup class=&quot;footnote-reference&quot;&gt;&lt;a href=&quot;#5&quot;&gt;5&lt;&#x2F;a&gt;&lt;&#x2F;sup&gt;ï¼Œå¯ä»¥çœ‹çœ‹æˆ‘çš„&lt;a href=&quot;https:&#x2F;&#x2F;longfangsong.github.io&#x2F;inline-asm-cheatsheet&#x2F;&quot;&gt;å¦ä¸€ç¯‡æ–‡ç« &lt;&#x2F;a&gt;ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;risc-v-tools&quot;&gt;RISC-V tools&lt;&#x2F;h2&gt;
&lt;p&gt;æˆ‘ä»¬ä¸»è¦ä½¿ç”¨ RISC-V tools ä¸­çš„ RISC-V è¡Œä¸ºçº§æ¨¡æ‹Ÿå™¨ â€”â€” spikeã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;clone-dai-ma-1&quot;&gt;clone ä»£ç &lt;&#x2F;h3&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; clone https:&#x2F;&#x2F;github.com&#x2F;riscv&#x2F;riscv-tools.git
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ç„¶åè¿›å…¥ clone åˆ°çš„æ–‡ä»¶å¤¹ä¸­ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¸ GNU å·¥å…·é“¾åœ¨ &lt;code&gt;make&lt;&#x2F;code&gt; çš„æ—¶å€™ä¼šè‡ªåŠ¨æ‹¿ submodule ä¸åŒï¼Œtools è¿™è¾¹è¦æ‰‹åŠ¨ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; submodule update&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt; --init --recursive
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æ­¤å¤–å»ºè®®æŠŠæˆ‘ä»¬é‡ç‚¹è¦ä¿®æ”¹çš„ &lt;code&gt;riscv-isa-sim&lt;&#x2F;code&gt; æ‰‹åŠ¨æ›´æ–°åˆ° origin master ç‰ˆæœ¬ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;cd&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; riscv-isa-sim
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; pull origin master
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h3 id=&quot;zhi-ding-an-zhuang-di-zhi&quot;&gt;æŒ‡å®šå®‰è£…åœ°å€&lt;&#x2F;h3&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;export &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;RISCV&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;=&amp;lt;å®‰è£…åœ°å€&amp;gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h3 id=&quot;build&quot;&gt;build&lt;&#x2F;h3&gt;
&lt;p&gt;å¦‚æœä½ æŒ‰ç…§å®˜æ–¹è¯´æ˜ç›´æ¥åœ¨ clone åˆ°çš„æ–‡ä»¶å¤¹ä¸­ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;.&#x2F;build.sh
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;é‚£ä½ å¤§æ¦‚ç‡ä¼šç¢°åˆ° riscv-test submodule é‡Œçš„å…³äº &lt;code&gt;tohost&lt;&#x2F;code&gt; å’Œ &lt;code&gt;fromhost&lt;&#x2F;code&gt; é‡å¤å®šä¹‰çš„é”™è¯¯ï¼Œå¯ä»¥é‡‡ç”¨&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;riscv&#x2F;riscv-tests&#x2F;issues&#x2F;286#issuecomment-801002149&quot;&gt;è¿™é‡Œæåˆ°&lt;&#x2F;a&gt;çš„æ–¹æ³•ä¿®å¤&lt;sup class=&quot;footnote-reference&quot;&gt;&lt;a href=&quot;#6&quot;&gt;6&lt;&#x2F;a&gt;&lt;&#x2F;sup&gt;ï¼š&lt;&#x2F;p&gt;
&lt;p&gt;ä¿®æ”¹ &lt;code&gt;.&#x2F;riscv-tests&#x2F;isa&#x2F;Makefile&lt;&#x2F;code&gt; ä¸­çš„ç¼–è¯‘é€‰é¡¹ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-diff&quot; data-lang=&quot;diff&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;-RISCV_GCC_OPTS ?= -static -mcmodel=medany -fvisibility=hidden -nostdlib -nostartfiles
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;+RISCV_GCC_OPTS ?= -static -mcmodel=medany -fvisibility=hidden -nostdlib -nostartfiles -fcommon
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h3 id=&quot;tian-jia-zi-ding-yi-zhi-ling-ji&quot;&gt;æ·»åŠ è‡ªå®šä¹‰æŒ‡ä»¤é›†&lt;&#x2F;h3&gt;
&lt;p&gt;åœ¨ Spike æ¨¡æ‹Ÿå™¨ä¸­æ·»åŠ å®¢åˆ¶æŒ‡ä»¤é›†éå¸¸æ–¹ä¾¿ï¼Œåªéœ€è¦åœ¨ &lt;code&gt;.&#x2F;riscv-isa-sim&#x2F;customext&#x2F;&lt;&#x2F;code&gt; ä¸­æ·»åŠ ä¸€ä¸ªå®ç°æ‰©å±•æŒ‡ä»¤é›†è¡Œä¸ºçš„æ–‡ä»¶ï¼Œ
å…¶ä¸­æœ‰ä¸€ä¸ªç±»å®ç°äº† &lt;code&gt;extension_t&lt;&#x2F;code&gt;ï¼Œç„¶åç”¨ &lt;code&gt;REGISTER_EXTENSION&lt;&#x2F;code&gt; å®å°†å…¶æ³¨å†Œåˆ°æ¨¡æ‹Ÿå™¨å³å¯ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;extension_t&lt;&#x2F;code&gt; è¦æ±‚ä¸€ä¸ª &lt;code&gt;name&lt;&#x2F;code&gt;ï¼Œä¸€ä¸ªæ‹¿æ‰€æœ‰æŒ‡ä»¤çš„ &lt;code&gt;get_instructions&lt;&#x2F;code&gt;ï¼Œä¸€ä¸ªæ‹¿æ‰€æœ‰åæ±‡ç¼–æŒ‡ä»¤çš„ &lt;code&gt;get_disasms&lt;&#x2F;code&gt;ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;gem5-mo-ni-qi&quot;&gt;gem5 æ¨¡æ‹Ÿå™¨&lt;&#x2F;h2&gt;
&lt;h3 id=&quot;clone-dai-ma-2&quot;&gt;clone ä»£ç &lt;&#x2F;h3&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;git&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; clone https:&#x2F;&#x2F;gem5.googlesource.com&#x2F;public&#x2F;gem5
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h3 id=&quot;zhuang-yi-lai-1&quot;&gt;è£…ä¾èµ–&lt;&#x2F;h3&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;sudo&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; apt install build-essential git m4 scons zlib1g zlib1g-dev \
    libprotobuf-dev protobuf-compiler libprotoc-dev libgoogle-perftools-dev \
    python3-dev python3-six python libboost-all-dev pkg-config
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h3 id=&quot;build-1&quot;&gt;build&lt;&#x2F;h3&gt;
&lt;p&gt;åœ¨ clone åˆ°çš„æ–‡ä»¶å¤¹ä¸­ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;&#x2F;usr&#x2F;bin&#x2F;env&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; python3 $(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;which&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; scons) build&#x2F;RISCV&#x2F;gem5.opt&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt; -j &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;lt;CPUæ ¸æ•°&amp;gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å¦‚æœä½ æƒ³è¦åœ¨ä½ çš„ç¨‹åºä¸­åŠ  &lt;code&gt;checkpoint&lt;&#x2F;code&gt;ã€é‡ç½®ç»Ÿè®¡æ•°æ®ç­‰ï¼Œéœ€è¦æ„å»º &lt;code&gt;libm5&lt;&#x2F;code&gt;ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;&#x2F;usr&#x2F;bin&#x2F;env&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; python3 $(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;which&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; scons)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt; -C&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; util&#x2F;m5 build&#x2F;riscv&#x2F;out&#x2F;m5
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h3 id=&quot;shi-yong-1&quot;&gt;ä½¿ç”¨&lt;&#x2F;h3&gt;
&lt;p&gt;å¦‚æœä½ ç¼–å†™çš„ç¨‹åºä¸­ä½¿ç”¨äº† &lt;code&gt;libm5&lt;&#x2F;code&gt; ä¸­çš„åŠŸèƒ½ï¼Œéœ€è¦åŒ…å« &lt;code&gt;gem5&#x2F;m5ops.h&lt;&#x2F;code&gt; å¹¶åœ¨é“¾æ¥æ—¶é“¾æ¥ &lt;code&gt;libm5.a&lt;&#x2F;code&gt;ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;riscv64-linux-gnu-gcc -static -I&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&#x2F;home&#x2F;longfangsong&#x2F;workspace&#x2F;gem5&#x2F;include&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt; -I &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;lt;gem5 ä½ç½®&amp;gt;&#x2F;gem5&#x2F;include&#x2F;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt; -static &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;lt;å…¶ä»–æºæ–‡ä»¶&amp;gt; &amp;lt;gem5 ä½ç½®&amp;gt;&#x2F;gem5&#x2F;util&#x2F;m5&#x2F;build&#x2F;riscv&#x2F;out&#x2F;libm5.a
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h4 id=&quot;trick-on-profiling-unspported-isa-set&quot;&gt;Trick on profiling unspported ISA set&lt;&#x2F;h4&gt;
&lt;p&gt;&lt;code&gt;gem5&lt;&#x2F;code&gt; åªæ”¯æŒä½¿ç”¨ &lt;code&gt;riscv64-linux-gnu-gcc&lt;&#x2F;code&gt; ç”Ÿæˆçš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œè€Œä¸”å‡å®šäº†ç”¨æˆ·æœ‰ç¡¬æµ®ç‚¹æ”¯æŒï¼Œè¿™åœ¨æƒ³è¦æ¯”è¾ƒä¸åŒæŒ‡ä»¤é›†æ—¶ä¼šå¸¦æ¥ä¸€äº›ä¸ä¾¿ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è§£å†³æ–¹æ¡ˆéå¸¸å‘†ä½†å¾ˆæœ‰æ•ˆï¼Œå°±æ˜¯å…ˆç”¨ &lt;code&gt;riscv64-unknown-elf-gcc&lt;&#x2F;code&gt; æ‹¿åˆ°æŸä¸ªæŒ‡ä»¤é›†å’Œ abiï¼ˆå¦‚æœè¦ç”¨å’Œæœ€ç»ˆç¼–è¯‘åˆ°äºŒè¿›åˆ¶æ–‡ä»¶æ—¶ä¸åŒçš„ abi çš„è¯å»ºè®®é€šè¿‡å…¨å±€å˜é‡ä¼ å‚æ•°å’Œè¿”å›å€¼ï¼‰ ä¸‹çš„æ±‡ç¼–ï¼Œç„¶åç”¨ &lt;code&gt;riscv64-linux-gnu-gcc&lt;&#x2F;code&gt; ç¼–è¯‘æ±‡ç¼–æ¥ç”Ÿæˆæœ€ç»ˆçš„äºŒè¿›åˆ¶æ–‡ä»¶ä»¥ä¾› &lt;code&gt;gem5&lt;&#x2F;code&gt; æ‰§è¡Œã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¯èƒ½ä¼šç”¨åˆ°è½¯ä¹˜æ³•ã€è½¯æµ®ç‚¹ç­‰ç­‰çš„libgcc ä¸­çš„ polyfill ä»£ç ï¼ŒæŠŠè¿™äº›ä¹Ÿæ‹‰è¿‡æ¥ç¼–è¯‘å°±æ˜¯äº†&lt;sup class=&quot;footnote-reference&quot;&gt;&lt;a href=&quot;#7&quot;&gt;7&lt;&#x2F;a&gt;&lt;&#x2F;sup&gt;, ç›®å‰å·²çŸ¥çš„å‡ ä»½ polyfill ä»£ç çš„ä½ç½®éƒ½ä½äº &lt;code&gt;riscv-gnu-toolchain&#x2F;libgcc&lt;&#x2F;code&gt; ä¸‹ï¼Œ&lt;code&gt;softfp&lt;&#x2F;code&gt; å°±æ˜¯è½¯æµ®ç‚¹ï¼Œ&lt;code&gt;config&#x2F;riscv&lt;&#x2F;code&gt; å°±æ˜¯å…¶ä»–ä¸€äº›ä¸œè¥¿çš„ polyfillï¼Œæ¯”å¦‚ä¹˜é™¤æ³•ï¼ŒåŸå­æ“ä½œç­‰ç­‰ã€‚&lt;&#x2F;p&gt;
&lt;div class=&quot;footnote-definition&quot; id=&quot;1&quot;&gt;&lt;sup class=&quot;footnote-definition-label&quot;&gt;1&lt;&#x2F;sup&gt;
&lt;p&gt;å› ä¸º debian å¯ä»¥åœ¨ &lt;code&gt;su&lt;&#x2F;code&gt; ä¸‹é¢åšæ‰€æœ‰çš„äº‹ï¼Œ&lt;code&gt;sudo&lt;&#x2F;code&gt; åè€Œè¦è‡ªå·±è£…ï¼Œdocker ä¸€æ‰“å¼€å°±æ˜¯ &lt;code&gt;su&lt;&#x2F;code&gt;ï¼Œä¸ºäº†å¤åˆ¶ç²˜è´´æ–¹ä¾¿ä¸‹é¢éƒ½ä¸ä¼šå†™æ˜è¦ &lt;code&gt;sudo&lt;&#x2F;code&gt; çš„åœ°æ–¹ï¼Œå¦‚æœæœ‰å¿…è¦çš„è¯è‡ªå·±åŠ â€¦â€¦&lt;&#x2F;p&gt;
&lt;&#x2F;div&gt;
&lt;div class=&quot;footnote-definition&quot; id=&quot;2&quot;&gt;&lt;sup class=&quot;footnote-definition-label&quot;&gt;2&lt;&#x2F;sup&gt;
&lt;p&gt;è¿™æ˜¯çœŸçš„å‘ã€‚è¿˜å¥½æ­£å¸¸çš„ Linux ç³»ç»Ÿå®‰è£…å™¨é»˜è®¤çš„æ–‡ä»¶ç³»ç»Ÿéƒ½æ˜¯åŒºåˆ†å¤§å°å†™çš„ã€‚ä½†ç”¨ Docker æŒ‚å…¶ä»–ç³»ç»Ÿçš„ Volume å°±ä¸ä¸€å®šäº†â€¦â€¦&lt;&#x2F;p&gt;
&lt;&#x2F;div&gt;
&lt;div class=&quot;footnote-definition&quot; id=&quot;3&quot;&gt;&lt;sup class=&quot;footnote-definition-label&quot;&gt;3&lt;&#x2F;sup&gt;
&lt;p&gt;æ²¡æ–‡æ¡£å°± nm ç¦»è°±ï¼Œæœ‰äº›å­—æ¯ç”¨çš„ä¹ŸæŒºç¦»è°±ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;div&gt;
&lt;div class=&quot;footnote-definition&quot; id=&quot;4&quot;&gt;&lt;sup class=&quot;footnote-definition-label&quot;&gt;4&lt;&#x2F;sup&gt;
&lt;p&gt;è¿™ç¾¤å¼€å‘è€…å†™çš„ä»€ä¹ˆé¬¼ Makefile å•¦ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;div&gt;
&lt;div class=&quot;footnote-definition&quot; id=&quot;5&quot;&gt;&lt;sup class=&quot;footnote-definition-label&quot;&gt;5&lt;&#x2F;sup&gt;
&lt;p&gt;è®²é“ç†æˆ‘ä¹Ÿä¸æ‡‚ ğŸ˜­&lt;&#x2F;p&gt;
&lt;&#x2F;div&gt;
&lt;div class=&quot;footnote-definition&quot; id=&quot;6&quot;&gt;&lt;sup class=&quot;footnote-definition-label&quot;&gt;6&lt;&#x2F;sup&gt;
&lt;p&gt;å®˜æ–¹ç»´æŠ¤åœ¨å¹²ä»€ä¹ˆä¸œè¥¿å•Š.jpg&lt;&#x2F;p&gt;
&lt;&#x2F;div&gt;
&lt;div class=&quot;footnote-definition&quot; id=&quot;7&quot;&gt;&lt;sup class=&quot;footnote-definition-label&quot;&gt;7&lt;&#x2F;sup&gt;
&lt;p&gt;ç°åœ¨æˆ‘æ‡‚ä¸ºå•¥ C++ å¤§å‹é¡¹ç›®ä¸ºå•¥è¦æŠŠä¾èµ–ä¹Ÿæåˆ°é¡¹ç›®çš„ &lt;code&gt;.&#x2F;third_parties&lt;&#x2F;code&gt; é‡Œé¢ä¸€èµ·ç¼–è¯‘äº†ï¼Œå¦åˆ™è¿™ä¸ªé“¾æ¥ã€ abi ä»€ä¹ˆçš„æ˜¯çœŸçš„éº»çƒ¦ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;div&gt;
</content>
	</entry>
	<entry xml:lang="zh">
		<title>é‡æ–°å¼€å§‹å­¦æ•°å­¦ â€¢ æ•°ç†é€»è¾‘ï¼ˆ2ï¼‰</title>
		<published>2021-03-25T09:29:44.051+00:00</published>
		<updated>2021-03-25T09:29:44.051+00:00</updated>
		<link href="https://longfangsong.github.io/restart-math-logic-2/" type="text/html"/>
		<id>https://longfangsong.github.io/restart-math-logic-2/</id>
		<content type="html">&lt;h2 id=&quot;wei-ci-luo-ji&quot;&gt;è°“è¯é€»è¾‘&lt;&#x2F;h2&gt;
&lt;h3 id=&quot;wei-ci&quot;&gt;è°“è¯&lt;&#x2F;h3&gt;
&lt;p&gt;å°±æ˜¯è¿”å› &lt;code&gt;bool&lt;&#x2F;code&gt; çš„å‡½æ•°&lt;&#x2F;p&gt;
&lt;h3 id=&quot;liang-ci&quot;&gt;é‡è¯&lt;&#x2F;h3&gt;
&lt;p&gt;å°±æ˜¯ $\forall$ å’Œ $\exists$ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ³¨æ„é‡è¯çš„ä¼˜å…ˆçº§æ¯” $\wedge$ å’Œ $\vee$ é«˜ï¼Œä¾‹å¦‚ï¼š$\forall x A \wedge B$ æ„æ€æ˜¯ $(\forall x A) \wedge B$&lt;&#x2F;p&gt;
&lt;h3 id=&quot;substitution-ti-huan&quot;&gt;substitutionï¼ˆæ›¿æ¢ï¼‰&lt;&#x2F;h3&gt;
&lt;p&gt;è®¾æœ‰ä¸€ä¸ªå¼å­ $A$ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªå˜é‡ $x$ï¼Œç»™å®šä¸€ä¸ªé¡¹ $t$ï¼Œç”¨ $t$ æ›¿æ¢æ‰€æœ‰è‡ªç”±å‡ºç°çš„ $x$ çš„æ“ä½œç§°ä¸ºä¸€æ¬¡ substitutionï¼Œè®°ä½œï¼š&lt;&#x2F;p&gt;
&lt;p&gt;$$
A[t&#x2F;x]
$$&lt;&#x2F;p&gt;
</content>
	</entry>
	<entry xml:lang="zh">
		<title>é‡æ–°å¼€å§‹å­¦æ•°å­¦ â€¢ æ•°ç†é€»è¾‘ï¼ˆ1ï¼‰</title>
		<published>2021-01-12T10:01:52.110+00:00</published>
		<updated>2021-01-12T10:01:52.110+00:00</updated>
		<link href="https://longfangsong.github.io/restart-math-logic-1/" type="text/html"/>
		<id>https://longfangsong.github.io/restart-math-logic-1/</id>
		<content type="html">&lt;h2 id=&quot;ming-ti-luo-ji&quot;&gt;å‘½é¢˜é€»è¾‘&lt;&#x2F;h2&gt;
&lt;p&gt;æˆ‘ä»¬è¯¾ä¸Šå­¦çš„åŸºæœ¬ä¸Šå°±æ˜¯è¿™äº›äº†ï¼Œå¤§éƒ¨åˆ†å°±æ˜¯ä¸€äº› trival çš„æ˜¯ä¸ªäººéƒ½èƒ½æƒ³é€šçš„ä¸œè¥¿ï¼Œå°±æ˜¯å„ç§ç®­å¤´ï¼ˆï¼Ÿï¼‰çš„ç”¨æ³•å®¹æ˜“æ··æ·†ï¼š&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è®¾æœ‰å‘½é¢˜ $A$ å’Œ $B$ï¼Œ$A \rightarrow B$ æŒ‡ â€œ$A$ å®è´¨è•´å« $B$â€ è¿™æ ·ä¸€ä¸ªå‘½é¢˜ï¼Œå³&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-pesudo&quot; data-lang=&quot;pesudo&quot;&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;if A then B
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;è®¾æœ‰ä¸€å †å‘½é¢˜ $A$ å’Œä¸€ä¸ªå‘½é¢˜ $B$ï¼Œ$A \vdash B$ æŒ‡ â€œ$B$ æ˜¯ $A$ çš„å¥æ³•åæ‰¿ â€ è¿™æ ·ä¸€ä¸ª sequentã€‚&lt;&#x2F;p&gt;
&lt;p&gt;é€šè¿‡ä½¿ç”¨æŸäº›è¯æ˜æ‰‹æ®µï¼Œä»å‰æ $A$ èƒ½è¯å‡º $B$ï¼Œé‚£ä¹ˆè¿™ä¸ª sequent å°± validï¼Œå¦åˆ™å°±ä¸vaildã€‚
$$
\require{bussproofs}
\begin{prooftree}
\AxiomC{A}
\UnaryInfC{$\vdots$}
\UnaryInfC{B}
\end{prooftree}
$$&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;$ A \dashv \vdash B$ï¼š$A \vdash B$ å’Œ $ B \vdash A$ éƒ½ validï¼Œç§°ä¸º $A$ å’Œ $B$ provably equivalentã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;è®¾æœ‰ä¸€å †å‘½é¢˜ $A$ å’Œä¸€ä¸ªå‘½é¢˜ $B$ï¼Œ$A \models B$ï¼šæŒ‡ â€œ$B$ æ˜¯ $A$ çš„è¯­ä¹‰åæ‰¿â€ï¼Œå³å¦‚æœ $A$ ä¸­æ¯ä¸€ä¸ªå‘½é¢˜éƒ½ä¸ºçœŸï¼Œåˆ™ $B$ ä¹Ÿä¸ºçœŸã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åœ¨è‡ªç„¶æ¼”ç»ä¸­ï¼Œ$A \models B$ å½“ä¸”ä»…å½“ $ A \vdash B $&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;å¦å¤–å¸¸å¸¸ä¼šä½¿ç”¨ $\top$ å’Œ $\bot$ åˆ†åˆ«ä»£è¡¨ &lt;code&gt;true&lt;&#x2F;code&gt; å’Œ &lt;code&gt;false&lt;&#x2F;code&gt;ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;horn-gong-shi-he-horn-ke-man-zu-xing-wen-ti&quot;&gt;Horn å…¬å¼å’Œ Horn å¯æ»¡è¶³æ€§é—®é¢˜&lt;&#x2F;h3&gt;
&lt;p&gt;è®¾ p ä¸ºåŸå­å…¬å¼ï¼Œ&lt;&#x2F;p&gt;
&lt;p&gt;$$
\displaylines {
P ::= \bot | \top | p \\
A ::= P \mid P \wedge A \\
C ::= A \rightarrow P \\
H ::= C \mid C \wedge H
}
$$&lt;&#x2F;p&gt;
&lt;p&gt;å…¶ä¸­ H å°±æ˜¯ Horn å…¬å¼ï¼ŒC å°±æ˜¯ Horn å­å¥&lt;sup class=&quot;footnote-reference&quot;&gt;&lt;a href=&quot;#1&quot;&gt;1&lt;&#x2F;a&gt;&lt;&#x2F;sup&gt;ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;Horn å…¬å¼çš„å‡ ä¸ªä¾‹å­ï¼š&lt;&#x2F;p&gt;
&lt;p&gt;$$
(p \wedge q \wedge s \rightarrow p) \wedge(q \wedge r \rightarrow p) \wedge(p \wedge s \rightarrow s)
$$&lt;&#x2F;p&gt;
&lt;p&gt;$$
(p \wedge q \wedge s \rightarrow \perp) \wedge(q \wedge r \rightarrow p) \wedge(\top \rightarrow s)
$$&lt;&#x2F;p&gt;
&lt;p&gt;$$
(p_{2} \wedge p_{3} \wedge p_{5} \rightarrow p_{13}) \wedge (\top \rightarrow p_{5}) \wedge (p_{5} \wedge p_{11} \rightarrow \perp)
$$&lt;&#x2F;p&gt;
&lt;p&gt;Horn å…¬å¼çš„å¥½å¤„åœ¨äºï¼Œå’Œä»»æ„å…¬å¼æ˜¯å¦å¯æ»¡è¶³ï¼ˆå³ SAT é—®é¢˜ï¼‰æ˜¯ NP é—®é¢˜ä¸åŒï¼ŒHornSAT æ˜¯ P é—®é¢˜ï¼Œæœ‰è¿™ä¹ˆä¸€ä¸ªåˆ¤å®šç®—æ³•ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;fn &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;horn_satisfiabe&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;formula&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: HornFormula) {
  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;let mut&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; marked = HashSet::new();
  marked.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;add&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(âŠ¤);
  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;while let &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;Some(p) = 
    formula.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;find&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(|&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;it&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;| !it.rhs.marked &amp;amp;&amp;amp; 
      it.lhs.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;all&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(|&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;it&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;| marked.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;contains&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(it))
    ).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;map&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(|&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;it&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;| it.rhs) {
    marked.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;add&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(p);
  }
  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;!marked.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;contains&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(âŠ¥);
}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h3 id=&quot;sat-qiu-jie-qi&quot;&gt;Sat æ±‚è§£å™¨&lt;&#x2F;h3&gt;
&lt;p&gt;æ„Ÿè§‰è¿™é‡Œä¹¦ä¸Šè®²çš„å¥½å¤æ‚â€¦â€¦&lt;&#x2F;p&gt;
&lt;p&gt;å…¶å®å°±æ˜¯è‡ªé¡¶è€Œä¸‹åœ°è€ƒè™‘ä¸€ä¸ªå…¬å¼çš„ parse treeï¼Œå¯¹å…¬å¼æœ¬èº«æ¯ä¸€ä¸ªå­å…¬å¼çš„å€¼ï¼Œå¦‚æœèƒ½é€šè¿‡ä¸Šå±‚çš„å€¼å’Œç®—ç¬¦çš„çœŸå€¼è¡¨ç›´æ¥åˆ¤å®šå°±ç›´æ¥åˆ¤å®šï¼Œæ¯”å¦‚ï¼š&lt;&#x2F;p&gt;
&lt;p&gt;$$
\top = \neg p \wedge q
$$&lt;&#x2F;p&gt;
&lt;p&gt;ä»ä¸Šå±‚çš„ $\top$ å’Œ $\wedge$ çš„æ€§è´¨æˆ‘ä»¬å°±èƒ½å¾—å‡º
$$
\neg p = \top
$$&lt;&#x2F;p&gt;
&lt;p&gt;$$
q = \top
$$&lt;&#x2F;p&gt;
&lt;p&gt;ä¸è¡Œçš„è¯ï¼ˆæ¯”å¦‚é‡åˆ°äº†ç±»ä¼¼ $\top = p \vee q$ çš„æƒ…å†µï¼‰å°±éšä¾¿é€‰ä¸€ä¸ªå­å…¬å¼æŠŠ $\top$ å’Œ $\bot$ éƒ½è¯•ä¸€éï¼Œå¦‚æœæ¨å‡ºäº†å†²çªçš„ç»“è®ºå°±å›æº¯ï¼Œå¦‚æœå…¨åˆ¤å®šå®Œäº†æ²¡å†²çªå°±æˆäº†ã€‚&lt;&#x2F;p&gt;
&lt;div class=&quot;footnote-definition&quot; id=&quot;1&quot;&gt;&lt;sup class=&quot;footnote-definition-label&quot;&gt;1&lt;&#x2F;sup&gt;
&lt;p&gt;â€œå­å¥â€ çš„å®šä¹‰æ˜¯åŸå­å…¬å¼æˆ– â€œ$\neg åŸå­å…¬å¼$â€ çš„æå–ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;div&gt;
</content>
	</entry>
	<entry xml:lang="zh">
		<title>Parsing â€¢ LR(0)åˆ†æ</title>
		<published>2020-05-22T22:56:58.045+00:00</published>
		<updated>2020-05-22T22:56:58.045+00:00</updated>
		<link href="https://longfangsong.github.io/lr0/" type="text/html"/>
		<id>https://longfangsong.github.io/lr0/</id>
		<content type="html">&lt;p&gt;å¦‚æœä½ å·²ç»ç†è§£äº†&lt;a href=&quot;https:&#x2F;&#x2F;longfangsong.github.io&#x2F;shift-reduce&#x2F;&quot;&gt;ç§»è¿›-å½’çº¦åˆ†æ&lt;&#x2F;a&gt;çš„åŸºæœ¬æ‰§è¡Œæµç¨‹äº†ï¼Œé‚£ä¹ˆä½ ä¸€å®šä¼šé—®ï¼Œæˆ‘è¯¥å¦‚ä½•å†³å®šæŸä¸ªæ­¥éª¤ä¸Šåº”è¯¥â€œç§»è¿›â€è¿˜æ˜¯åº”è¯¥â€œå½’çº¦â€å‘¢ï¼Ÿåº”è¯¥é€‰æ‹©å“ªä¸ªæ¨å¯¼å¼æ¥å½’çº¦å‘¢ï¼Ÿå¦‚æœæˆ‘ä»¬æ„é€ çš„æ–‡æ³•å’Œè¡¨è¾¾å¼æ±‚å€¼ä¸€æ ·ç®€å•ï¼Œé‚£æ‰‹åŠ¨æ ¹æ®â€œæ ˆä¸­ç°æœ‰çš„å€¼â€å’Œâ€œä¸‹é¢è¦è¾“å…¥çš„å€¼â€æ¥åˆ¤æ–­å°±å¯ä»¥äº†ï¼Œé‚£ä¹ˆå¦‚æœæˆ‘ä»¬å¤„ç†çš„æ–‡æ³•æ¯”è¾ƒå¤æ‚å‘¢ï¼Ÿ&lt;&#x2F;p&gt;
&lt;p&gt;ä¸¾ä¸€ä¸ªç»å…¸çš„è¡¨è¾¾å¼æ–‡æ³•çš„ä¾‹å­ï¼š&lt;&#x2F;p&gt;
&lt;p&gt;$$
E \rightarrow E+T|T
$$&lt;&#x2F;p&gt;
&lt;p&gt;$$
T \rightarrow T*F|F
$$&lt;&#x2F;p&gt;
&lt;p&gt;$$
F \rightarrow (E) | \textbf{id}
$$&lt;&#x2F;p&gt;
&lt;p&gt;æˆ‘ä»¬æ¥æ¨¡æ‹Ÿä¸€ä¸‹åŒ¹é…å­—ç¬¦ä¸² $\textbf{id}*\textbf{id}+(\textbf{id}+\textbf{id})*\textbf{id}$ çš„è¿‡ç¨‹ï¼Œå¹¶å°è¯•è§£é‡Šæ¯ä¸€æ­¥é€‰æ‹©ç§»è¿›è¿˜æ˜¯å½’çº¦çš„åŸå› ã€‚&lt;&#x2F;p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;ç¬¦å·æ ˆ&lt;&#x2F;th&gt;&lt;th&gt;å‰©ä½™è¾“å…¥&lt;&#x2F;th&gt;&lt;th&gt;åŠ¨ä½œ&lt;&#x2F;th&gt;&lt;th&gt;åŸå› &lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;thead&gt;&lt;tbody&gt;
&lt;tr&gt;&lt;td&gt;&lt;&#x2F;td&gt;&lt;td&gt;$\textbf{id}*\textbf{id}+(\textbf{id}+\textbf{id})*\textbf{id}$&lt;&#x2F;td&gt;&lt;td&gt;ç§»è¿› $\textbf{id}$&lt;&#x2F;td&gt;&lt;td&gt;æ²¡å¾—é€‰&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;$\textbf{id}$&lt;&#x2F;td&gt;&lt;td&gt;$*\textbf{id}+(\textbf{id}+\textbf{id})*\textbf{id}$&lt;&#x2F;td&gt;&lt;td&gt;æ ˆé¡¶å½’çº¦ä¸º $F$&lt;&#x2F;td&gt;&lt;td&gt;ä¸‹ä¸€ä¸ªç¬¦å·æ˜¯$*$ï¼Œè€Œæ²¡æœ‰åŒ…å« $\textbf{id} *$ çš„è§„åˆ™ï¼Œä½†æ ˆé¡¶å¯ä»¥å½’çº¦&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;$F$&lt;&#x2F;td&gt;&lt;td&gt;$*\textbf{id}+(\textbf{id}+\textbf{id})*\textbf{id}$&lt;&#x2F;td&gt;&lt;td&gt;æ ˆé¡¶å½’çº¦ä¸º $T$&lt;&#x2F;td&gt;&lt;td&gt;ä¸‹ä¸€ä¸ªç¬¦å·æ˜¯$*$ï¼Œè€Œæ²¡æœ‰åŒ…å«$F *$ çš„è§„åˆ™ï¼Œä½†æ ˆé¡¶å¯ä»¥å½’çº¦&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;$T$&lt;&#x2F;td&gt;&lt;td&gt;$*\textbf{id}+(\textbf{id}+\textbf{id})*\textbf{id}$&lt;&#x2F;td&gt;&lt;td&gt;ç§»è¿› $*$&lt;&#x2F;td&gt;&lt;td&gt;ä¸‹ä¸€ä¸ªç¬¦å·æ˜¯$*$ï¼Œ è€Œæ²¡æœ‰åŒ…å« $ T *$ çš„è§„åˆ™&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;$T*$&lt;&#x2F;td&gt;&lt;td&gt;$\textbf{id}+(\textbf{id}+\textbf{id})*\textbf{id}$&lt;&#x2F;td&gt;&lt;td&gt;ç§»è¿› $\textbf{id}$&lt;&#x2F;td&gt;&lt;td&gt;æ ˆé¡¶ä¸èƒ½å½’çº¦ï¼Œåªèƒ½ç§»è¿›&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;$T*\textbf{id}$&lt;&#x2F;td&gt;&lt;td&gt;$+(\textbf{id}+\textbf{id})*\textbf{id}$&lt;&#x2F;td&gt;&lt;td&gt;æ ˆé¡¶å½’çº¦ä¸º $F$&lt;&#x2F;td&gt;&lt;td&gt;ä¸‹ä¸€ä¸ªç¬¦å·æ˜¯$+$ï¼Œè€Œæ²¡æœ‰åŒ…å« $T *\textbf{id}+$ æˆ–è€… $\textbf{id}+$ çš„è§„åˆ™ï¼Œä½†æ ˆé¡¶å¯ä»¥å½’çº¦&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;$T*F$&lt;&#x2F;td&gt;&lt;td&gt;$+(\textbf{id}+\textbf{id})*\textbf{id}$&lt;&#x2F;td&gt;&lt;td&gt;æ ˆé¡¶å½’çº¦ä¸º $T$&lt;&#x2F;td&gt;&lt;td&gt;ä¸‹ä¸€ä¸ªç¬¦å·æ˜¯$+$ï¼Œè€Œæ²¡æœ‰åŒ…å«$T * F+$ æˆ–è€… $F+$ çš„è§„åˆ™ï¼Œä½†æ ˆé¡¶å¯ä»¥å½’çº¦&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;$T$&lt;&#x2F;td&gt;&lt;td&gt;$+(\textbf{id}+\textbf{id})*\textbf{id}$&lt;&#x2F;td&gt;&lt;td&gt;æ ˆé¡¶å½’çº¦ä¸º $E$&lt;&#x2F;td&gt;&lt;td&gt;ä¸‹ä¸€ä¸ªç¬¦å·æ˜¯$+$ï¼Œè€Œæ²¡æœ‰åŒ…å«$T+$ çš„è§„åˆ™ï¼Œä½†æ ˆé¡¶å¯ä»¥å½’çº¦&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;$E$&lt;&#x2F;td&gt;&lt;td&gt;$+(\textbf{id}+\textbf{id})*\textbf{id}$&lt;&#x2F;td&gt;&lt;td&gt;ç§»è¿› $+$&lt;&#x2F;td&gt;&lt;td&gt;æ ˆé¡¶ä¸èƒ½å½’çº¦ï¼Œåªèƒ½ç§»è¿›&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;$E+$&lt;&#x2F;td&gt;&lt;td&gt;$(\textbf{id}+\textbf{id})*\textbf{id}$&lt;&#x2F;td&gt;&lt;td&gt;ç§»è¿› $($&lt;&#x2F;td&gt;&lt;td&gt;æ ˆé¡¶ä¸èƒ½å½’çº¦ï¼Œåªèƒ½ç§»è¿›&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;$E+($&lt;&#x2F;td&gt;&lt;td&gt;$\textbf{id}+\textbf{id})*\textbf{id}$&lt;&#x2F;td&gt;&lt;td&gt;ç§»è¿› $\textbf{id}$&lt;&#x2F;td&gt;&lt;td&gt;æ ˆé¡¶ä¸èƒ½å½’çº¦ï¼Œåªèƒ½ç§»è¿›&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;$E+(\textbf{id}$&lt;&#x2F;td&gt;&lt;td&gt;$+\textbf{id})*\textbf{id}$&lt;&#x2F;td&gt;&lt;td&gt;æ ˆé¡¶å½’çº¦ä¸º $F$&lt;&#x2F;td&gt;&lt;td&gt;ä¸‹ä¸€ä¸ªç¬¦å·æ˜¯$+$ï¼Œè€Œæ²¡æœ‰åŒ…å« $\textbf{id}+$ çš„è§„åˆ™ï¼Œä½†æ ˆé¡¶å¯ä»¥å½’çº¦&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;$E+(F$&lt;&#x2F;td&gt;&lt;td&gt;$+\textbf{id})*\textbf{id}$&lt;&#x2F;td&gt;&lt;td&gt;æ ˆé¡¶å½’çº¦ä¸º $T$&lt;&#x2F;td&gt;&lt;td&gt;ä¸‹ä¸€ä¸ªç¬¦å·æ˜¯$+$ï¼Œè€Œæ²¡æœ‰åŒ…å« $F+$ çš„è§„åˆ™ï¼Œä½†æ ˆé¡¶å¯ä»¥å½’çº¦&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;$E+(T$&lt;&#x2F;td&gt;&lt;td&gt;$+\textbf{id})*\textbf{id}$&lt;&#x2F;td&gt;&lt;td&gt;æ ˆé¡¶å½’çº¦ä¸º $E$&lt;&#x2F;td&gt;&lt;td&gt;ä¸‹ä¸€ä¸ªç¬¦å·æ˜¯$+$ï¼Œè€Œæ²¡æœ‰ åŒ…å« $T+$ çš„è§„åˆ™ï¼Œä½†æ ˆé¡¶å¯ä»¥å½’çº¦&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;$E+(E$&lt;&#x2F;td&gt;&lt;td&gt;$+\textbf{id})*\textbf{id}$&lt;&#x2F;td&gt;&lt;td&gt;ç§»è¿›&lt;&#x2F;td&gt;&lt;td&gt;æ ˆé¡¶ä¸èƒ½å½’çº¦ï¼Œåªèƒ½ç§»è¿›&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;$E+(E+$&lt;&#x2F;td&gt;&lt;td&gt;$\textbf{id})*\textbf{id}$&lt;&#x2F;td&gt;&lt;td&gt;ç§»è¿›&lt;&#x2F;td&gt;&lt;td&gt;æ ˆé¡¶ä¸èƒ½å½’çº¦ï¼Œåªèƒ½ç§»è¿›&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;$E+(E+\textbf{id}$&lt;&#x2F;td&gt;&lt;td&gt;$)*\textbf{id}$&lt;&#x2F;td&gt;&lt;td&gt;æ ˆé¡¶å½’çº¦ä¸º $F$&lt;&#x2F;td&gt;&lt;td&gt;ä¸‹ä¸€ä¸ªç¬¦å·æ˜¯$)$ï¼Œè€Œæ²¡æœ‰ åŒ…å« $\textbf{id})$ çš„è§„åˆ™ï¼Œä½†æ ˆé¡¶å¯ä»¥å½’çº¦&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;$E+(E+F$&lt;&#x2F;td&gt;&lt;td&gt;$)*\textbf{id}$&lt;&#x2F;td&gt;&lt;td&gt;æ ˆé¡¶å½’çº¦ä¸º $T$&lt;&#x2F;td&gt;&lt;td&gt;ä¸‹ä¸€ä¸ªç¬¦å·æ˜¯$)$ï¼Œè€Œæ²¡æœ‰ åŒ…å« $F)$ çš„è§„åˆ™ï¼Œä½†æ ˆé¡¶å¯ä»¥å½’çº¦&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;$E+(E+T$&lt;&#x2F;td&gt;&lt;td&gt;$)*\textbf{id}$&lt;&#x2F;td&gt;&lt;td&gt;æ ˆé¡¶å½’çº¦ä¸º $E$&lt;&#x2F;td&gt;&lt;td&gt;ä¸‹ä¸€ä¸ªç¬¦å·æ˜¯$+$ï¼Œè€Œæ²¡æœ‰åŒ…å« $T)$ çš„è§„åˆ™ï¼Œä½†æ ˆé¡¶å¯ä»¥å½’çº¦&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;$E+(E+E$&lt;&#x2F;td&gt;&lt;td&gt;$)*\textbf{id}$&lt;&#x2F;td&gt;&lt;td&gt;ç§»è¿›&lt;&#x2F;td&gt;&lt;td&gt;æ ˆé¡¶ä¸èƒ½å½’çº¦ï¼Œåªèƒ½ç§»è¿›&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;$E+(E+E)$&lt;&#x2F;td&gt;&lt;td&gt;$*\textbf{id}$&lt;&#x2F;td&gt;&lt;td&gt;æ ˆé¡¶å½’çº¦ä¸º $F$&lt;&#x2F;td&gt;&lt;td&gt;ä¸‹ä¸€ä¸ªç¬¦å·æ˜¯$*$ï¼Œæ²¡æœ‰åŒ…å« $)*$ çš„è§„åˆ™ï¼Œä½†æ ˆé¡¶å¯ä»¥å½’çº¦&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;$E+F$&lt;&#x2F;td&gt;&lt;td&gt;$*\textbf{id}$&lt;&#x2F;td&gt;&lt;td&gt;æ ˆé¡¶å½’çº¦ä¸º $T$&lt;&#x2F;td&gt;&lt;td&gt;ä¸‹ä¸€ä¸ªç¬¦å·æ˜¯$*$ï¼Œæ²¡æœ‰åŒ…å« $F*$ çš„è§„åˆ™ï¼Œä½†æ ˆé¡¶å¯ä»¥å½’çº¦&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;$E+T$&lt;&#x2F;td&gt;&lt;td&gt;$*\textbf{id}$&lt;&#x2F;td&gt;&lt;td&gt;ç§»è¿›&lt;&#x2F;td&gt;&lt;td&gt;è¿™é‡Œæ˜¯trickyçš„åœ°æ–¹ï¼Œè¿™é‡Œè€ƒè™‘åˆ°ä¼˜å…ˆçº§é—®é¢˜å¿…é¡»ç§»è¿›ï¼Œè¿™æ ·çœ‹æ¥**ä¼˜å…ˆç§»è¿›ï¼Œä¸è¡Œäº†å†å½’çº¦å¯èƒ½æ˜¯å¤„ç†ä¼˜å…ˆçº§é—®é¢˜çš„æ–¹æ¡ˆ**&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;$E+T*$&lt;&#x2F;td&gt;&lt;td&gt;$\textbf{id}$&lt;&#x2F;td&gt;&lt;td&gt;ç§»è¿›&lt;&#x2F;td&gt;&lt;td&gt;æ ˆé¡¶ä¸èƒ½å½’çº¦ï¼Œåªèƒ½ç§»è¿›&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;$E+T*\textbf{id}$&lt;&#x2F;td&gt;&lt;td&gt;&lt;&#x2F;td&gt;&lt;td&gt;æ ˆé¡¶å½’çº¦ä¸º $F$&lt;&#x2F;td&gt;&lt;td&gt;æ²¡æœ‰ç¬¦å·äº†ï¼Œå¾€æ­»é‡Œå½’çº¦&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;$E+T*F$&lt;&#x2F;td&gt;&lt;td&gt;&lt;&#x2F;td&gt;&lt;td&gt;æ ˆé¡¶å½’çº¦ä¸º $T$&lt;&#x2F;td&gt;&lt;td&gt;æ²¡æœ‰ç¬¦å·äº†ï¼Œå¾€æ­»é‡Œå½’çº¦&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;$E+T$&lt;&#x2F;td&gt;&lt;td&gt;&lt;&#x2F;td&gt;&lt;td&gt;æ ˆé¡¶å½’çº¦ä¸º $E$&lt;&#x2F;td&gt;&lt;td&gt;æ²¡æœ‰ç¬¦å·äº†ï¼Œå¾€æ­»é‡Œå½’çº¦&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;$E$&lt;&#x2F;td&gt;&lt;td&gt;&lt;&#x2F;td&gt;&lt;td&gt;æ¥å—&lt;&#x2F;td&gt;&lt;td&gt;&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;&#x2F;tbody&gt;&lt;&#x2F;table&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªæ¼«é•¿çš„è¿‡ç¨‹ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æˆ‘ä»¬å‘ç°ï¼š&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸ºäº†å¤„ç†è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§ï¼Œä¼˜å…ˆè¿›è¡Œç§»è¿›
&lt;ul&gt;
&lt;li&gt;è¿™å’Œæˆ‘ä»¬ç¼–å†™è®¡ç®—å™¨çš„æ–¹å¼å¾ˆåƒ&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;åœ¨ç§»è¿›ä¼šå¯¼è‡´æ ˆä¸­ä¸åŒ…å«æŸä¸ªå¯ä»¥å½’çº¦çš„â€œå‰ç¼€â€æ—¶ï¼Œå¿…é¡»å…ˆå½’çº¦&lt;&#x2F;li&gt;
&lt;li&gt;åœ¨æ ˆä¸­çš„å†…å®¹ä¸åŒæ—¶ï¼Œè¦è€ƒè™‘çš„æ˜¯å¦å¯ä»¥å½’çº¦çš„éƒ¨åˆ†ä¹Ÿä¸ä¸€æ ·
&lt;ul&gt;
&lt;li&gt;ä¾‹å¦‚åœ¨å¤„ç†æ ˆä¸º $T*$ å’Œ $E+T*$ æ—¶ï¼Œå…¶å®éƒ½åªè¦è€ƒè™‘ $T*$ çš„éƒ¨åˆ†å°±å¯ä»¥äº†&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥çœ‹ä¸€ä¸‹æœ‰å“ªäº›æ–¹æ³•è§£å†³è¿™äº›é—®é¢˜ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;lr-0-xiang-zhuang-tai-chan-sheng-shi-zhong-de-cdot-yu-lr-0-zhuang-tai-ji&quot;&gt;LR(0)é¡¹ã€çŠ¶æ€ã€äº§ç”Ÿå¼ä¸­çš„ â€œ$\cdot$â€ ä¸LR(0) çŠ¶æ€æœº&lt;&#x2F;h2&gt;
&lt;p&gt;æˆ‘ä»¬ä»å‰é¢çš„æœ€åä¸€ä¸ªé—®é¢˜å¼€å§‹ç€æ‰‹ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æˆ‘ä»¬çœ‹ $E+T*$ è¿™é‡Œï¼Œåœ¨è¿™ç§&lt;strong&gt;çŠ¶æ€&lt;&#x2F;strong&gt;ä¸‹ï¼Œæˆ‘ä»¬èƒ½ç”¨æ¥å½’çº¦çš„äº§ç”Ÿå¼åªæœ‰ $T \rightarrow T*F$ ä¸€ä¸ªï¼Œä¼šå½’çº¦åˆ°æ ˆé¡¶ä¸Šå¤šäº†ä¸€ä¸ª $T$ çš„çŠ¶æ€ã€‚&lt;sup class=&quot;footnote-reference&quot;&gt;&lt;a href=&quot;#0&quot;&gt;1&lt;&#x2F;a&gt;&lt;&#x2F;sup&gt;&lt;&#x2F;p&gt;
&lt;p&gt;è€Œåœ¨ $T*$ è¿™é‡Œï¼Œåœ¨è¿™ç§&lt;strong&gt;çŠ¶æ€&lt;&#x2F;strong&gt;ä¸‹ï¼Œæˆ‘ä»¬ä¹Ÿèƒ½ç”¨æ¥å½’çº¦çš„äº§ç”Ÿå¼åªæœ‰ $T \rightarrow T*F$ ä¸€ä¸ªï¼Œä¹Ÿåªä¼šå½’çº¦åˆ°æ ˆé¡¶ä¸Šå¤šäº†ä¸€ä¸ª $T$ çš„çŠ¶æ€ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¯ä»¥çœ‹å‡ºä»â€œå¾€æ ˆä¸Šæ”¾ä¸€ä¸ª$T$çš„è§’åº¦æ¥çœ‹â€è¿™ä¸¤ä¸ªçŠ¶æ€å…¶å®æ˜¯åŒä¸€ä¸ªçŠ¶æ€ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;lr-0-xiang&quot;&gt;LR(0)é¡¹&lt;&#x2F;h3&gt;
&lt;p&gt;æˆ‘ä»¬å¼•å…¥$\cdot$æ ‡è®°æ¥åˆ†å‰²ç”Ÿæˆå¼åŒ¹é…è¿‡äº†çš„éƒ¨åˆ†å’Œè¿˜éœ€è¦åŒ¹é…çš„éƒ¨åˆ†ï¼Œæ‰€ä»¥ç°åœ¨è¿™ä¸ªçŠ¶æ€å¯ä»¥å†™æˆï¼š
$$
T \rightarrow T*\cdot F
$$
ä¹Ÿå°±ä»£è¡¨åœ¨è¿™ä¸ªçŠ¶æ€ä¸‹ï¼Œå·²ç»åŒ¹é…åˆ°äº†$T*$ï¼Œæ¥ä¸‹æ¥å¦‚æœèƒ½æˆåŠŸåœ°åŒ¹é…åˆ°ä¸€ä¸ª$F$ï¼Œå°±èƒ½é¡ºåˆ©åœ°å½’çº¦ä¸ºæ ˆé¡¶ä¸Šçš„ä¸€ä¸ª $T$ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åƒè¿™ç§æ ‡è®°è¿‡åŒ¹é…åˆ°çš„çŠ¶æ€çš„äº§ç”Ÿå¼ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œLR(0)é¡¹â€ï¼Œç®€ç§°â€œé¡¹â€ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;xiang-ji-bi-bao&quot;&gt;é¡¹é›†é—­åŒ…&lt;&#x2F;h3&gt;
&lt;p&gt;æˆ‘ä»¬è€ƒè™‘ä¸Šé¢è¯´åˆ°çš„ $T \rightarrow T*\cdot F$ï¼Œä»¥åŠå¦å¤–ä¸¤ä¸ªé¡¹ï¼š
$$
F \rightarrow \cdot(E)
$$
$$
F \rightarrow \cdot \textbf{id}
$$&lt;&#x2F;p&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥çœ‹åˆ°åœ¨ $T \rightarrow T*\cdot F$ é¡¹çš„å¯¹åº”çŠ¶æ€ä¸‹ï¼Œä¸Šé¢ä¸¤ä¸ªé¡¹æ‰€ä»£è¡¨çš„çŠ¶æ€å…¶å®å°±æ˜¯ $T \rightarrow T*\cdot F$ åœ¨è¯•å›¾åŒ¹é… $F$ æ—¶çš„â€œå­çŠ¶æ€â€æˆ–â€œç­‰ä»·çŠ¶æ€â€ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;é‚£ä¹ˆæˆ‘ä»¬å°±æŠŠè¿™ä¸¤ä¸ªçŠ¶æ€å’ŒåŸå…ˆçš„ $T \rightarrow T*\cdot F$ æ”¾åœ¨ä¸€ä¸ªé›†åˆé‡Œé¢ï¼Œç§°ä¹‹ä¸ºâ€œ $T \rightarrow T*\cdot F$ çš„é¡¹é›†é—­åŒ…â€ï¼Œå…¶ä¸­ $T \rightarrow T*\cdot F$ ç§°ä¸ºé—­åŒ…çš„æ ¸å¿ƒã€‚&lt;&#x2F;p&gt;
&lt;p&gt;é‚£ä¹ˆé¡¹é›†é—­åŒ…æœ‰å•¥ç”¨å‘¢ï¼Ÿæˆ‘ä»¬ä»ç„¶ä¸¾ä¸Šé¢æ–‡æ³•çš„ä¾‹å­ï¼š&lt;&#x2F;p&gt;
&lt;p&gt;æ¯”å¦‚ç°åœ¨æ ˆä¸­æœ‰$...T*$ï¼Œæˆ‘ä»¬åœ¨ $T \rightarrow T*\cdot F$ çŠ¶æ€ï¼Œæˆ‘ä»¬çœ‹åˆ°å‰é¢æœ‰ä¸€ä¸ª$&#x27;(&#x27;$ï¼Œæ­¤æ—¶æˆ‘ä»¬å°±å¯ä»¥æ ¹æ®è¿™ä¸ª$&#x27;(&#x27;$ å’Œé¡¹é›†é—­åŒ…ä¸­çš„$F \rightarrow \cdot(E)$ï¼Œè½¬åˆ°$F \rightarrow (\cdot E)$ çŠ¶æ€ï¼Œç„¶åå»åŒ¹é…å‡ºä¸€ä¸ª $F$ï¼Œæ”¾åˆ°æ ˆé¡¶ï¼Œç„¶åè¿›è¡Œ $T$ çš„å½’çº¦ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æŠŠæ‰€æœ‰çš„é¡¹ã€å¯¹åº”çš„é¡¹é›†é—­åŒ…ä»¥åŠçŠ¶æ€ä¹‹é—´çš„è½¬æ¢å…³ç³»åˆ—å‡ºæ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥å»ºç«‹èµ·ä¸€ä¸ª LR(0) çŠ¶æ€æœºï¼š&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;longfangsong.github.io&#x2F;lr0&#x2F;i100.png&quot; alt=&quot;i100&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°æ¯ä¸€ä¸ªäº§ç”Ÿå¼å¯¹åº”çš„æ‰€æœ‰é¡¹éƒ½ä¼šå‡ºç°åœ¨è¿™ä¸ªçŠ¶æ€æœºé‡Œé¢ï¼Œè€Œæ¯æ¡è¾¹ä¸Šåˆ™æŒ‡ç¤ºäº†åœ¨æ ˆé¡¶åˆè¢«å‹å…¥æŸä¸ªç¬¦å·æ—¶çš„çŠ¶æ€è½¬æ¢ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å…¶ä¸­$E&#x27;$æ˜¯ä¸ºäº†æ ‡è®°æˆ‘ä»¬æœ€ç»ˆåŒ¹é…åˆ°ä»€ä¹ˆè€Œè®¾ç½®çš„ï¼Œå…¶å®è¿™ä¸ªä¾‹å­æ¥è®²è¯´åˆ°åº•å°±æ˜¯$E$ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;shang-shu-guo-cheng-de-suan-fa-miao-shu&quot;&gt;ä¸Šè¿°è¿‡ç¨‹çš„ç®—æ³•æè¿°&lt;&#x2F;h4&gt;
&lt;p&gt;è¿™éƒ¨åˆ†çœ‹çœ‹å°±è¡Œäº†ï¼Œçœ‹æ‡‚äº†ä¸Šé¢çš„ä½ å¯ä»¥è‡ªå·±æƒ³åˆ°è¿™äº›çš„ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ ¹æ®é¾™ä¹¦ï¼Œä¸Šé¢çš„è¿‡ç¨‹çš„ç®—æ³•æè¿°ä¸ºï¼š&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ±‚æ¯ä¸ªLR(0)é¡¹ï¼Œç›´æ¥å¾€æ‰€æœ‰æ¯ä¸ªäº§ç”Ÿå¼é‡Œèƒ½æ’çš„åœ°æ–¹ï¼ˆåŒ…æ‹¬å¼€å¤´å’Œç»“å°¾ï¼‰æ’å…¥â€œ$\cdot$â€å³å¯&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;å¯¹å¼€å§‹ç¬¦å·æ‰€åœ¨çš„é¡¹ $S&#x27;\rightarrow \cdot S$ï¼Œæ±‚å…¶é—­åŒ…&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;å¯»æ‰¾æ¯ä¸ªæˆ‘ä»¬æ‹¿åˆ°çš„é—­åŒ…åœ¨æŸä¸ªè¾“å…¥ä¸‹è½¬æ¢åˆ°çš„é¡¹é›†ï¼ˆç§°ä¸º$GOTO$å‡½æ•°ï¼‰&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ±‚æ³•&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;â€œIf $A â†’ Î±Â·BÎ²$ is in $CLOSURE(I)$ and $B â†’ Î³$ is a production, then add the item $B â†’ Â·Î³$ to $CLOSURE(I)$, if it is not already there. Apply this rule until no more new items can be added to $CLOSURE(I)$.â€&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;é‡å¤ä¸Šä¸€æ­¥ï¼Œç›´åˆ°ä¸å†æœ‰æ–°çš„é¡¹é›†å‡ºç°ä¸ºæ­¢&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;shi-yong-lr-0-zhuang-tai-ji-jin-xing-pi-pei&quot;&gt;ä½¿ç”¨ LR(0) çŠ¶æ€æœºè¿›è¡ŒåŒ¹é…&lt;&#x2F;h3&gt;
&lt;p&gt;ä¸ºäº†å­˜å‚¨ä¸€è·¯åŒ¹é…ä¸Šæ¥æ—¶ç»è¿‡çš„çŠ¶æ€ï¼Œæˆ‘ä»¬éœ€è¦åœ¨åˆ†æè¡¨ä¸­å¢è®¾ä¸€ä¸ªçŠ¶æ€æ ˆã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æˆ‘ä¸æƒ³å†ç”»ä¸Šé¢é‚£ä¸€ç™¾ä¸‡è¡Œçš„å·¨å¤§è¡¨æ ¼äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™æ¬¡ç›´æ¥ç”¨é¾™ä¹¦ä¸Šçš„ä¾‹å­ï¼š&lt;&#x2F;p&gt;
&lt;p&gt;åˆ†æ$\textbf{id} * \textbf{id}$ï¼š&lt;&#x2F;p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;çŠ¶æ€æ ˆ&lt;&#x2F;th&gt;&lt;th&gt;ç¬¦å·æ ˆ&lt;&#x2F;th&gt;&lt;th&gt;å‰©ä½™è¾“å…¥&lt;&#x2F;th&gt;&lt;th&gt;åŠ¨ä½œ&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;thead&gt;&lt;tbody&gt;
&lt;tr&gt;&lt;td&gt;$I_0$&lt;&#x2F;td&gt;&lt;td&gt;&lt;&#x2F;td&gt;&lt;td&gt;$\textbf{id} * \textbf{id}$&lt;&#x2F;td&gt;&lt;td&gt;æ ¹æ®çŠ¶æ€æœºçš„æ ‡è¯†ï¼Œè½¬åˆ°$I_5$ï¼ˆå³å‹å…¥çŠ¶æ€æ ˆï¼‰ï¼ŒåŒæ—¶ç§»è¿› $\textbf{id}$&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;$I_0I_5$&lt;&#x2F;td&gt;&lt;td&gt;$\textbf{id}$&lt;&#x2F;td&gt;&lt;td&gt;$* \textbf{id}$&lt;&#x2F;td&gt;&lt;td&gt;æ ¹æ®çŠ¶æ€æœºçš„æ ‡è¯†ï¼Œæ— å¤„å¯è½¬ï¼Œè¿›è¡Œå½’çº¦ï¼Œå¼¹çŠ¶æ€æ ˆ&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;$I_0$&lt;&#x2F;td&gt;&lt;td&gt;$F$&lt;&#x2F;td&gt;&lt;td&gt;$* \textbf{id}$&lt;&#x2F;td&gt;&lt;td&gt;å¼¹æ ˆåè¿›è¡Œä¸‹ä¸€æ­¥çŠ¶æ€è½¬ç§»ï¼Œè½¬åˆ°$I_3$&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;$I_0I_3$&lt;&#x2F;td&gt;&lt;td&gt;$F$&lt;&#x2F;td&gt;&lt;td&gt;$* \textbf{id}$&lt;&#x2F;td&gt;&lt;td&gt;æ ¹æ®çŠ¶æ€æœºçš„æ ‡è¯†ï¼Œæ— å¤„å¯è½¬ï¼Œè¿›è¡Œå½’çº¦ï¼Œå¼¹çŠ¶æ€æ ˆ&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;$I_0$&lt;&#x2F;td&gt;&lt;td&gt;$T$&lt;&#x2F;td&gt;&lt;td&gt;$* \textbf{id}$&lt;&#x2F;td&gt;&lt;td&gt;å¼¹æ ˆåè¿›è¡Œä¸‹ä¸€æ­¥çŠ¶æ€è½¬ç§»ï¼Œè½¬åˆ°$I_2$&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;$I_0I_2$&lt;&#x2F;td&gt;&lt;td&gt;$T$&lt;&#x2F;td&gt;&lt;td&gt;$* \textbf{id}$&lt;&#x2F;td&gt;&lt;td&gt;æ ¹æ®çŠ¶æ€æœºçš„æ ‡è¯†ï¼Œè½¬åˆ°$I_7$ï¼ŒåŒæ—¶ç§»è¿› $*$&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;$I_0I_2I_7$&lt;&#x2F;td&gt;&lt;td&gt;$T*$&lt;&#x2F;td&gt;&lt;td&gt;$\textbf{id}$&lt;&#x2F;td&gt;&lt;td&gt;æ ¹æ®çŠ¶æ€æœºçš„æ ‡è¯†ï¼Œè½¬åˆ°$I_5$ï¼ŒåŒæ—¶ç§»è¿› $\textbf{id}$&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;$I_0I_2I_7I_5$&lt;&#x2F;td&gt;&lt;td&gt;$T*\textbf{id}$&lt;&#x2F;td&gt;&lt;td&gt;&lt;&#x2F;td&gt;&lt;td&gt;æ ¹æ®çŠ¶æ€æœºçš„æ ‡è¯†ï¼Œæ— å¤„å¯è½¬ï¼Œè¿›è¡Œå½’çº¦ï¼Œå¼¹çŠ¶æ€æ ˆ&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;$I_0I_2I_7$&lt;&#x2F;td&gt;&lt;td&gt;$T*F$&lt;&#x2F;td&gt;&lt;td&gt;&lt;&#x2F;td&gt;&lt;td&gt;å¼¹æ ˆåè¿›è¡Œä¸‹ä¸€æ­¥çŠ¶æ€è½¬ç§»ï¼Œè½¬åˆ°$I_{10}$&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;$I_0I_2I_{10}$&lt;&#x2F;td&gt;&lt;td&gt;$T$&lt;&#x2F;td&gt;&lt;td&gt;&lt;&#x2F;td&gt;&lt;td&gt;æ ¹æ®çŠ¶æ€æœºçš„æ ‡è¯†ï¼Œæ— å¤„å¯è½¬ï¼Œè¿›è¡Œå½’çº¦ï¼Œå¼¹çŠ¶æ€æ ˆ&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;$I_0I_2$&lt;&#x2F;td&gt;&lt;td&gt;$E$&lt;&#x2F;td&gt;&lt;td&gt;&lt;&#x2F;td&gt;&lt;td&gt;æ ¹æ®çŠ¶æ€æœºçš„æ ‡è¯†ï¼Œæ— å¤„å¯è½¬ï¼Œè¿›è¡Œå½’çº¦ï¼Œå¼¹çŠ¶æ€æ ˆ&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;$I_0$&lt;&#x2F;td&gt;&lt;td&gt;$E$&lt;&#x2F;td&gt;&lt;td&gt;&lt;&#x2F;td&gt;&lt;td&gt;å¼¹æ ˆåè¿›è¡Œä¸‹ä¸€æ­¥çŠ¶æ€è½¬ç§»ï¼Œè½¬åˆ°$I_1$&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;$I_0I_1$&lt;&#x2F;td&gt;&lt;td&gt;$E&#x27;$&lt;&#x2F;td&gt;&lt;td&gt;&lt;&#x2F;td&gt;&lt;td&gt;æ¥å—&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;&#x2F;tbody&gt;&lt;&#x2F;table&gt;
&lt;p&gt;æ³¨æ„æˆ‘è¿™é‡Œçš„æ­¥éª¤æ¯”é¾™ä¹¦ä¸Šå¤šäº†äº›ï¼Œé¾™ä¹¦å°†â€œå¼¹æ ˆåè¿›è¡Œä¸‹ä¸€æ­¥çŠ¶æ€è½¬ç§»â€è¿™ä¸€æ­¥å’Œä¸‹é¢çš„æ­¥éª¤åˆå¹¶èµ·æ¥å†™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å…¶å®è¯´å®è¯ä½ å¯ä»¥æŠŠè¿™ä¸ªçŠ¶æ€æ ˆç”¨å‡½æ•°ï¼ˆé€’å½’ï¼‰è°ƒç”¨çš„æ–¹æ³•æ¶ˆå»çš„ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;chong-tu&quot;&gt;å†²çª&lt;&#x2F;h3&gt;
&lt;p&gt;çœ‹äº†ä¸Šé¢çš„æ­¥éª¤ä½ ä¼šå‘ç°ï¼ŒLR(0) çš„æ¯ä¸ªé¡¹é›†é—­åŒ…ä¸­ä¸å¯ä»¥åŒ…å«ï¼š&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ä¸€ä¸ªé¡¹è®¤ä¸ºå·²ç»å¯ä»¥å½’çº¦äº†ï¼Œå¦ä¸€ä¸ªé¡¹è®¤ä¸ºè¿˜éœ€è¦ç§»è¿›
$$
A \rightarrow a\cdot b
$$
$$
B \rightarrow c \cdot
$$&lt;&#x2F;p&gt;
&lt;p&gt;è¿™ç§°ä¸ºç§»è¿›-å½’çº¦å†²çªã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;ä¸¤ä¸ªé¡¹è®¤ä¸ºå¯ä»¥å½’çº¦å‡ºä¸åŒçš„ä¸œè¥¿
$$
A \rightarrow b \cdot
$$
$$
C \rightarrow d \cdot
$$&lt;&#x2F;p&gt;
&lt;p&gt;è¿™ç§°ä¸ºå½’çº¦-å½’çº¦å†²çªã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;æœ‰æ­¤ç±»å†²çªçš„ä¸æ˜¯LR(0)æ–‡æ³•ï¼Œéœ€è¦ç”¨å…¶ä»–åˆ†ææ–¹æ³•åˆ†æã€‚&lt;&#x2F;p&gt;
&lt;div class=&quot;footnote-definition&quot; id=&quot;0&quot;&gt;&lt;sup class=&quot;footnote-definition-label&quot;&gt;1&lt;&#x2F;sup&gt;
&lt;p&gt;è¿™é‡Œä¹Ÿå¯ä»¥ç†è§£æˆï¼ŒåŒ¹é…å®Œäº†$E+$ ä¹‹åï¼Œå†é€’å½’åœ°ï¼ˆç”¨â€œå¹²å‡€â€çš„æ ˆå¸§ï¼‰åŒ¹é…åé¢çš„ä»¥$T*$å¼€å¤´çš„å†…å®¹&lt;&#x2F;p&gt;
&lt;&#x2F;div&gt;
</content>
	</entry>
	<entry xml:lang="zh">
		<title>Parsing â€¢ ç§»è¿›-å½’çº¦åˆ†æ</title>
		<published>2020-05-22T22:56:58.045+00:00</published>
		<updated>2020-05-22T22:56:58.045+00:00</updated>
		<link href="https://longfangsong.github.io/shift-reduce/" type="text/html"/>
		<id>https://longfangsong.github.io/shift-reduce/</id>
		<content type="html">&lt;p&gt;å›å¿†ä½ å¾ˆå¯èƒ½åœ¨å¤§ä¸€å¤§äºŒ&lt;sup class=&quot;footnote-reference&quot;&gt;&lt;a href=&quot;#1&quot;&gt;1&lt;&#x2F;a&gt;&lt;&#x2F;sup&gt;å†™è¿‡çš„è¿ç”¨æ ˆè¿›è¡Œè¡¨è¾¾å¼æ±‚å€¼çš„ç¨‹åºï¼Œæˆ‘ä»¬å°†å…¶ç®€åŒ–åˆ°åªæ”¯æŒåŠ æ³•å’Œä¹˜æ³•ï¼Œè¿™é‡Œç»™å‡ºä¸€ä¸ªRustè¯­è¨€çš„ä¾‹å­ï¼ˆå†™çš„æ¯”è¾ƒéšæ„â€¦â€¦ï¼‰ï¼Œå¤ªé•¿ä¸çœ‹å…šå¯ä»¥ç›´æ¥è·³è¿‡çœ‹ä¸‹é¢çš„åˆ†æï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;let mut&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; input = String::new();
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;stdin&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;read_to_string&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(&amp;amp;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;mut&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; input).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;unwrap&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;();
    input = input.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;trim&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;to_owned&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;();
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;let mut&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; current_number = String::new();
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;let mut&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; stack = Vec::new();
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; ch in input.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;chars&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;() {
        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;match&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; ch {
            &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;#39;..=&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;9&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;#39; =&amp;gt; current_number.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;push&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(ch),
            &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;#39; | &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;#39; =&amp;gt; {
                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;!current_number.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;is_empty&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;() {
                    stack.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;push&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(Token::Value(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;i32&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;::from_str(&amp;amp;current_number).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;unwrap&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;()));
                    current_number = String::new();
                }
                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; top_op = stack.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;iter&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;rev&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;()
                    .&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;find_map&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(|&amp;amp;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;it&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if let &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;Token::Op(op) = it { Some(op) } &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;else &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;{ None });
                &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; top_op.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;is_some&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;() {
                    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;let mut&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; top_op = top_op.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;unwrap&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;();
                    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;&#x2F;&#x2F; ä¸‹é¢çš„æ¡ä»¶å®é™…ä¸Šæ˜¯&amp;quot;æ ˆä¸Šæœ€åä¸€ä¸ªæ“ä½œç¬¦ä¼˜å…ˆçº§å¤§äºç­‰äºå½“å‰è¯»åˆ°çš„æ“ä½œç¬¦&amp;quot;
                    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;while&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; ch == &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;#39; || top_op == &amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;#39; {
                        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; op2 = stack.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;pop&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;unwrap&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;();
                        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; op = stack.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;pop&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;unwrap&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(); &lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;&#x2F;&#x2F; should be equal to top_op
                        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; op1 = stack.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;pop&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;unwrap&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;();
                        stack.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;push&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(Token::Value(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;eval&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(op1, op, op2)));
                        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; next_top_op = stack.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;iter&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;rev&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;()
                            .&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;find_map&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(|&amp;amp;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;it&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if let &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;Token::Op(op) = it { Some(op) } &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;else &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;{ None });
                        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; next_top_op.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;is_none&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;() { &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;break&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;; }
                        top_op = next_top_op.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;unwrap&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;()
                    }
                }
                stack.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;push&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(Token::Op(ch));
            }
            _ =&amp;gt; unreachable!()
        }
    }
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;!current_number.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;is_empty&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;() {
        stack.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;push&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(Token::Value(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;i32&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;::from_str(&amp;amp;current_number).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;unwrap&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;()));
        current_number.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;clear&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;();
    }
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;let mut&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; top_op = stack.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;iter&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;rev&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;()
        .&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;find_map&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(|&amp;amp;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;it&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if let &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;Token::Op(op) = it { Some(op) } &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;else &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;{ None });
    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;while&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; top_op.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;is_some&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;() {
        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; op2 = stack.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;pop&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;unwrap&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;();
        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; op = stack.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;pop&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;unwrap&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;();
        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; op1 = stack.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;pop&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;unwrap&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;();
        stack.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;push&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(Token::Value(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;eval&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(op1, op, op2)));
        top_op = stack.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;iter&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;rev&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;()
            .&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;find_map&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(|&amp;amp;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;it&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if let &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;Token::Op(op) = it { Some(op) } &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;else &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;{ None });
    }
		println!(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;{:?}&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;, stack[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d08770;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;]);
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æˆ‘ä»¬ä»¥è¡¨è¾¾å¼$1+2*3+4$çš„æ±‚å€¼æ¥è§‚å¯Ÿè¿™ä¸€è¿‡ç¨‹ï¼š&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;è¾“å…¥æ•°å­—1ï¼Œå‹å…¥æ ˆä¸­&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;longfangsong.github.io&#x2F;shift-reduce&#x2F;i1.svg&quot; alt=&quot;i1&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;è¾“å…¥æ“ä½œç¬¦&#x27;+&#x27;ï¼Œå‹å…¥æ ˆä¸­&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;longfangsong.github.io&#x2F;shift-reduce&#x2F;i2.svg&quot; alt=&quot;i2&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;è¾“å…¥æ•°å­—2ï¼Œå‹å…¥æ ˆä¸­&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;longfangsong.github.io&#x2F;shift-reduce&#x2F;i3.svg&quot; alt=&quot;i3&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;è¾“å…¥æ“ä½œç¬¦&#x27;*&#x27;ï¼Œå‹å…¥æ ˆä¸­&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;longfangsong.github.io&#x2F;shift-reduce&#x2F;i4.svg&quot; alt=&quot;i4&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;è¾“å…¥æ•°å­—3ï¼Œå‹å…¥æ ˆä¸­&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;longfangsong.github.io&#x2F;shift-reduce&#x2F;i5.svg&quot; alt=&quot;i5&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;è¾“å…¥æ“ä½œç¬¦&#x27;+&#x27;ï¼Œä¼˜å…ˆçº§ä½äºæ ˆä¸­æœ€åä¸€ä¸ªå‹å…¥çš„è¿ç®—ç¬¦ï¼Œå…ˆå¯¹æ ˆä¸­å†…å®¹æ±‚å€¼ï¼Œå†å°†&#x27;+&#x27;å‹å…¥æ ˆä¸­&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&#x27;*&#x27;ä¼˜å…ˆçº§é«˜äº&#x27;+&#x27;ï¼Œæ±‚å€¼&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;longfangsong.github.io&#x2F;shift-reduce&#x2F;i6.svg&quot; alt=&quot;i6&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;longfangsong.github.io&#x2F;shift-reduce&#x2F;i7.svg&quot; alt=&quot;i7&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;&#x27;+&#x27;ä¼˜å…ˆçº§ç­‰äº&#x27;+&#x27;ï¼Œæ±‚å€¼&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;longfangsong.github.io&#x2F;shift-reduce&#x2F;i8.svg&quot; alt=&quot;i8&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;longfangsong.github.io&#x2F;shift-reduce&#x2F;i9.svg&quot; alt=&quot;i9&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;æ ˆä¸­æ²¡æœ‰è¿ç®—ç¬¦äº†ï¼Œå‹å…¥&#x27;+&#x27;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;longfangsong.github.io&#x2F;shift-reduce&#x2F;i10.svg&quot; alt=&quot;i10&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;çœ‹åˆ°æ•°å­—4ï¼Œå‹å…¥&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;longfangsong.github.io&#x2F;shift-reduce&#x2F;i11.svg&quot; alt=&quot;i11&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;æ²¡æœ‰è¾“å…¥äº†ï¼Œä¸æ–­æ±‚å€¼ç›´åˆ°æ²¡æœ‰æ›´å¤šè¿ç®—ç¬¦&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;longfangsong.github.io&#x2F;shift-reduce&#x2F;i12.svg&quot; alt=&quot;i12&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;longfangsong.github.io&#x2F;shift-reduce&#x2F;i13.svg&quot; alt=&quot;i13&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;è¿™é‡Œçš„11å°±æ˜¯æˆ‘ä»¬æ±‚å¾—å¾—ç­”æ¡ˆã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;yi-jin-he-gui-yue&quot;&gt;ç§»è¿›å’Œå½’çº¦&lt;&#x2F;h2&gt;
&lt;p&gt;æˆ‘ä»¬çœ‹åˆ°ï¼Œæˆ‘ä»¬ä¸Šé¢çš„åˆ†æè¿‡ç¨‹ä¸­å‡ºç°äº†ä¸¤ç§æ“ä½œï¼š&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;ç§»è¿›ï¼šå°†è¾“å…¥çš„å€¼æˆ–è€…æ“ä½œç¬¦&lt;strong&gt;å‹å…¥&lt;&#x2F;strong&gt;æ ˆä¸­&lt;&#x2F;li&gt;
&lt;li&gt;å½’çº¦ï¼šå°†è¾“å…¥çš„å€¼å’Œ&lt;strong&gt;æ ˆé¡¶&lt;&#x2F;strong&gt;çš„æŸå‡ ä¸ªå€¼ç»è¿‡è®¡ç®—ï¼Œå˜ä¸ºä¸€èˆ¬æ¥è¯´æ›´å°‘çš„å‡ ä¸ªå€¼ï¼Œ&lt;strong&gt;å‹å›&lt;&#x2F;strong&gt;æ ˆä¸­&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥å°†â€œå€¼â€ã€â€œæ“ä½œç¬¦â€æ¨å¹¿åˆ°â€œæ–‡æ³•å…ƒç´ â€ï¼Œå¾—åˆ°äº†æ–‡æ³•åˆ†æä¸­çš„ç§»è¿›å’Œå½’çº¦&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;ç§»è¿›ï¼šå°†è¾“å…¥çš„æŸä¸ªtoken&lt;strong&gt;å‹å…¥&lt;&#x2F;strong&gt;æ ˆä¸­&lt;&#x2F;li&gt;
&lt;li&gt;å½’çº¦ï¼šå°†è¾“å…¥çš„å€¼å’Œ&lt;strong&gt;æ ˆé¡¶&lt;&#x2F;strong&gt;çš„æŸå‡ ä¸ªæ–‡æ³•å…ƒç´ ç»è¿‡è®¡ç®—ï¼Œå˜ä¸ºä¸€èˆ¬æ¥è¯´æ›´å°‘çš„å‡ ä¸ªæ–‡æ³•å…ƒç´ ï¼Œ&lt;strong&gt;å‹å›&lt;&#x2F;strong&gt;æ ˆä¸­&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;é‚£ä¹ˆæˆ‘ä»¬å°±èƒ½å°†ä¸Šé¢çš„ä¾‹å­æ¨å¹¿åˆ°æ›´ä¸€èˆ¬çš„ï¼Œéæ•°å­—çš„åœºæ™¯ï¼Œä»¥æ–‡æ³•&lt;sup class=&quot;footnote-reference&quot;&gt;&lt;a href=&quot;#2&quot;&gt;2&lt;&#x2F;a&gt;&lt;&#x2F;sup&gt;ï¼š
$$
Expr \rightarrow id | Expr + Expr | Expr * Expr
$$
å’Œè¡¨è¾¾å¼$a+b*c+d$ä¸ºä¾‹ï¼ˆå›¾ä¸­çš„æ‰€æœ‰è“è‰²èŠ‚ç‚¹å‡ä»£è¡¨$Expr$ï¼Œå…¶ä¸­å¤æ‚$Expr$å·²ç»ç”»ä¸ºASTçš„æ ·å­ï¼‰ï¼š&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;longfangsong.github.io&#x2F;shift-reduce&#x2F;i14.svg&quot; alt=&quot;i14&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;é€šè¿‡ç®€å•åœ°å°†ä¸Šé¢æ±‚å€¼ä¸­çš„æ•°å­—æ”¹ä¸ºäº†æ–‡æ³•å…ƒç´ ï¼ˆä¹Ÿå³ASTçš„èŠ‚ç‚¹ï¼‰ï¼Œæˆ‘ä»¬å®¹æ˜“åœ°å°†è¡¨è¾¾å¼æ±‚å€¼çš„æ–¹æ³•æ‰©å±•åˆ°äº†æ±‚è¡¨è¾¾å¼å¯¹åº”çš„ASTã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;chong-tu&quot;&gt;å†²çª&lt;&#x2F;h2&gt;
&lt;p&gt;åœ¨ç§»è¿›-å½’çº¦åˆ†æè¿‡ç¨‹ä¸­ï¼Œå¯èƒ½ä¼šé‡åˆ°æŸäº›æƒ…å†µä¸‹ï¼Œæœ‰å¤šç§å¯èƒ½ä½¿ç”¨çš„è¡Œä¸ºï¼Œä¾‹å¦‚ï¼š&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;longfangsong.github.io&#x2F;shift-reduce&#x2F;i3.svg&quot; alt=&quot;i3&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;æ­¤æ—¶æ˜¯å¦åº”å½“å°†1+2å½’çº¦ä¸º3ï¼Ÿè¿™å°±è¦ç­‰åˆ°ä¸‹ä¸€ä¸ªæ“ä½œç¬¦åˆ°æ¥æ‰èƒ½å†³å®šã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;yi-jin-gui-yue-chong-tu&quot;&gt;ç§»è¿›-å½’çº¦å†²çª&lt;&#x2F;h3&gt;
&lt;p&gt;å½“æŸä¸ªè¾“å…¥å¯ä»¥é€‰æ‹©ä¸æ ˆä¸­å†…å®¹ç»“åˆï¼Œè¿›è¡Œå½’çº¦ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©ç›´æ¥å‹å…¥æ ˆï¼Œåç»­å†è¿›è¡Œå½’çº¦æ—¶ï¼Œå°±è¯´æˆ‘ä»¬é‡åˆ°äº†ä¸€ä¸ªç§»è¿›-å½’çº¦å†²çªã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¸Šè¿°çš„ä¾‹å­å°±æ˜¯ä¸€ä¸ªå…¸å‹çš„ç§»è¿›-å½’çº¦å†²çªã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;gui-yue-gui-yue-chong-tu&quot;&gt;å½’çº¦-å½’çº¦å†²çª&lt;&#x2F;h3&gt;
&lt;p&gt;å½“æˆ‘ä»¬é‡åˆ°äº†æŸä¸ªè¾“å…¥ä¸æ ˆä¸­å†…å®¹ç»“åˆï¼Œå…¶ç»“æ„ç¬¦åˆå¤šä¸ªäº§ç”Ÿå¼æ—¶ï¼Œå¯ä»¥æœ‰å¤šç§æ–¹å¼è¿›è¡Œå½’çº¦ï¼Œè¿™æ—¶å°±è¯´æˆ‘ä»¬é‡åˆ°äº†ä¸€ä¸ªå½’çº¦-å½’çº¦å†²çªã€‚&lt;&#x2F;p&gt;
&lt;div class=&quot;footnote-definition&quot; id=&quot;1&quot;&gt;&lt;sup class=&quot;footnote-definition-label&quot;&gt;1&lt;&#x2F;sup&gt;
&lt;p&gt;&lt;del&gt;æˆ‘åˆä¸‰å°±ä¼šå†™äº†ï¼Œä½ æ¥æ‰“æˆ‘å‘€&lt;&#x2F;del&gt;ï¼ˆè™½ç„¶å½“å¹´å†™çš„çˆ†ç‚¸ä¸‘é™‹ï¼‰&lt;&#x2F;p&gt;
&lt;&#x2F;div&gt;
&lt;div class=&quot;footnote-definition&quot; id=&quot;2&quot;&gt;&lt;sup class=&quot;footnote-definition-label&quot;&gt;2&lt;&#x2F;sup&gt;
&lt;p&gt;è¿™é‡Œè¦æ³¨æ„å…¶å®å¯ä»¥è¯´å½’çº¦æ—¶ç”¨çš„äº§ç”Ÿå¼æ˜¯$Expr+ \rightarrow Expr*Expr+|Expr+Expr+$ï¼Œè¿™æ ·å°±æ²¡æœ‰äº†ä¼˜å…ˆçº§è¿™ä¸ªæ¦‚å¿µï¼Œä½†è¿™æ ·å°±æ˜¯ä¸ªä¸Šä¸‹æ–‡æœ‰å…³æ–‡æ³•äº†ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;div&gt;
</content>
	</entry>
	<entry xml:lang="zh">
		<title>Parsing â€¢ LL(1)æ–‡æ³•çš„åˆ†æï¼Œä»¥åŠFirsté›†å’ŒFollowé›†ç©¶ç«Ÿæ˜¯ä»€ä¹ˆ</title>
		<published>2020-05-17T16:37:01.045+00:00</published>
		<updated>2020-05-17T16:37:01.045+00:00</updated>
		<link href="https://longfangsong.github.io/ll1/" type="text/html"/>
		<id>https://longfangsong.github.io/ll1/</id>
		<content type="html">&lt;h2 id=&quot;wei-shi-yao-xu-yao-firstji-he-followji&quot;&gt;ä¸ºä»€ä¹ˆéœ€è¦Firsté›†å’ŒFollowé›†&lt;&#x2F;h2&gt;
&lt;p&gt;äº†è§£&lt;a href=&quot;https:&#x2F;&#x2F;longfangsong.github.io&#x2F;parsing-combinator&#x2F;&quot;&gt;å¸¦å›æœ”çš„é€’å½’ä¸‹é™æ–‡æ³•åˆ†ææ–¹æ³•&lt;&#x2F;a&gt;çš„åŒå­¦å¯èƒ½ä¼šå‘ç°è¿™ç§åˆ†ææ³•ç”±äºåœ¨æ–‡æ³•ä¸­æ¯ä¸ªå‡ºç° &lt;code&gt;|&lt;&#x2F;code&gt; çš„ç‚¹ä¸Šï¼Œéƒ½ä¼š&lt;strong&gt;å°è¯•&lt;&#x2F;strong&gt;è¿™ä¸ªç‚¹ä¸Šæ‰€æœ‰å¯èƒ½çš„ç”Ÿæˆå¼ï¼Œç›´åˆ°æœ‰ä¸€ä¸ªåŒ¹é…æˆåŠŸä¸ºæ­¢ï¼Œè¿™ç§æ–¹æ¡ˆè™½ç„¶ä¿è¯äº†å¯¹æ‰€æœ‰æ–‡æ³•ä¸­çš„å¥å­ï¼Œæœ€ç»ˆéƒ½èƒ½é€šè¿‡è¿™ç§æ–¹å¼æ„å»ºå‡ºå…¶è¯­æ³•æ ‘ï¼Œä½†ç”±äºå¯èƒ½å­˜åœ¨çš„å¤§é‡å›æœ”ï¼Œæ•ˆç‡å°±ä¼šæ”¶åˆ°å½±å“ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;é‚£ä¹ˆæˆ‘ä»¬å°±è¦æƒ³äº†ï¼Œæœ‰æ²¡æœ‰ä»€ä¹ˆæ–¹æ³•å¯ä»¥é€‰æ‹©å‡ºè¿™ä¸ªç‚¹ä¸Š&lt;strong&gt;å”¯ä¸€&lt;&#x2F;strong&gt;çš„ç”Ÿæˆå¼ï¼Œæ¥æ¶ˆé™¤æ‰€æœ‰å›æœ”çš„å¯èƒ½æ€§ï¼Œè¿™æ ·æ•ˆç‡å°±èƒ½å¤§å¤§æå‡äº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;äº‹å®è¯æ˜ï¼Œå¯¹äºä¸€éƒ¨åˆ†æ–‡æ³•æ¥è¯´ï¼Œè¿™ä¹ˆåšæ˜¯å¯èƒ½çš„ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;ke-yi-xuan-chu-wei-yi-sheng-cheng-shi-de-shi-li&quot;&gt;å¯ä»¥é€‰å‡ºå”¯ä¸€ç”Ÿæˆå¼çš„å®ä¾‹&lt;&#x2F;h2&gt;
&lt;p&gt;ä¾‹å¦‚ä¸‹é¢ä¸€ä¸ªï¼ˆæ¶ˆé™¤äº†å·¦é€’å½’çš„ï¼Œæ‰€æœ‰çš„$|$éƒ½æ‹†å¼€äº†çš„ï¼‰æ–‡æ³•ï¼š
$$
\displaylines {
E \rightarrow T E&#x27; \\
E&#x27; \rightarrow + T E&#x27; \\
E&#x27; \rightarrow \epsilon \\
T \rightarrow F T&#x27; \\
T&#x27; \rightarrow * FT&#x27; \\
T&#x27; \rightarrow \epsilon \\
F \rightarrow (E) \\
F \rightarrow id
}
$$
å¯ä»¥çœ‹å‡ºï¼Œåœ¨è°ƒç”¨æŸä¸ªï¼ˆç›´æ¥æˆ–é—´æ¥ï¼‰å¸¦æœ‰&lt;code&gt;|&lt;&#x2F;code&gt;çš„parseå‡½æ•°ï¼Œå¹¶çœ‹åˆ°äº†ä¸‹ä¸€ä¸ªè¾“å…¥ä¸ºæŸä¸ªç¬¦å·æ—¶ï¼Œé€‰ç”¨çš„ç”Ÿæˆå¼æ˜¯ï¼š&lt;&#x2F;p&gt;
&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;parse\è¾“å…¥ç¬¦å·&lt;&#x2F;th&gt;&lt;th&gt;$id$&lt;&#x2F;th&gt;&lt;th&gt;$+$&lt;&#x2F;th&gt;&lt;th&gt;$*$&lt;&#x2F;th&gt;&lt;th&gt;$($&lt;&#x2F;th&gt;&lt;th&gt;$)$&lt;&#x2F;th&gt;&lt;th&gt;è¾“å…¥ç»“æŸï¼ˆæ¥å—è¾“å…¥ï¼‰&lt;&#x2F;th&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;thead&gt;&lt;tbody&gt;
&lt;tr&gt;&lt;td&gt;$E$&lt;&#x2F;td&gt;&lt;td&gt;$E\rightarrow TE&#x27;$&lt;&#x2F;td&gt;&lt;td&gt;&lt;&#x2F;td&gt;&lt;td&gt;&lt;&#x2F;td&gt;&lt;td&gt;$E\rightarrow TE&#x27;$&lt;&#x2F;td&gt;&lt;td&gt;&lt;&#x2F;td&gt;&lt;td&gt;&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;$E&#x27;$&lt;&#x2F;td&gt;&lt;td&gt;&lt;&#x2F;td&gt;&lt;td&gt;$E&#x27;\rightarrow +TE&#x27;$&lt;&#x2F;td&gt;&lt;td&gt;&lt;&#x2F;td&gt;&lt;td&gt;&lt;&#x2F;td&gt;&lt;td&gt;$E&#x27;\rightarrow \epsilon$&lt;&#x2F;td&gt;&lt;td&gt;$E&#x27;\rightarrow \epsilon$&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;$T$&lt;&#x2F;td&gt;&lt;td&gt;$T\rightarrow FT&#x27;$&lt;&#x2F;td&gt;&lt;td&gt;&lt;&#x2F;td&gt;&lt;td&gt;&lt;&#x2F;td&gt;&lt;td&gt;$T\rightarrow FT&#x27;$&lt;&#x2F;td&gt;&lt;td&gt;&lt;&#x2F;td&gt;&lt;td&gt;&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;$T&#x27;$&lt;&#x2F;td&gt;&lt;td&gt;&lt;&#x2F;td&gt;&lt;td&gt;$T&#x27;\rightarrow \epsilon$&lt;&#x2F;td&gt;&lt;td&gt;$T&#x27;\rightarrow *FT&#x27;$&lt;&#x2F;td&gt;&lt;td&gt;&lt;&#x2F;td&gt;&lt;td&gt;$T&#x27;\rightarrow \epsilon$&lt;&#x2F;td&gt;&lt;td&gt;$T&#x27;\rightarrow \epsilon$&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;tr&gt;&lt;td&gt;$F$&lt;&#x2F;td&gt;&lt;td&gt;$F\rightarrow id$&lt;&#x2F;td&gt;&lt;td&gt;&lt;&#x2F;td&gt;&lt;td&gt;&lt;&#x2F;td&gt;&lt;td&gt;$F\rightarrow (E)$&lt;&#x2F;td&gt;&lt;td&gt;&lt;&#x2F;td&gt;&lt;td&gt;&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;
&lt;&#x2F;tbody&gt;&lt;&#x2F;table&gt;
&lt;p&gt;è¿™é‡Œç”Ÿæˆå¼çš„é€‰æ‹©ï¼ˆå³æ¯ä¸ªæ ¼å­ä¸­çš„äº§ç”Ÿå¼ï¼‰æ­£æ˜¯å”¯ä¸€çš„ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;é‚£ä¹ˆå¦‚ä½•æ±‚è¿™å¼ è¡¨å‘¢ï¼Ÿ&lt;&#x2F;p&gt;
&lt;p&gt;å®¹æ˜“æƒ³åˆ°çš„æ˜¯ï¼Œå¯¹æŸä¸ªäº§ç”Ÿå¼ï¼š
$$
A \rightarrow BCD...X
$$
æ£€æŸ¥å…¶èƒ½ç”Ÿæˆçš„æ¯ä¸ªå¥å­ä¸­çš„ç¬¬ä¸€ä¸ªç¬¦å·ï¼Œå¹¶å°†è¯¥äº§ç”Ÿå¼å¡«å…¥$A$å¯¹åº”è¡Œä¸­ï¼Œè¿™äº›ç¬¦å·çš„å¯¹åº”çš„åˆ—ä¸­å³å¯ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è€Œæ±‚å‡ºâ€œèƒ½ç”Ÿæˆçš„æ¯ä¸ªå¥å­ä¸­çš„ç¬¬ä¸€ä¸ªç¬¦å·â€çš„æ–¹æ³•æ˜¯ï¼šæŒ‰é¡ºåºæ£€æŸ¥$B,C,D...X$ä¸­çš„æ¯ä¸€ä¸ªï¼Œå¦‚æœè¿™ä¸ªç¬¦å·æ˜¯$\epsilon$ï¼Œé‚£ä¹ˆç•¥è¿‡è¿™ä¸ªç¬¦å·ç»§ç»­å¾€ä¸‹çœ‹å°±å¥½äº†ï¼ˆå¦‚æœåé¢å•¥ä¹Ÿæ²¡æœ‰äº†ï¼Œé‚£å°±æŠŠ$\epsilon$çœ‹æˆæ˜¯ç»ˆç»“ç¬¦ï¼‰ï¼Œå¦‚æœæ˜¯ç»ˆç»“ç¬¦ï¼Œé‚£è¿™â€œç¬¬ä¸€ä¸ªç¬¦å·â€å°±æ˜¯å®ƒäº†ï¼Œå¦‚æœæ˜¯éç»ˆç»“ç¬¦ï¼Œé‚£ä¹ˆé€’å½’åœ°å¾€ä¸‹çœ‹è¿™ä¸ªç¬¦å·å°±å¥½äº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å–å‰é¢ä¾‹å­ä¸­çš„$E \rightarrow T E&#x27;$ä¸ºä¾‹ï¼š&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ£€æŸ¥$T$ï¼Œæ˜¯éç»ˆç»“ç¬¦ï¼Œé€’å½’åœ°å‘ä¸‹çœ‹ï¼Œæœ‰ï¼š&lt;&#x2F;p&gt;
&lt;p&gt;$T \rightarrow F T&#x27;$&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ£€æŸ¥$F$ï¼Œæ˜¯éç»ˆç»“ç¬¦ï¼Œé€’å½’åœ°å‘ä¸‹çœ‹ï¼Œæœ‰ï¼š&lt;&#x2F;p&gt;
&lt;p&gt;$F \rightarrow (E)$&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;æ£€æŸ¥&#x27;$($&#x27;ï¼Œæ˜¯ç»ˆç»“ç¬¦ï¼Œæ•…ä¸‹ä¸€æ­¥çœ‹åˆ°&#x27;$($&#x27;æ—¶ï¼Œå¯ä»¥é€‰æ‹©$E \rightarrow T E&#x27;$ï¼Œå¡«å…¥è¡¨$E$è¡Œ&#x27;$)$&#x27;åˆ—ä¸­ã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;$F \rightarrow id$&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;æ£€æŸ¥$id$ï¼Œæ˜¯ç»ˆç»“ç¬¦ï¼Œæ•…ä¸‹ä¸€æ­¥çœ‹åˆ°$id$æ—¶ï¼Œå¯ä»¥é€‰æ‹©$E \rightarrow T E&#x27;$ï¼Œå¡«å…¥è¡¨$E$è¡Œ$id$åˆ—ä¸­ã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;$F$ä¸ä¼šä¸º$\epsilon$ï¼Œæ•…åˆ°æ­¤ç»“æŸ&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;$T$ä¸ä¼šä¸º$\epsilon$ï¼Œæ•…åˆ°æ­¤ç»“æŸ&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;è€ƒè™‘è¿‡æ¯ä¸ªéç»ˆç»“ç¬¦å¯¹åº”çš„äº§ç”Ÿå¼åï¼Œå¯¹åº”çš„è¿™ä¸€è¡Œé™¤äº†æœ€åä¸€åˆ—å°±å¡«å¥½äº†ï¼Œéç»ˆç»“ç¬¦å…¨éƒ¨è€ƒè™‘è¿‡åï¼Œè¿™æ•´ä¸ªè¡¨é™¤äº†æœ€åä¸€åˆ—å°±éƒ½å¡«å¥½äº†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æœ€åä¸€åˆ—çš„äº‹æƒ…æš‚æ—¶æŒ‰ä¸‹ä¸è¡¨ï¼Œæˆ‘ä»¬æ­¤æ—¶å·²ç»è‡ªå·±æ¨å‡ºäº†è¿™ä¸ªFirsté›†äº†ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;firstji&quot;&gt;Firsté›†&lt;&#x2F;h2&gt;
&lt;p&gt;åˆ°è¿™é‡Œï¼Œä½ å°±å·²ç»è‡ªå·±å‘æ˜å‡ºFirsté›†çš„å®šä¹‰ä¸æ±‚æ³•äº†ï¼š&lt;&#x2F;p&gt;
&lt;h3 id=&quot;ding-yi&quot;&gt;å®šä¹‰&lt;&#x2F;h3&gt;
&lt;p&gt;é¾™ä¹¦çš„å®šä¹‰é‡Œé¢æœ‰ä¸€å †æ•°å­¦ç¬¦å·ï¼Œå…¶å®è¯´åˆ°åº•å’Œæˆ‘ä¸Šé¢çš„å®šä¹‰å®Œå…¨ä¸€è‡´ã€‚&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;Define $FIRST(Î±)$, where $Î±$ is any string of grammar symbols, to be the set of terminals that begin strings derived from $Î±$. If $\alpha \stackrel{*}{\Rightarrow} \epsilon$, then $\epsilon$ is also in $FIRST(Î±)$.  â€”â€”  â€œCompilers: Principles, Techniques, and Tools, 2&#x2F;eâ€ &lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;å®šä¹‰$FIRST(Î±)$ï¼Œå…¶ä¸­$\alpha$æ˜¯ä¸€ä¸ªè¯­æ³•ç¬¦å·æ„æˆçš„ä»»æ„ä¸²ï¼Œä¸ºä¸€ç»„å¯ä»¥è¢«$\alpha$æ¨å¯¼å‡ºçš„ç»ˆç»“ç¬¦ä¸²çš„èµ·å§‹å­—ç¬¦çš„é›†åˆã€‚å¦‚æœ$\alpha \stackrel{*}{\Rightarrow} \epsilon$ï¼Œé‚£$\epsilon$ä¹Ÿåœ¨$FIRST(Î±)$ä¸­ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™ä¸å°±æ˜¯æˆ‘ä»¬ä¸Šé¢è¯´çš„â€œèƒ½ç”Ÿæˆçš„æ¯ä¸ªå¥å­ä¸­çš„ç¬¬ä¸€ä¸ªç¬¦å·â€æŒ‰ç…§æ¨å¯¼å¼å·¦ä¾§çš„éç»ˆç»“ç¬¦å…¨éƒ¨å¹¶èµ·æ¥çš„ç»“æœå—ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;qiu-fa&quot;&gt;æ±‚æ³•&lt;&#x2F;h3&gt;
&lt;p&gt;åŒç†ï¼Œæ•°å­¦ç¬¦å·â€¦â€¦&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;If X is a terminal, then $FIRST(X) = {X}$.&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;If X is a nonterminal and $X â†’ Y_1Y_2 ... Y_k$ is a production for some $k \ge 1$, then place &#x27;a&#x27; in $FIRST(X)$ if for some $i$, &#x27;a&#x27; is in $FIRST(Y_i)$, and $\epsilon$ is in all of $FIRST(Y_1), ..., FIRST(Y_{i â€“ 1})$; that is, $Y_1Y_2...Y_{i-1} \stackrel{*}{\Rightarrow} \epsilon$. &lt;&#x2F;p&gt;
&lt;p&gt;If $\epsilon$ is in $FIRST(Y_j)$ for all $j = 1, 2, ..., k$, then add $\epsilon$ to $FIRST(X)$. &lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;If $X \rightarrow \epsilon$ is a production, then add $\epsilon$ to $FIRST(X)$.&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;â€”â€” â€œCompilers: Principles, Techniques, and Tools, 2&#x2F;eâ€ &lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;è‹¥Xæ˜¯ç»ˆç»“ç¬¦ï¼Œåˆ™$FIRST(X) = {X}$&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;è‹¥Xæ˜¯éç»ˆç»“ç¬¦ï¼š&lt;&#x2F;p&gt;
&lt;p&gt;è‹¥$\epsilon$ åœ¨æ‰€æœ‰ $FIRST(Y_1), ..., FIRST(Y_{i â€“ 1})$ ä¸­ï¼Œåœ¨&#x27;a&#x27; åœ¨ $FIRST(Y_i)$ä¸­ã€‚åˆ™&#x27;a&#x27;ä¹Ÿåœ¨$FIRST(X)$ä¸­ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è‹¥å¯¹æ‰€æœ‰$j = 1, 2, ..., k$ï¼Œ$\epsilon$éƒ½åœ¨$FIRST(Y_j)$ä¸­ï¼Œåˆ™$\epsilon$ä¹Ÿåœ¨$FIRST(X)$ä¸­ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;li&gt;
&lt;p&gt;è‹¥æœ‰ç”Ÿæˆå¼$X\rightarrow \epsilon$ï¼Œåˆ™$\epsilon$ä¹Ÿåœ¨$FIRST(X)$ä¸­ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;å’Œä¸Šé¢æˆ‘ä»¬è‡ªå·±æ¨å‡ºçš„æ±‚æ³•ç›¸æ¯”ä¹Ÿéå¸¸ç›¸ä¼¼ï¼Œä¸è¿‡æ˜¯æŒ‰ç…§æ¨å¯¼å¼å·¦ä¾§çš„éç»ˆç»“ç¬¦å…¨éƒ¨å¹¶èµ·æ¥çš„ç»“æœã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è€Œè¿™ç§æ±‚æ³•ï¼Œæ˜¾ç„¶æ˜¯å¯ä»¥ç”¨åŠ¨æ€è§„åˆ’æ³•åŠ é€Ÿçš„ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;zui-hou-yi-lie&quot;&gt;æœ€åä¸€åˆ—&lt;&#x2F;h2&gt;
&lt;p&gt;é‚£è¿™ä¸ªæœ€åä¸€åˆ—æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ&lt;&#x2F;p&gt;
&lt;p&gt;ä¹Ÿå¾ˆç®€å•ï¼Œå¦‚æœä»èµ·å§‹ç¬¦å·å¼€å§‹ï¼Œåœ¨ç»è¿‡æ•°æ¬¡æ¨å¯¼ä¹‹åï¼Œåœ¨ç”±æŸä¸ªéç»ˆç»“ç¬¦ä½œä¸ºæœ€å³è¾¹çš„éç»ˆç»“ç¬¦æ—¶æ¨å¯¼å¯ä»¥ä½¿æ•´ä¸ªæ–‡æ³•çš„åˆ†æç»“æŸï¼Œè¿™ä¸ªéç»ˆç»“ç¬¦å¯¹åº”æ¨å‡º$\epsilon$çš„æ¨å¯¼å¼å°±èƒ½å¡«åœ¨æœ€åä¸€åˆ—å¯¹åº”çš„è¡Œä¸­ã€‚&lt;sup class=&quot;footnote-reference&quot;&gt;&lt;a href=&quot;#1&quot;&gt;1&lt;&#x2F;a&gt;&lt;&#x2F;sup&gt;&lt;&#x2F;p&gt;
&lt;p&gt;é‚£ä¹ˆæ€ä¹ˆæ‰¾å‡ºè¿™äº›â€œä»èµ·å§‹ç¬¦å·å¼€å§‹ï¼Œåœ¨ç»è¿‡æ•°æ¬¡æ¨å¯¼&lt;sup class=&quot;footnote-reference&quot;&gt;&lt;a href=&quot;#2&quot;&gt;2&lt;&#x2F;a&gt;&lt;&#x2F;sup&gt;ä¹‹åï¼Œä½œä¸ºæœ€å³è¾¹çš„éç»ˆç»“ç¬¦æ—¶æ¨å¯¼å¯ä»¥ä½¿æ•´ä¸ªæ–‡æ³•çš„åˆ†æç»“æŸâ€çš„éç»ˆç»“ç¬¦å·å‘¢ï¼Ÿ&lt;&#x2F;p&gt;
&lt;p&gt;é¦–å…ˆæˆ‘ä»¬å¯ä»¥çœ‹å¼€å§‹ç¬¦å·æœ€å³è¾¹çš„ç¬¦å·ï¼Œè¿™ä¸ªç¬¦å·ä¸€å®šç¬¦åˆæˆ‘ä»¬çš„è¦æ±‚ï¼Œåœ¨è¿™é‡Œè¿™ä¸ªç¬¦å·æ˜¯$E &#x27;$ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¦‚æœå¯¹æŸä¸ªç¬¦åˆæ¡ä»¶çš„ç¬¦å·$Z$å’Œå¦å¤–æŸä¸ªï¼ˆå•ä¸ªï¼‰ç¬¦å·$X$ï¼Œæœ‰äº§ç”Ÿå¼$Z\rightarrow YX$æˆ–$Z\rightarrow YXW$ï¼Œå…¶ä¸­$W \stackrel{*}{\Rightarrow} \epsilon$ï¼Œåˆ™$X$ä¹Ÿç¬¦åˆè¦æ±‚ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä»æˆ‘ä»¬çš„ä¾‹å­ä¸Šæ¥çœ‹ï¼Œå°†ä¸Šé¢çš„$Z$å¯ä»¥å¸¦å…¥$E&#x27;$å’Œ$E$ï¼Œæœ‰ï¼š&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;$E\rightarrow TE&#x27;$ï¼Œè€Œå­˜åœ¨$E&#x27; \rightarrow \epsilon$ï¼Œæ•…$T$ä¹Ÿç¬¦åˆè¦æ±‚ï¼Œä½†ä¸èƒ½æ¨å‡º$\epsilon$&lt;&#x2F;li&gt;
&lt;li&gt;$T \rightarrow* FT&#x27;$ï¼Œæ•…$T&#x27; $ä¹Ÿç¬¦åˆè¦æ±‚ï¼Œå°†$T&#x27; \rightarrow \epsilon$å¡«å…¥é€‚å½“ä½ç½®&lt;&#x2F;li&gt;
&lt;li&gt;$T \rightarrow* FT&#x27;$ï¼Œè€Œå­˜åœ¨$T&#x27; \rightarrow \epsilon$ï¼Œæ•…$F$ä¹Ÿç¬¦åˆè¦æ±‚ï¼Œä½†$F$ä¸èƒ½æ¨å‡º$\epsilon$&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h2 id=&quot;followji&quot;&gt;Followé›†&lt;&#x2F;h2&gt;
&lt;h3 id=&quot;ding-yi-1&quot;&gt;å®šä¹‰&lt;&#x2F;h3&gt;
&lt;p&gt;Followé›†çš„å®šä¹‰åœ¨æˆ‘ä»¬ä¸Šé¢çš„æ±‚æ³•çš„åŸºç¡€ä¸Šè¿›è¡Œäº†æ‰©å±•ï¼š&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;â€œDefine $FOLLOW(A)$, for nonterminal A, to be the set of terminals $a$ that can appear immediately to the right of A in some sentential form; that is, the set of terminals a such that there exists a derivation of the form $S \stackrel{*}{\Rightarrow} \alpha Aa\beta$, for some $\alpha$ and $\beta$â€&lt;&#x2F;p&gt;
&lt;p&gt;â€”â€”  â€œCompilers: Principles, Techniques, and Tools, 2&#x2F;eâ€ &lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;Followé›†å°±æ˜¯åœ¨æ–‡æ³•çš„æ‰€æœ‰å¥å­ä¸­ï¼Œå¯èƒ½å‡ºç°åœ¨â€œç”±éç»ˆç»“ç¬¦Aç”Ÿæˆçš„éƒ¨åˆ†â€ä¹‹åçš„ç»ˆç»“ç¬¦çš„é›†åˆã€‚è€Œä¸Šè¿°ä¾‹å­æ‰€æ±‚çš„å…¶å®å°±æ˜¯è¿™é‡Œçš„â€œç»ˆç»“ç¬¦â€ä¸ºâ€œè¾“å…¥ç»“æŸæ ‡è®°â€çš„ç‰¹ä¾‹ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;qiu-fa-1&quot;&gt;æ±‚æ³•&lt;&#x2F;h3&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;Place $\$$ in $FOLLOW(S)$, where S is the start symbol, and $ is the input right endmarker.&lt;&#x2F;li&gt;
&lt;li&gt;If there is a production $A â†’ Î±BÎ²$, then everything in $FIRST(Î²)$ except $\epsilon$ is in $FOLLOW(B)$.&lt;&#x2F;li&gt;
&lt;li&gt;If there is a production $A â†’ Î±B$, or a production $A â†’ Î±BÎ²$, where $FIRST(Î²)$ contains $\epsilon$, then everything in $FOLLOW(A)$is in $FOLLOW(B)$.
â€”â€” â€œCompilers: Principles, Techniques, and Tools, 2&#x2F;eâ€&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;&#x2F;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;è¾“å…¥ç»“æŸæ ‡è®°ï¼ˆé¾™ä¹¦ä¸­ç§°ä¸º$\$$ï¼‰åœ¨$FOLLOW(S)$ä¸­&lt;&#x2F;li&gt;
&lt;li&gt;è‹¥æœ‰$A â†’ Î±BÎ²$ï¼Œåˆ™ $FIRST(Î²)$ ä¸­æ‰€æœ‰ä¸ä¸º $\epsilon$ çš„å…ƒç´ éƒ½åœ¨ $FOLLOW(B)$ ä¸­&lt;&#x2F;li&gt;
&lt;li&gt;è‹¥æœ‰$A â†’ Î±B$ï¼Œæˆ– $A â†’ Î±BÎ²$ï¼Œå…¶ä¸­ $FIRST(Î²)$ åŒ…å« $\epsilon$ åˆ™ $FOLLOW(A)$ ä¸­çš„æ‰€æœ‰å…ƒç´ ä¹Ÿåœ¨ $FOLLOW(B)$ ä¸­ã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;å’Œæˆ‘ä»¬ä¸Šé¢çš„ä¾‹å­å”¯ä¸€å·®åˆ«åœ¨äºç¬¬2æ¡ï¼Œä¸è¿‡ä¹Ÿå¾ˆå¥½æƒ³ï¼Œ$FIRST(Î²)$å°±æ˜¯$\beta$èƒ½æ¨å‡ºçš„ç¬¬ä¸€ä¸ªéç»ˆç»“ç¬¦çš„æ‰€æœ‰å¯èƒ½å–å€¼çš„é›†åˆï¼Œè€Œ$B$ä¸$Î²$æ˜¯ç´§æŒ¨ç€çš„ï¼Œ$B$çš„ä¸‹ä¸€ä¸ªå…ƒç´ å°±æ˜¯$\beta$çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ˆ$\epsilon$é™¤å¤–ï¼‰ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;zong-jie&quot;&gt;æ€»ç»“&lt;&#x2F;h2&gt;
&lt;p&gt;æœ‰äº†ä¸Šé¢è®²çš„å¡«è¿™ç±»è¡¨çš„æ–¹æ³•ä¹‹åï¼Œå¯¹äºå¡«å®Œåæ¯ä¸ªæ ¼å­è‡³å¤šåªæœ‰ä¸€ä¸ªæ¨å¯¼å¼çš„æ–‡æ³•ï¼Œæˆ‘ä»¬å°±å¯ä»¥å†™å‡ºå®Œå…¨ä¸å«æœ‰å›æœ”çš„è‡ªé¡¶å‘ä¸‹æ–‡æ³•åˆ†æå™¨ï¼ˆé€’å½’æˆ–è€…éé€’å½’å‡å¯ï¼‰ï¼Œè¿™ç±»æ–‡æ³•ä¹Ÿå°±æ˜¯$LL(1)$æ–‡æ³•ã€‚å½“ç„¶å¦‚æœå°†è¡¨å¤´ä¸­çš„ä¸€ä¸ªç¬¦å·å˜ä¸ºå¤šä¸ªç¬¦å·çš„ç»„åˆï¼Œè¿™ç§æ–¹æ³•ä¹Ÿå¯ä»¥æ¨å¹¿åˆ°$LL(N)$æ–‡æ³•ä¸Šã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åŒæ—¶æˆ‘ä»¬ä¹Ÿç»ˆäºæ˜ç™½äº†$FIRST$é›†å’Œ$FOLLOW$é›†çš„æ±‚æ³•ï¼Œè¿™ä¸¤ä¸ªé›†åˆåœ¨ä¹‹åçš„ç§»è¿›-è§„çº¦åˆ†æä¸­ä¹Ÿæœ‰ç”¨ã€‚&lt;&#x2F;p&gt;
&lt;div class=&quot;footnote-definition&quot; id=&quot;1&quot;&gt;&lt;sup class=&quot;footnote-definition-label&quot;&gt;1&lt;&#x2F;sup&gt;
&lt;p&gt;è¿™é‡Œå¯èƒ½è¦è‡ªå·±æ„Ÿè§‰ä¸€ä¸‹ï¼Œå¦‚æœæœ‰äººæœ‰æ›´å¥½çš„è®²æ³•ï¼Œè¯·åœ¨è¯„è®ºåŒºç•™è¨€&lt;&#x2F;p&gt;
&lt;&#x2F;div&gt;
&lt;div class=&quot;footnote-definition&quot; id=&quot;2&quot;&gt;&lt;sup class=&quot;footnote-definition-label&quot;&gt;2&lt;&#x2F;sup&gt;
&lt;p&gt;æ³¨æ„è¿™é‡Œâ€œæ•°æ¬¡â€å«0æ¬¡ï¼Œæ‰€ä»¥èµ·å§‹ç¬¦å·è‡ªç„¶ç¬¦åˆè¦æ±‚&lt;&#x2F;p&gt;
&lt;&#x2F;div&gt;
</content>
	</entry>
	<entry xml:lang="zh">
		<title>Parsing â€¢ æœ€ç®€å•çš„ Parser å†™æ³•â€”â€”å«å›æœ”çš„é€’å½’è‡ªé¡¶è€Œä¸‹åˆ†æ</title>
		<published>2020-05-17T16:30:31.045+00:00</published>
		<updated>2020-05-17T16:30:31.045+00:00</updated>
		<link href="https://longfangsong.github.io/parsing-combinator/" type="text/html"/>
		<id>https://longfangsong.github.io/parsing-combinator/</id>
		<content type="html">&lt;p&gt;å¦‚æœä½ å¬äº†è€å¸ˆä¸Šè¯¾è®²çš„é‚£ä¸€å¤§å¨æ ¹æœ¬æ²¡äººå¬å¾—æ‡‚çš„parseæ–¹æ³•ä¹‹åè®¤ä¸ºè‡ªå·±è¿™è¾ˆå­éƒ½é€ ä¸å‡ºç¼–è¯‘å™¨äº†ï¼Œé‚£ä¹ˆæœ¬æ–‡ä»‹ç»å«å›æœ”çš„é€’å½’è‡ªé¡¶è€Œä¸‹åˆ†ææ³•æ­£æ˜¯ä½ æ‰€éœ€è¦çš„ï¼Œè¿™ç§æ–¹å¼éå¸¸å®¹æ˜“æƒ³åˆ°ï¼Œä¹Ÿéå¸¸å®¹æ˜“ç¼–å†™ï¼Œé™¤äº†æ–‡æ³•åˆ†æä¹‹å¤–ï¼Œå¯¹äºè¯æ³•åˆ†æï¼Œè¿™ä¸ªæ–¹æ³•ä¹Ÿå¯ä»¥ä¸€æ‰‹åŒ…åŠï¼Œè€Œä¸”è¶³ä»¥åº”ä»˜ç»å¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€çš„æ„é€ ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æˆ‘ä»¬å…ˆç»“åˆä¸€ä¸ªä¾‹å­æ¥çœ‹ä¸€ä¸‹è¿™ç©æ„æ€ä¹ˆä½¿çš„ï¼š&lt;&#x2F;p&gt;
&lt;h2 id=&quot;zhu-yao-si-xiang&quot;&gt;ä¸»è¦æ€æƒ³&lt;&#x2F;h2&gt;
&lt;p&gt;å«å›æœ”çš„é€’å½’è‡ªé¡¶è€Œä¸‹åˆ†ææ³•çš„ä¸»è¦æ€æƒ³æ˜¯ï¼šå°†æ¯ä¸ªéç»ˆç»“ç¬¦ï¼ˆæ¨å¯¼å¼å·¦è¾¹ï¼‰çš„åˆ†æå†™æˆä¸€ä¸ªå‡½æ•°ï¼Œå°†å³ä¾§çš„å†…å®¹ç»„åˆå†™åœ¨å‡½æ•°ä½“é‡Œé¢ï¼Œå¦‚æœè¿™ä¸ªå‡½æ•°ä»å·¦å‘å³åŒ¹é…æŸæ®µä»£ç å­—ç¬¦ä¸²æˆåŠŸï¼Œå°±è¿”å›å­˜æ”¾äº†å¯¹åº”ä¿¡æ¯çš„ç»“æ„ä½“å’Œå‰©ä¸‹çš„å­—ç¬¦ä¸²ï¼Œå¦åˆ™è¿”å›Errorã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;shi-jian&quot;&gt;å®è·µ&lt;&#x2F;h2&gt;
&lt;p&gt;æˆ‘ä»¬è¦åˆ†æçš„æ–‡æ³•æ˜¯ï¼š
$$
\displaylines {
Expression \rightarrow Ident | Constant | InBrackets \mid Expression * Expression | Expression + Expression \\
InBrackets \rightarrow &#x27;(&#x27; Expression&#x27;)&#x27; \\
Ident \rightarrow [a-zA-Z][a-zA-Z0-9]* \\
Constant \rightarrow [0-9]*
}
$$&lt;&#x2F;p&gt;
&lt;p&gt;ä¸Šé¢çš„ä¾‹å­å¯ä»¥å†™æˆå››ä¸ªå‡½æ•°&lt;sup class=&quot;footnote-reference&quot;&gt;&lt;a href=&quot;#1&quot;&gt;1&lt;&#x2F;a&gt;&lt;&#x2F;sup&gt;ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;fn &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;expression&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;code&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: string) -&amp;gt; (Expresion, string) | Error;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;fn &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;in_brackets&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;code&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: string) -&amp;gt; (InBrackets, string) | Error;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;fn &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;ident&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;code&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: string) -&amp;gt; (Ident, string) | Error;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;fn &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;constant&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;code&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: string) -&amp;gt; (Constant, string) | Error;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;é‚£ä¹ˆå‡½æ•°ä½“æ€ä¹ˆå†™å‘¢ï¼Ÿ&lt;&#x2F;p&gt;
&lt;h3 id=&quot;alt-many0he-tag&quot;&gt;&lt;code&gt;alt&lt;&#x2F;code&gt;ã€&lt;code&gt;many0&lt;&#x2F;code&gt;å’Œ&lt;code&gt;tag&lt;&#x2F;code&gt;&lt;&#x2F;h3&gt;
&lt;p&gt;æˆ‘ä»¬é¦–å…ˆé’ˆå¯¹&lt;code&gt;|&lt;&#x2F;code&gt;å’Œ&lt;code&gt;*&lt;&#x2F;code&gt;ï¼Œå®šä¹‰ä¸¤ä¸ªå‡½æ•°ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;&#x2F;&#x2F; æ¥å—ä¸€ç»„parserå‡½æ•°å’Œå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œè¿”å›å…¶ä¸­æœ€æ—©æˆåŠŸåŒ¹é…çš„parserçš„åŒ¹é…ç»“æœï¼Œç›¸å½“äº|
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;fn &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;alt&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;lt;R&amp;gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;parsers&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: Vec&amp;lt;Fn(string) -&amp;gt; (R, string) &lt;&#x2F;span&gt;&lt;span style=&quot;background-color:#bf616a;color:#2b303b;&quot;&gt;|&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; Error&amp;gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: string) -&amp;gt; (R, string) | Error {
	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; parser in parsers {
		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;parser&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(input) != Error {
			&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;parser&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(input)
		}
	}
	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; Error
}

&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;&#x2F;&#x2F; æ¥å—ä¸€ä¸ªparserå‡½æ•°ï¼Œè¿”å›å…¶é‡å¤åŒ¹é…0æ¬¡ä»¥ä¸Šçš„ç»“æœï¼Œç›¸å½“äº*
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;fn &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;many0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;parser&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: Fn(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;string&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;) -&amp;gt; (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;R&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;string&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;) | Error, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: string) -&amp;gt; (Vec&amp;lt;R&amp;gt;, string) | Error {
	result = new Vec();
	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;while &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;parser&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(input) != error {
		r, input = &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;parser&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(input)
		result.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;push&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(r)
	}
	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(result, input)
}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;åœ¨å®ç°ä¸€ä¸ª&lt;code&gt;tag&lt;&#x2F;code&gt;å‡½æ•°æ¥è¯†åˆ«æŸäº›æŒ‡å®šçš„å­—é¢é‡&lt;sup class=&quot;footnote-reference&quot;&gt;&lt;a href=&quot;#2&quot;&gt;2&lt;&#x2F;a&gt;&lt;&#x2F;sup&gt;ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;fn &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;tag&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;tagname&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: string, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;code&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: string) -&amp;gt; (string, string) | Error {
	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; code.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;starts_with&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(tagname) {
		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; tagname, code[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;len&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(tagname):]
	} &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;else &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;{
		&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; Error
	}
}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ç„¶åå°±å¯ä»¥å®ç°ä¸Šé¢çš„å‡ ä¸ªå‡½æ•°äº†ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;fn &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;mul&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;code&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: string) -&amp;gt; (Expression, string) | Error {
	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;&#x2F;&#x2F; è¯†åˆ«å·¦æ“ä½œæ•°, ? ä»£è¡¨å¦‚æœå®ƒå‰é¢çš„å‡½æ•°è¿”å›Errorï¼Œåˆ™å½“å‰å‡½æ•°ä¹Ÿè¿”å›Error
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;	lhs, rest = &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;expression&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(code)?
	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;&#x2F;&#x2F; è¯†åˆ«*å·
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;	op, rest = &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;tag&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;, rest)?
	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;&#x2F;&#x2F; è¯†åˆ«å³æ“ä½œæ•°
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;	rhs, rest = &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;expression&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(rest)?
	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; Expression {lhs, &amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;, rhs}
}

&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;&#x2F;&#x2F; add å‡½æ•°åŒç†ï¼Œ*å˜ä¸º+

&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;fn &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;expression&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;code&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: string) -&amp;gt; (Expresion, string) | Error {
	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#65737e;&quot;&gt;&#x2F;&#x2F; æ³¨æ„è¿™é‡Œçš„é¡ºåºï¼Œä¼˜å…ˆçº§è¶Šä½æ“ä½œç¬¦å¯¹åº”çš„å‡½æ•°è¶Šè¦åœ¨å‰é¢
	&#x2F;&#x2F; ä¸ç†è§£çš„è¯è€ƒè™‘ä¸€ä¸‹1+2*3ä¼šæ€ä¹ˆè¢«parseå°±çŸ¥é“äº†
	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;alt&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;([
		add,
		mul,
		ident,
		constant,
		in_brackets,
	], code)
}
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;fn &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;in_brackets&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;code&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: string) -&amp;gt; (InBrackets, string) | Error {
	bracket, rest = &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;tag&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;,code)?
	expr, rest = &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;expression&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(rest)?
	bracket, rest = &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;tag&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;,code)?
	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; InBrackets(expr), rest
}
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;fn &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;ident&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;code&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: string) -&amp;gt; (Ident, string) | Error {
	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;alt&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;tag&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;a&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;, code), &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;tag&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;b&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;, code),........) 
}
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;fn &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;digit&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;code&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: string) -&amp;gt; (string, string) | Error {
	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;alt&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;tag&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;, code), &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;tag&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#a3be8c;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;&amp;quot;, code),........) 
}
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;fn &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;constant&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;code&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: string) -&amp;gt; (Constant, string) | Error {
	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;many0&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(digit, code)
}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;h3 id=&quot;zuo-di-gui&quot;&gt;å·¦é€’å½’&lt;&#x2F;h3&gt;
&lt;p&gt;å®é™…å†™å‡ºæ¥ä¹‹åä¼šå‘ç°è¿™é‡Œæœ‰ä¸€ä¸ªé—®é¢˜ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;fn &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;expression&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;code&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: string) -&amp;gt; (Expresion, string) | Error {
	&lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;alt&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;([
		add,
		mul,
		ident,
		constant,
		in_brackets,
	], code)
}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å…¶ä¸­çš„&lt;code&gt;mul&lt;&#x2F;code&gt;ï¼Œé—´æ¥è°ƒç”¨äº†&lt;code&gt;expression(code)&lt;&#x2F;code&gt;ï¼Œè€Œè¿™æ—¶åˆä¼šåè¿‡å»è°ƒç”¨&lt;code&gt;mul(code)&lt;&#x2F;code&gt;ï¼Œä¸”å…¶ä¸­çš„&lt;code&gt;code&lt;&#x2F;code&gt;å‚æ•°ä¸€ç›´æ²¡æœ‰å˜åŒ–ï¼Œ&lt;code&gt;add&lt;&#x2F;code&gt;ä¹Ÿæœ‰è¿™ä¸ªé—®é¢˜ï¼Œè¿™æ ·åœ¨ç¨‹åºä¸­å°±ä¼šé€ æˆæ— é™é€’å½’ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆè¯¾ä¸Šè¯´åœ¨åšè‡ªé¡¶è€Œä¸‹æ–‡æ³•åˆ†æçš„æ—¶å€™è¦å…ˆæ¶ˆé™¤å·¦é€’å½’çš„åŸå› ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ€ä¹ˆæ¶ˆé™¤ä¹Ÿå¾ˆç®€å•ï¼Œæˆ‘ä»¬è¦è®©&lt;code&gt;mul&lt;&#x2F;code&gt;å’Œ&lt;code&gt;add&lt;&#x2F;code&gt;è‡³å°‘ä»&lt;code&gt;code&lt;&#x2F;code&gt;ä¸­â€œæ¶ˆè€—â€ä¸€ä¸ªä¼˜å…ˆçº§æ¯”å…¶è‡ªèº«é«˜çš„expressionï¼Œå³ï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;fn higher_than_mul(code: string) -&amp;gt; (Expression, string) | Error {
	return alt([
		ident,
		constant,
		in_brackets
	], code)
}

fn mul(code: string) -&amp;gt; (Expression, string) | Error {
	&#x2F;&#x2F; è¯†åˆ«å·¦æ“ä½œæ•°, æ¶ˆè€—æ‰ä¸€ä¸ªä¼˜å…ˆçº§é«˜äº*ç»“æœçš„è¯­æ³•å…ƒç´ 
	lhs, rest = higher_than_mul(code)?
	&#x2F;&#x2F; è¯†åˆ«*å·
	op, rest = tag(&amp;quot;*&amp;quot;, rest)?
	&#x2F;&#x2F; è¯†åˆ«å³æ“ä½œæ•°
	rhs, rest = expression(rest)?
	return Expression {lhs, &amp;quot;*&amp;quot;, rhs}
}

&#x2F;&#x2F; add åŒç†ï¼Œä½ åº”è¯¥è‡ªå·±èƒ½æƒ³åˆ°çš„
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å®é™…ä¸Šå°±ç›¸å½“äºå°†Expressionéƒ¨åˆ†çš„æ–‡æ³•æ”¹æˆäº†ï¼š
$$
\displaylines {
Expression \rightarrow Add | Mul | Ident | Constant | InBrackets \\
Add \rightarrow HigherThanAdd + Expression \\
Mul \rightarrow HigherThanMul * Expression \\
HigherThanMul \rightarrow Ident | Constant|InBrackets \\
HigherThanAdd \rightarrow Mul | HighterThanMul
}
$$
å’Œä¹¦ä¸Šè®²çš„æ¶ˆé™¤å·¦é€’å½’çš„æ–¹æ¡ˆæ˜¯ä¸æ˜¯å¾ˆåƒï¼Ÿ&lt;&#x2F;p&gt;
&lt;p&gt;è¿™æ ·ä¸€ä¸ªç®€å•è¡¨è¾¾å¼çš„parserå°±å®Œæˆäº†ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;you-shi-yu-bu-zu&quot;&gt;ä¼˜åŠ¿ä¸ä¸è¶³&lt;&#x2F;h2&gt;
&lt;h3 id=&quot;you-shi&quot;&gt;ä¼˜åŠ¿&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™ç§parserçš„ä¼˜åŠ¿æœ‰ï¼š&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;å®¹æ˜“ç†è§£ä¸å®ç°&lt;&#x2F;li&gt;
&lt;li&gt;å†™å‡ºçš„ä»£ç æ˜¯å®Œå…¨å¯è¯»å¯è°ƒè¯•çš„&lt;&#x2F;li&gt;
&lt;li&gt;è¿™ç§åˆ†æå™¨å¯ä»¥åˆ†æ $LL(k)$ æ–‡æ³•ï¼Œåœ¨å®è·µä¸­ï¼Œè¿™ä¸€åˆ†æå™¨å¯ä»¥åº”ç”¨äºå‡ ä¹æ‰€æœ‰å¯èƒ½ä¼šç¢°åˆ°çš„æ–‡æ³•ï¼Œå½“ç„¶ï¼Œé™¤äº†C++ä¹‹å¤–ï¼ŒC++ä¸æ˜¯$CFG$â€¦â€¦ã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h3 id=&quot;bu-zu&quot;&gt;ä¸è¶³&lt;&#x2F;h3&gt;
&lt;p&gt;è¿™ç§parserçš„ä¸è¶³æœ‰ï¼š&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;æ•ˆç‡é—®é¢˜ï¼Œå›æœ”å¯èƒ½ä¼šå¸¦æ¥ä¸€å®šçš„æ€§èƒ½é—®é¢˜ï¼Œå› æ­¤å¯èƒ½ä¸é€‚ç”¨äºä¸€äº›æå…¶è¦æ±‚æ€§èƒ½çš„åœºåˆ&lt;sup class=&quot;footnote-reference&quot;&gt;&lt;a href=&quot;#3&quot;&gt;3&lt;&#x2F;a&gt;&lt;&#x2F;sup&gt;&lt;&#x2F;li&gt;
&lt;li&gt;ä¸€èˆ¬æ¥è¯´ç”Ÿæˆçš„æ‰€æœ‰è¿ç®—ç¬¦éƒ½æ˜¯å³ç»“åˆçš„ï¼Œä¸Šé¢çš„ä¾‹å­ç”±äºåŠ æ³•å’Œä¹˜æ³•éƒ½æœ‰äº¤æ¢å¾‹æ‰€ä»¥ä¹Ÿæ²¡å…³ç³»ï¼Œä½†æ˜¯å‡æ³•å’Œé™¤æ³•å°±ä¼šå‡ºç°é—®é¢˜ï¼Œéœ€è¦åœ¨ AST ä¸Šåš hack è§£å†³ï¼Œhack çš„ä¸€ä¸ªæ–¹æ¡ˆå¦‚ä¸‹ï¼š
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å°†æ–‡æ³•çš„ç›¸åº”éƒ¨åˆ†æ”¹å†™æˆï¼š
$$
\displaylines {
Add \rightarrow HigherThanAdd\ (+ HigherThanAdd)* \\
Mul \rightarrow HigherThanMul\ (* HigherThanMul)* \\
}
$$&lt;&#x2F;p&gt;
&lt;p&gt;ç„¶åå°† parse å¾—åˆ°çš„ä¸œè¥¿ç”¨å¦‚ä¸‹æ–¹æ³•è½¬æ¢ï¼ˆæŠ˜å ï¼‰ä¸º ASTï¼š&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#2b303b;&quot;&gt;
&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;fn &lt;&#x2F;span&gt;&lt;span style=&quot;color:#8fa1b3;&quot;&gt;to_ast&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;first&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: RValue, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#bf616a;&quot;&gt;rest&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;: Vec&amp;lt;(String, RValue)&amp;gt;) -&amp;gt; BinOp {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;let mut&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt; current_lhs = first;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#b48ead;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;(op, value) in rest.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;into_iter&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;() {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;      current_lhs = BinOp {
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;          operator: op,
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;          lhs: Box::new(current_lhs),
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;          rhs: Box::new(value),
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;      }
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;      .&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;into&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;()
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;  }
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;  current_lhs.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;try_into&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#96b5b4;&quot;&gt;unwrap&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;()
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c0c5ce;&quot;&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;div class=&quot;footnote-definition&quot; id=&quot;1&quot;&gt;&lt;sup class=&quot;footnote-definition-label&quot;&gt;1&lt;&#x2F;sup&gt;
&lt;p&gt;æœ¬æ–‡ä¸­çš„ä»£ç å‡ä¸ºä¼ªä»£ç ï¼Œè¿”å›ç±»å‹ä¹Ÿä¸å¤ªä¸¥è°¨ï¼ˆå¦‚æœä½ ä¸€å®šè¦æ·±ç©¶çš„è¯ï¼Œé‚£ä¹ˆå¯ä»¥æŠŠå®ƒä»¬çœ‹ä½œæ˜¯åå˜çš„ï¼‰ï¼Œå®é™…å®ç°å¯ä»¥å‚è€ƒ&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;Geal&#x2F;nom&quot;&gt;Geal&#x2F;nom&lt;&#x2F;a&gt;åŠ&lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;longfangsong&#x2F;tiny-nom&quot;&gt;æˆ‘å¯¹å…¶çš„ç®€åŒ–å®ç°&lt;&#x2F;a&gt;ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;div&gt;
&lt;div class=&quot;footnote-definition&quot; id=&quot;2&quot;&gt;&lt;sup class=&quot;footnote-definition-label&quot;&gt;2&lt;&#x2F;sup&gt;
&lt;p&gt;ä½ å¯ä»¥è®¤ä¸ºtagæ˜¯ç”¨æ¥è¯†åˆ«â€œç»ˆç»“ç¬¦â€çš„&lt;&#x2F;p&gt;
&lt;&#x2F;div&gt;
&lt;div class=&quot;footnote-definition&quot; id=&quot;3&quot;&gt;&lt;sup class=&quot;footnote-definition-label&quot;&gt;3&lt;&#x2F;sup&gt;
&lt;p&gt;ä¸€èˆ¬çš„ç¼–è¯‘å™¨ä¸­ï¼Œæ–‡æ³•åˆ†æå™¨çš„æ€§èƒ½å…¶å®æ˜¯æ— éœ€é¦–å…ˆè€ƒè™‘çš„ï¼ˆåç«¯æ¯ä¸ªæ­¥éª¤çš„è€—æ—¶å¸¸å¸¸æ˜¯æ•´ä¸ªå‰ç«¯çš„è€—æ—¶çš„åå€ç”šè‡³ç™¾å€ä¹‹å¤šï¼‰ï¼Œä½†åœ¨éƒ¨åˆ†åœºåˆæ¯”å¦‚æ•°æ®åº“ä¸­SQLçš„è§£é‡Šä¸­ï¼Œè¾ƒæ…¢çš„æ–‡æ³•åˆ†æå™¨å¯èƒ½ä¼šå¸¦æ¥æ€§èƒ½ç“¶é¢ˆã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;div&gt;
</content>
	</entry>
	<entry xml:lang="zh">
		<title>Hello zola!</title>
		<published>2020-01-02T15:00:00+00:00</published>
		<updated>2020-01-02T15:00:00+00:00</updated>
		<link href="https://longfangsong.github.io/hello-zola/" type="text/html"/>
		<id>https://longfangsong.github.io/hello-zola/</id>
		<content type="html">&lt;p&gt;I wrote a lot of blogs, and I used to use hexo as a static site generator, it kind of work well, but I&#x27;m afraid with more and more posts I have, the speed of hexo become unacceptable, moreover, the plugin system works well if I add only one plugin, but become odd if there&#x27;re many plugins work together:&lt;&#x2F;p&gt;
&lt;p&gt;Here&#x27;s an image from my origin blog, powered by hexo:&lt;&#x2F;p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https:&#x2F;&#x2F;longfangsong.github.io&#x2F;hello-zola&#x2F;ouch.png&quot; alt=&quot;ouch&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;Ouch!&lt;&#x2F;p&gt;
&lt;p&gt;And then, since I&#x27;m a big fan of Rust, I found zola, though this tool is not as complete as hexo, I can use its shortcodes feature to embed different of things to my blog!&lt;&#x2F;p&gt;
&lt;p&gt;For example, terminal record:&lt;&#x2F;p&gt;
&lt;script id=&quot;asciicast-9EhVw8rujVjpPVBV5kQMdAIHe&quot; src=&quot;https:&#x2F;&#x2F;asciinema.org&#x2F;a&#x2F;9EhVw8rujVjpPVBV5kQMdAIHe.js&quot; async&gt;&lt;&#x2F;script&gt;
&lt;p&gt;Which I never imagined when using hexo!&lt;&#x2F;p&gt;
&lt;p&gt;And zola do make it easier to customize a theme, in hexo, if I want to customize a theme, I have to fork it, and do some edit on it. But in zola I can do this easily by override a template block.&lt;&#x2F;p&gt;
&lt;p&gt;But there remains some problems:&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;The &lt;code&gt;translations&lt;&#x2F;code&gt; in a theme cannot be used in the site based on that theme. Hope will fixed after &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;getzola&#x2F;zola&#x2F;pull&#x2F;1148&quot;&gt;#1148&lt;&#x2F;a&gt;.&lt;&#x2F;li&gt;
&lt;li&gt;Cannot paginate over another section.&lt;sup class=&quot;footnote-reference&quot;&gt;&lt;a href=&quot;#1&quot;&gt;1&lt;&#x2F;a&gt;&lt;&#x2F;sup&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;Anyway, I&#x27;ll absolutly move my blog to zola.&lt;&#x2F;p&gt;
&lt;p&gt;Also I&#x27;m looking forward to contribute something to this project, and I started with &lt;a href=&quot;https:&#x2F;&#x2F;github.com&#x2F;getzola&#x2F;themes&#x2F;pull&#x2F;49&quot;&gt;migrating a theme&lt;&#x2F;a&gt;, which I&#x27;ll also used on my blog.&lt;&#x2F;p&gt;
&lt;p&gt;Hope zola will become a better project in the future!&lt;&#x2F;p&gt;
&lt;div class=&quot;footnote-definition&quot; id=&quot;1&quot;&gt;&lt;sup class=&quot;footnote-definition-label&quot;&gt;1&lt;&#x2F;sup&gt;
&lt;p&gt;Or maybe I misunderstood the &lt;code&gt;pagination&lt;&#x2F;code&gt; feature ...&lt;&#x2F;p&gt;
&lt;&#x2F;div&gt;
</content>
	</entry>
</feed>
